{"version":3,"file":"670.aa7648e9baa0c2dd5e5a.js","mappings":"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","sources":["webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/category_items/category_items.style.scss"],"sourcesContent":["import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass CategoryItems_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'category_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialog2: false,\r\n      modalDialog3: false,\r\n      \r\n      newMainCatMy: 0,\r\n      editMainCatMy: 0,\r\n      newMainNameMy: '',\r\n      editMainNameMy: '',\r\n      \r\n      editCat: null,\r\n      \r\n      allCats: [],\r\n      allItems: [],\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0,\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      allCats: data.cats,\r\n      allItems: data.items,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  createCat(){\r\n    this.setState({\r\n      modalDialog: true,\r\n      newMainCatMy: 0,\r\n      newMainNameMy: ''\r\n    })\r\n  }\r\n  \r\n  changeCatMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeCatMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  async saveCat(){\r\n    let data = {\r\n      name: this.state.newMainNameMy,\r\n      cat_id: this.state.newMainCatMy\r\n    };\r\n    \r\n    let res = await this.getData('save_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  addItems(cat_id){\r\n    \r\n    let myVal = this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(cat_id) );\r\n    let data = this.state.allItems.filter( (item) => parseInt(item.cat_id) == 0 );\r\n    \r\n    this.setState({\r\n      modalDialog2: true,\r\n      thisValItems: myVal,\r\n      thisDataItems: data,\r\n      thisCatId: cat_id\r\n    })\r\n  }\r\n  \r\n  async saveItems(){\r\n    let data = {\r\n      cat_id: this.state.thisCatId,\r\n      items: this.state.thisValItems\r\n    };\r\n    \r\n    let res = await this.getData('save_items_cat', data);\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      allItems: res.items,\r\n      modalDialog2: false,\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0\r\n    })\r\n  }\r\n  \r\n  editCat(cat){\r\n    this.setState({\r\n      modalDialog3: true,\r\n      editMainCatMy: cat.parent_id,\r\n      editMainNameMy: cat.name,\r\n      editCat: cat\r\n    })\r\n  }\r\n  \r\n  async saveEditCat(){\r\n    let data = {\r\n      name: this.state.editMainNameMy,\r\n      cat_id: this.state.editMainCatMy,\r\n      id: this.state.editCat.id\r\n    };\r\n    \r\n    let res = await this.getData('edit_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) }\r\n                  value={this.state.newMainCatMy} \r\n                  func={ this.changeCatMain.bind(this) } />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField label=\"Название категории\" size=\"small\" variant=\"outlined\" style={{ width: '100%' }} color=\"primary\" value={this.state.newMainNameMy} onChange={this.changeNameMain.bind(this)} />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog2}\r\n          onClose={ () => { this.setState({ modalDialog2: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Позиции категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyAutocomplite \r\n                  label=\"Выбранные позиции\" \r\n                  multiple={true}\r\n                  func={ (event, val) => { this.setState({ thisValItems: val }) } }\r\n                  data={ this.state.thisDataItems } \r\n                  value={ this.state.thisValItems } />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveItems.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog3}\r\n          onClose={ () => { this.setState({ modalDialog3: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Редактирование категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) } \r\n                  value={this.state.editMainCatMy} \r\n                  func={ this.changeCatMainEdit.bind(this) } \r\n                />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField \r\n                  label=\"Название категории\" \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                  style={{ width: '100%' }} \r\n                  color=\"primary\" \r\n                  value={this.state.editMainNameMy} \r\n                  onChange={ this.changeNameMainEdit.bind(this) }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveEditCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.createCat.bind(this)}>Создать категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.allCats.map( (main_cat, main_key) =>\r\n              parseInt(main_cat.parent_id) != -1 ? null :\r\n                <Accordion key={main_key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                  >\r\n                    <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, main_cat) } />\r\n                    <Typography>{main_cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                  { this.state.allCats.map( (parent_cat, parent_key) =>\r\n                    parseInt(main_cat.id) != parseInt(parent_cat.parent_id) ? null :\r\n                      <Accordion key={main_key+'_'+parent_key}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1a-content\"\r\n                        >\r\n                          <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, parent_cat) } />\r\n                          <Typography>{parent_cat.name}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          { this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(parent_cat.id) ).map( (item, key) =>\r\n                            <Accordion key={main_key+'_'+parent_key+'_'+key}>\r\n                              <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                              >\r\n                                <Typography>{item.name}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                            \r\n                          <Button onClick={this.addItems.bind(this, parseInt(parent_cat.id))}>Добавить</Button>\r\n                            \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                  )}\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n            ) }\r\n          </Grid>\r\n          \r\n          \r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CategoryItems() {\r\n  return (\r\n    <CategoryItems_ />\r\n  );\r\n}","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1662120765032\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","CategoryItems_","props","method","data","setState","is_load","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","err","console","log","module_name","modalDialog","modalDialog2","modalDialog3","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","editCat","allCats","allItems","thisValItems","thisDataItems","thisCatId","this","getData","module_info","name","cats","items","document","title","event","target","value","cat_id","alert","text","myVal","filter","item","parseInt","cat","parent_id","id","Backdrop","style","zIndex","open","CircularProgress","color","Dialog","onClose","DialogTitle","DialogContent","paddingBottom","paddingTop","Grid","container","spacing","xs","sm","label","func","changeCatMain","bind","TextField","size","variant","width","onChange","changeNameMain","DialogActions","Button","onClick","saveCat","multiple","val","saveItems","changeCatMainEdit","changeNameMainEdit","saveEditCat","createCat","map","main_cat","main_key","Accordion","key","AccordionSummary","expandIcon","ExpandMore","Menu","marginRight","Typography","AccordionDetails","parent_cat","parent_key","addItems","React","CategoryItems","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}