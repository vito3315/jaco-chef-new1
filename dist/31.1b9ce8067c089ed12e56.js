"use strict";(self.webpackChunkpackage_json=self.webpackChunkpackage_json||[]).push([[31],{31:(e,t,i)=>{i.r(t),i.d(t,{default:()=>F}),i(9839);var a=i(5861),n=i(7326),s=i(4942),m=i(5671),r=i(3144),l=i(136),c=i(6215),h=i(1120),d=i(4687),u=i.n(d),o=i(7294),E=i(5725),p=i(2642),f=i(9573),_=i(8732),v=i(6926),Z=i(6011),I=i(3694),g=i(2961),b=i(2450),w=i(2440),x=i(576),k=i(9334),y=i(4666),P=i(8979),S=i(7750),A=i(7645),D=i(9941),N=i(7425),C=i(5092),T=i(2658),z=i(3508),L=i(4567),B=i(9062),$=i(6406);function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var i,a=(0,h.Z)(e);if(t){var n=(0,h.Z)(this).constructor;i=Reflect.construct(a,arguments,n)}else i=a.apply(this,arguments);return(0,c.Z)(this,i)}}var W=i(7563),j=function(e){(0,l.Z)(i,e);var t=R(i);function i(){return(0,m.Z)(this,i),t.apply(this,arguments)}return(0,r.Z)(i,[{key:"shouldComponentUpdate",value:function(e){var t=e.items,i=this.props.items;return!(t.length==i.length&&t.every((function(e,t){return e===i[t]})))}},{key:"render",value:function(){var e=this;return o.createElement(f.Z,null,o.createElement(Z.Z,null,o.createElement(I.Z,null,o.createElement(v.Z,{style:{width:"2%"}},"id"),o.createElement(v.Z,{style:{width:"2%"}}),o.createElement(v.Z,{style:{width:"3%"}},"Ревизия"),o.createElement(v.Z,{style:{width:"15%"}},"Товар"),o.createElement(v.Z,{style:{width:"10%"}},"% потерь"),o.createElement(v.Z,{style:{width:"10%"}},"% заявки"),o.createElement(v.Z,{style:{width:"15%"}},"Заготовка"),o.createElement(v.Z,{style:{width:"5%"}},"Ед. измер"),o.createElement(v.Z,{style:{width:"9%"}},"Место хранения"),o.createElement(v.Z,{style:{width:"9%",minWidth:150}},"Моя цена"))),o.createElement(_.Z,null,this.props.items.map((function(t,i){return o.createElement(I.Z,{key:i},o.createElement(v.Z,null,t.id),o.createElement(v.Z,null,1==parseInt(t.is_show)?o.createElement(g.Z,null):o.createElement(b.Z,null)),o.createElement(v.Z,null,o.createElement($.IA,{label:"",value:1==parseInt(t.show_in_rev),func:e.props.changeTableItem.bind(e,t.id,e.props.type[0])})),o.createElement(v.Z,{style:{cursor:"pointer"},onClick:e.props.showEditItem.bind(e,t.id)},t.name),o.createElement(v.Z,null,t.los_percent," %"),o.createElement(v.Z,null,t.percent," %"),o.createElement(v.Z,null,t.pf_name),o.createElement(v.Z,null,t.ei_name),o.createElement(v.Z,null,t.storage_name),o.createElement(v.Z,null,o.createElement($.rZ,{label:"",value:t.handle_price,func:e.props.changeTableItem.bind(e,t.id,e.props.type[1])})))}))))}}]),i}(o.Component),q=function(e){(0,l.Z)(b,e);var t,i,c,h,d,f,_,v,Z,I,g=R(b);function b(e){var t;return(0,m.Z)(this,b),t=g.call(this,e),(0,s.Z)((0,n.Z)(t),"getData",(function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return 1==a&&t.setState({is_load:!0}),fetch("https://jacochef.ru/api/index_new.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:W.stringify({method:e,module:t.state.module,version:2,login:localStorage.getItem("token"),data:JSON.stringify(i)})}).then((function(e){return e.json()})).then((function(e){if(!1!==e.st||"redir"!=e.type){if(!1!==e.st||"auth"!=e.type)return setTimeout((function(){t.setState({is_load:!1})}),300),e;window.location.pathname="/auth"}else window.location.pathname="/"})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),t.state={module:"sklad_items_module",module_name:"",is_load:!1,cats:[],allItems:[],vendor_items:[],modalItemEdit:!1,modalItemNew:!1,itemEdit:null,itemName:"",checkArtDialog:!1,checkArtList:[],freeItems:[],searchItem:"0"},t}return(0,r.Z)(b,[{key:"componentDidMount",value:(I=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("get_all");case 2:t=e.sent,this.setState({module_name:t.module_info.name,cats:t.cats,freeItems:t.items_free}),document.title=t.module_info.name;case 5:case"end":return e.stop()}}),e,this)}))),function(){return I.apply(this,arguments)})},{key:"changeCity",value:(Z=(0,a.Z)(u().mark((function e(t){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={city:t.target.value},e.next=3,this.getData("get_vendors",i);case 3:a=e.sent,this.setState({vendors:a,city:t.target.value});case 5:case"end":return e.stop()}}),e,this)}))),function(e){return Z.apply(this,arguments)})},{key:"changeSort",value:function(e,t){var i=this;this.state.vendor_items.map((function(a,n){parseInt(a.item_id)==parseInt(e)&&(i.state.vendor_items[n].sort=t.target.value)})),this.setState({vendor_items:this.state.vendor_items})}},{key:"changeItem",value:function(e,t){var i=this.state.itemEdit;i.item[e]="two_user"==e||"w_item"==e||"w_trash"==e||"w_pf"==e||"is_show"==e?!0===t.target.checked?1:0:t.target.value,this.setState({itemEdit:i})}},{key:"showEditItem",value:(v=(0,a.Z)(u().mark((function e(t){var i,a,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={item_id:t},e.next=3,this.getData("get_one",i);case 3:(a=e.sent).item.pf_id=a.pf_list.find((function(e){return e.id===a.item.pf_id})),this.setState({modalItemEdit:!0,itemEdit:a,itemName:a.item.name}),setTimeout((function(){console.log("storages=",n.state.itemEdit.storages),console.log("this_storages=",n.state.itemEdit.this_storages)}),300);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return v.apply(this,arguments)})},{key:"saveEditItem",value:(_=(0,a.Z)(u().mark((function e(){var t,i,a,n,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:0,(i=this.state.itemEdit).item.pf_id=this.state.itemEdit.item.pf_id.id,a={id:this.state.itemEdit.item.id,item:i,storages:this.state.itemEdit.this_storages,main_item_id:0==parseInt(t)?this.state.itemEdit.item.id:parseInt(t)},e.next=6,this.getData("saveEditItem",a);case 6:if(!1!==(n=e.sent).st){e.next=11;break}alert(n.text),e.next=16;break;case 11:return this.setState({modalItemEdit:!1,itemEdit:null,checkArtDialog:!1,checkArtList:[]}),e.next=14,this.getData("get_all");case 14:n=e.sent,this.setState({cats:n.cats,freeItems:n.items_free});case 16:case"end":return e.stop()}}),e,this)}))),function(){return _.apply(this,arguments)})},{key:"saveNewItem",value:(f=(0,a.Z)(u().mark((function e(){var t,i,a,n,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:0,(i=this.state.itemEdit).item.pf_id=this.state.itemEdit.item.pf_id.id,a={id:this.state.itemEdit.item.id,item:i,storages:this.state.itemEdit.this_storages,main_item_id:0==parseInt(t)?this.state.itemEdit.item.id:parseInt(t)},e.next=6,this.getData("saveNewItem",a);case 6:if(!1!==(n=e.sent).st){e.next=11;break}alert(n.text),e.next=16;break;case 11:return this.setState({modalItemNew:!1,itemEdit:null,checkArtDialog:!1,checkArtList:[]}),e.next=14,this.getData("get_all");case 14:n=e.sent,this.setState({cats:n.cats,freeItems:n.items_free});case 16:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"checkArt",value:(d=(0,a.Z)(u().mark((function e(){var t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:this.state.itemEdit.item.id,art:this.state.itemEdit.item.art},e.next=3,this.getData("checkArt",t);case 3:!1===(i=e.sent).st?this.setState({checkArtDialog:!0,checkArtList:i.data}):this.saveEditItem(0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"checkArtNew",value:(h=(0,a.Z)(u().mark((function e(){var t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={id:this.state.itemEdit.item.id,art:this.state.itemEdit.item.art},e.next=3,this.getData("checkArt",t);case 3:!1===(i=e.sent).st?(i.data.push({id:-1,name:this.state.itemEdit.item.name}),this.setState({checkArtDialog:!0,checkArtList:i.data})):this.saveNewItem(0);case 5:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"chooseArt",value:function(e){!0===this.state.modalItemNew?this.saveNewItem(e):this.saveEditItem(e)}},{key:"openModalItemNew",value:(c=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("get_all_for_new");case 2:t=e.sent,this.setState({modalItemNew:!0,itemEdit:t});case 4:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"saveItem",value:(i=(0,a.Z)(u().mark((function e(t,i,a){var n,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={item_id:t,type:i,value:a},e.next=3,this.getData("saveItem",n,!1);case 3:if(!1!==(s=e.sent).st){e.next=8;break}alert(s.text),e.next=13;break;case 8:return this.setState({modalItemNew:!1,modalItemEdit:!1,itemEdit:null,checkArtDialog:!1,checkArtList:[]}),e.next=11,this.getData("get_all");case 11:s=e.sent,this.setState({cats:s.cats,freeItems:s.items_free});case 13:case"end":return e.stop()}}),e,this)}))),function(e,t,a){return i.apply(this,arguments)})},{key:"changeTableItem",value:function(e,t,i){if(1==parseInt(t)){var a=i.target.checked,n=this.state.cats;n.map((function(t,i){t.cats.map((function(t,s){t.items.map((function(t,m){parseInt(t.id)==parseInt(e)&&(n[i].cats[s].items[m].show_in_rev=1==a?1:0)}))}))})),this.setState({cats:n}),this.saveItem(e,"show_in_rev",1==a?1:0)}if(3==parseInt(t)){var s=i.target.value,m=this.state.cats;m.map((function(t,i){t.cats.map((function(t,a){t.items.map((function(t,n){parseInt(t.id)==parseInt(e)&&(m[i].cats[a].items[n].handle_price=s)}))}))})),this.setState({cats:m}),this.saveItem(e,"handle_price",s)}if(2==parseInt(t)){var r=i.target.value,l=this.state.freeItems;l.map((function(t,i){parseInt(t.id)==parseInt(e)&&(l[i].show_in_rev=1==r?1:0)})),this.setState({freeItems:l}),this.saveItem(e,"show_in_rev",1==r?1:0)}if(4==parseInt(t)){var c=i.target.value,h=this.state.freeItems;h.map((function(t,i){parseInt(t.id)==parseInt(e)&&(h[i].handle_price=c)})),this.setState({freeItems:h}),this.saveItem(e,"handle_price",c)}}},{key:"search",value:(t=(0,a.Z)(u().mark((function e(){var t,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={item:this.state.searchItem},e.next=3,this.getData("get_all_search",t);case 3:i=e.sent,console.log(i),this.setState({cats:i.cats,freeItems:i.items_free});case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this;return o.createElement(o.Fragment,null,o.createElement(L.Z,{style:{zIndex:99},open:this.state.is_load},o.createElement(B.Z,{color:"inherit"})),o.createElement(y.Z,{onClose:function(){e.setState({checkArtDialog:!1,checkArtList:[]})},open:this.state.checkArtDialog},o.createElement(A.Z,null,"Такой код 1с уже задан у следующих позиций:"),o.createElement(w.Z,{sx:{pt:0}},this.state.checkArtList.map((function(t,i){return o.createElement(x.ZP,{button:!0,onClick:e.chooseArt.bind(e,t.id),key:i},o.createElement(k.Z,{primary:t.name}))})))),o.createElement(y.Z,{open:this.state.modalItemEdit,fullWidth:!0,maxWidth:"md",onClose:function(){e.setState({modalItemEdit:!1,itemEdit:null,checkArtDialog:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.createElement(A.Z,null,"Редактирование товара ",this.state.itemName),o.createElement(S.Z,{style:{paddingBottom:10,paddingTop:10}},o.createElement(E.ZP,{container:!0,spacing:3},this.state.itemEdit&&!0===this.state.modalItemEdit?o.createElement(o.Fragment,null,o.createElement(E.ZP,{item:!0,xs:12},o.createElement(E.ZP,{container:!0,spacing:3},o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Название товара",value:this.state.itemEdit.item.name,func:this.changeItem.bind(this,"name")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.e_,{label:"Заготовка",multiple:!1,data:this.state.itemEdit.pf_list,value:this.state.itemEdit.item.pf_id,func:function(t,i){var a=e.state.itemEdit;a.item.pf_id=i,e.setState({itemEdit:a})}})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Название товара для поставщика",value:this.state.itemEdit.item.name_for_vendor,func:this.changeItem.bind(this,"name_for_vendor")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Код для 1с",value:this.state.itemEdit.item.art,func:this.changeItem.bind(this,"art")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Максимальное количество заказов в месяц (0 - без ограничений)",value:this.state.itemEdit.item.max_count_in_m,func:this.changeItem.bind(this,"max_count_in_m")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.$S,{data:this.state.itemEdit.cats,value:"0"==this.state.itemEdit.item.cat_id?"":this.state.itemEdit.item.cat_id,func:this.changeItem.bind(this,"cat_id"),label:"Категория"})))),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Количество в упаковке",value:this.state.itemEdit.item.pq,func:this.changeItem.bind(this,"pq")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.$S,{data:this.state.itemEdit.ed_izmer,value:this.state.itemEdit.item.ed_izmer_id,func:this.changeItem.bind(this,"ed_izmer_id"),label:"Ед измер"})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.$S,{data:this.state.itemEdit.apps,value:this.state.itemEdit.item.app_id,func:this.changeItem.bind(this,"app_id"),label:"Должность на кухне"})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Время приготовления ММ:SS (15:20)",value:"00:00"===this.state.itemEdit.item.time_min?"":this.state.itemEdit.item.time_min,func:this.changeItem.bind(this,"time_min")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Дополнительное время ММ:SS (15:20)",value:"00:00"===this.state.itemEdit.item.time_dop_min?"":this.state.itemEdit.item.time_dop_min,func:this.changeItem.bind(this,"time_dop_min")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Время разгрузки ММ:SS.iiii (00:20.004)",value:"00:00"===this.state.itemEdit.item.time_min_other?"":this.state.itemEdit.item.time_min_other,func:this.changeItem.bind(this,"time_min_other")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"% потерь",value:this.state.itemEdit.item.los_percent,func:this.changeItem.bind(this,"los_percent")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"% заявки",value:this.state.itemEdit.item.percent,func:this.changeItem.bind(this,"percent")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"% повышения ценника",value:this.state.itemEdit.item.vend_percent,func:this.changeItem.bind(this,"vend_percent")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Вес заготовки",value:1==parseInt(this.state.itemEdit.item.w_pf),func:this.changeItem.bind(this,"w_pf")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Вес отхода",value:1==parseInt(this.state.itemEdit.item.w_trash),func:this.changeItem.bind(this,"w_trash")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Вес товара",value:1==parseInt(this.state.itemEdit.item.w_item),func:this.changeItem.bind(this,"w_item")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Два сотрудника",value:1==parseInt(this.state.itemEdit.item.two_user),func:this.changeItem.bind(this,"two_user")})),o.createElement(E.ZP,{item:!0,xs:12},o.createElement($.e_,{label:"Места хранения",multiple:!0,data:this.state.itemEdit.storages,value:this.state.itemEdit.this_storages,func:function(t,i){var a=e.state.itemEdit;a.this_storages=i,e.setState({itemEdit:a})}})),o.createElement(E.ZP,{item:!0,xs:12},o.createElement($.IA,{label:"Активность",value:1==parseInt(this.state.itemEdit.item.is_show),func:this.changeItem.bind(this,"is_show")}))):null)),o.createElement(P.Z,null,o.createElement(p.Z,{onClick:this.checkArt.bind(this),color:"primary"},"Сохранить"))),o.createElement(y.Z,{open:this.state.modalItemNew,fullWidth:!0,maxWidth:"md",onClose:function(){e.setState({modalItemNew:!1,itemEdit:null,checkArtDialog:!1})}},o.createElement(A.Z,null,"Новый товар"),o.createElement(S.Z,{style:{paddingBottom:10,paddingTop:10}},o.createElement(E.ZP,{container:!0,spacing:3},this.state.itemEdit&&this.state.modalItemNew?o.createElement(o.Fragment,null,o.createElement(E.ZP,{item:!0,xs:12},o.createElement(E.ZP,{container:!0,spacing:3},o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Название товара",value:this.state.itemEdit.item.name,func:this.changeItem.bind(this,"name")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.e_,{label:"Заготовка",multiple:!1,data:this.state.itemEdit.pf_list,value:"0"==this.state.itemEdit.item.pf_id?null:this.state.itemEdit.item.pf_id,func:function(t,i){var a=e.state.itemEdit;a.item.pf_id=i,e.setState({itemEdit:a})}})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Название товара для поставщика",value:this.state.itemEdit.item.name_for_vendor,func:this.changeItem.bind(this,"name_for_vendor")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Код для 1с",value:this.state.itemEdit.item.art,func:this.changeItem.bind(this,"art")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.rZ,{label:"Максимальное количество заказов в месяц (0 - без ограничений)",value:this.state.itemEdit.item.max_count_in_m,func:this.changeItem.bind(this,"max_count_in_m")})),o.createElement(E.ZP,{item:!0,xs:12,sm:6},o.createElement($.$S,{data:this.state.itemEdit.cats,value:void 0===this.state.itemEdit.item.cat_id?"":this.state.itemEdit.item.cat_id,func:this.changeItem.bind(this,"cat_id"),label:"Категория"})))),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Количество в упаковке",value:this.state.itemEdit.item.pq,func:this.changeItem.bind(this,"pq")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.$S,{data:this.state.itemEdit.ed_izmer,value:"0"===this.state.itemEdit.item.ed_izmer_id?"":this.state.itemEdit.item.ed_izmer_id,func:this.changeItem.bind(this,"ed_izmer_id"),label:"Ед измер"})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.$S,{data:this.state.itemEdit.apps,value:"0"===this.state.itemEdit.item.app_id?"":this.state.itemEdit.item.app_id,func:this.changeItem.bind(this,"app_id"),label:"Должность на кухне"})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Время приготовления ММ:SS (15:20)",value:this.state.itemEdit.item.time_min,func:this.changeItem.bind(this,"time_min")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Дополнительное время ММ:SS (15:20)",value:this.state.itemEdit.item.time_dop_min,func:this.changeItem.bind(this,"time_dop_min")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"Время разгрузки ММ:SS.iiii (00:20.004)",value:this.state.itemEdit.item.time_min_other,func:this.changeItem.bind(this,"time_min_other")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"% потерь",value:this.state.itemEdit.item.los_percent,func:this.changeItem.bind(this,"los_percent")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"% заявки",value:this.state.itemEdit.item.percent,func:this.changeItem.bind(this,"percent")})),o.createElement(E.ZP,{item:!0,xs:12,sm:4},o.createElement($.rZ,{label:"% повышения ценника",value:this.state.itemEdit.item.vend_percent,func:this.changeItem.bind(this,"vend_percent")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Вес заготовки",value:1==parseInt(this.state.itemEdit.item.w_pf),func:this.changeItem.bind(this,"w_pf")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Вес отхода",value:1==parseInt(this.state.itemEdit.item.w_trash),func:this.changeItem.bind(this,"w_trash")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Вес товара",value:1==parseInt(this.state.itemEdit.item.w_item),func:this.changeItem.bind(this,"w_item")})),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.IA,{label:"Два сотрудника",value:1==parseInt(this.state.itemEdit.item.two_user),func:this.changeItem.bind(this,"two_user")})),o.createElement(E.ZP,{item:!0,xs:12},o.createElement($.e_,{label:"Места хранения",multiple:!0,data:this.state.itemEdit.storages,value:this.state.itemEdit.this_storages,func:function(t,i){var a=e.state.itemEdit;a.this_storages=i,e.setState({itemEdit:a})}}))):null)),o.createElement(P.Z,null,o.createElement(p.Z,{onClick:this.checkArtNew.bind(this),color:"primary"},"Сохранить"))),o.createElement(E.ZP,{container:!0,spacing:3},o.createElement(E.ZP,{item:!0,xs:12,sm:12},o.createElement("h1",null,this.state.module_name)),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement(p.Z,{onClick:this.openModalItemNew.bind(this),variant:"contained"},"Добавить товар")),o.createElement(E.ZP,{item:!0,xs:12,sm:3},o.createElement($.rZ,{label:"Поиск",value:this.state.searchItem,func:function(t){e.setState({searchItem:t.target.value})},onBlur:this.search.bind(this)})),o.createElement(E.ZP,{item:!0,xs:12,style:{paddingBottom:"10px"}},this.state.cats.map((function(t,i){return o.createElement(D.Z,{key:i},o.createElement(N.Z,{expandIcon:o.createElement(z.Z,null)},o.createElement(T.Z,null,t.name)),o.createElement(C.Z,null,t.cats.map((function(t,i){return o.createElement(D.Z,{key:i},o.createElement(N.Z,{expandIcon:o.createElement(z.Z,null)},o.createElement(T.Z,null,t.name)),o.createElement(C.Z,{style:{width:"100%",overflow:"scroll"}},o.createElement(j,{items:t.items,changeTableItem:e.changeTableItem.bind(e),showEditItem:e.showEditItem.bind(e),type:[1,3]})))}))))})),0==this.state.freeItems.length?null:o.createElement(D.Z,null,o.createElement(N.Z,{expandIcon:o.createElement(z.Z,null)},o.createElement(T.Z,null,"Без категории")),o.createElement(C.Z,{style:{width:"100%",overflow:"scroll"}},o.createElement(j,{items:this.state.freeItems,changeTableItem:this.changeTableItem.bind(this),showEditItem:this.showEditItem.bind(this),type:[2,4]}))))))}}]),b}(o.Component);function F(){return o.createElement(q,null)}},9839:(e,t,i)=>{var a=i(4783)(e.id,{locals:!1});e.hot.dispose(a),e.hot.accept(void 0,a)}}]);
//# sourceMappingURL=31.1b9ce8067c089ed12e56.js.map