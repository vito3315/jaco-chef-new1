{"version":3,"file":"main.82a7183f8c4dc8f948cc.js","mappings":"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","sources":["webpack://package.json/./src/components/home/home.component.jsx","webpack://package.json/./src/components/auth/auth.component.jsx","webpack://package.json/./src/components/registration/registration.component.jsx","webpack://package.json/./src/stores/elements.js","webpack://package.json/./src/components/live_orders/live_orders.component.jsx","webpack://package.json/./src/components/events/events.component.jsx","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.component.jsx","webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/vendor_module/vendor_module.component.jsx","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.component.jsx","webpack://package.json/./src/components/tender/tender.component.jsx","webpack://package.json/./src/components/revizion/revizion.component.jsx","webpack://package.json/./src/components/work_schedule/work_schedule.component.jsx","webpack://package.json/./src/components/site_sale_2/site_sale_2.component.jsx","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.component.jsx","webpack://package.json/./src/components/driver_stat/driver_stat.component.jsx","webpack://package.json/./src/components/concenter/concenter.component.jsx","webpack://package.json/./src/components/socialnetwork/socialnetwork.component.jsx","webpack://package.json/./src/components/cat_work/cat_work.component.jsx","webpack://package.json/./src/components/app_work_point/app_work_point.component.jsx","webpack://package.json/./src/components/app_work/app_work.component.jsx","webpack://package.json/./src/components/app_work_show/app_work_show.component.jsx","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.component.jsx","webpack://package.json/./src/components/advertising_company/advertising_company.component.jsx","webpack://package.json/./src/components/ras_bill_and_cook/ras_bill_and_cook.component.jsx","webpack://package.json/./src/components/sklad_items_module/sklad_items_module.component.jsx","webpack://package.json/./src/components/site_user_manager/site_user_manager.component.jsx","webpack://package.json/./src/components/promo_items_stat/promo_items_stat.component.jsx","webpack://package.json/./src/components/site_items/site_items.component.jsx","webpack://package.json/./src/components/hot_map/hot_map.component.jsx","webpack://package.json/./src/components/site_sale_min/site_sale_min.component.jsx","webpack://package.json/./src/components/app/app.component.jsx","webpack://package.json/./src/index.prod.js","webpack://package.json/./src/components/advertising_company/advertising_company.style.scss","webpack://package.json/./src/components/app/app.style.scss?aab7","webpack://package.json/./src/components/app_work/app_work.style.scss","webpack://package.json/./src/components/app_work_point/app_work_point.style.scss","webpack://package.json/./src/components/app_work_show/app_work_show.style.scss","webpack://package.json/./src/components/auth/auth.style.scss","webpack://package.json/./src/components/cat_work/cat_work.style.scss","webpack://package.json/./src/components/category_items/category_items.style.scss","webpack://package.json/./src/components/concenter/concenter.style.scss","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.style.scss","webpack://package.json/./src/components/driver_stat/driver_stat.style.scss","webpack://package.json/./src/components/events/events.style.scss?0175","webpack://package.json/./src/components/home/home.style.scss","webpack://package.json/./src/components/hot_map/hot_map.style.scss","webpack://package.json/./src/components/live_orders/live_orders.style.scss","webpack://package.json/./src/components/promo_items_stat/promo_items_stat.style.scss","webpack://package.json/./src/components/ras_bill_and_cook/ras_bill_and_cook.style.scss","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.style.scss","webpack://package.json/./src/components/registration/registration.style.scss","webpack://package.json/./src/components/revizion/revizion.style.scss?88b3","webpack://package.json/./src/components/site_items/site_items.style.scss","webpack://package.json/./src/components/site_sale_2/site_sale_2.style.scss","webpack://package.json/./src/components/site_sale_min/site_sale_min.style.scss","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.style.scss","webpack://package.json/./src/components/site_user_manager/site_user_manager.style.scss","webpack://package.json/./src/components/sklad_items_module/sklad_items_module.style.scss","webpack://package.json/./src/components/socialnetwork/socialnetwork.style.scss","webpack://package.json/./src/components/tender/tender.style.scss?9070","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.style.scss","webpack://package.json/./src/components/vendor_module/vendor_module.style.scss","webpack://package.json/./src/components/work_schedule/work_schedule.style.scss?55ba"],"sourcesContent":["import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Home_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'home',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} style={{ height: '100vh' }}>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Home() {\r\n  return (\r\n    <Home_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Auth_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async auth(){\r\n    let data = {\r\n      login: document.getElementById('phone').value,\r\n      pwd: document.getElementById('password').value\r\n    };\r\n    \r\n    let res = await this.getData('auth', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      setTimeout( () => {\r\n        this.setState({ \r\n          modalDialog: true,\r\n          dialogTitle: 'Предупреждение',\r\n          dialogText: res.text\r\n        })\r\n      }, 500 )\r\n    }else{\r\n      localStorage.setItem('token', res.token)\r\n      \r\n      setTimeout( () => {\r\n        window.location.pathname = '/'\r\n      }, 300)\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', }}>\r\n              <Avatar style={{ borderRadius: 0, width: '100%', height: 150, margin: 0, backgroundColor: '#fff' }}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              <form style={{ width: '100%' }} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"phone\"\r\n                  label=\"Номер телефона\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"phone\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Пароль\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ marginTop: 10, marginBottom: 10 }}\r\n                  onClick={ this.auth.bind(this) }\r\n                >\r\n                  Войти\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/registration\" style={{ color: '#c03' }}>Восстановить пароль</a>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Auth() {\r\n  return (\r\n    <Auth_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Reg_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: '',\r\n      \r\n      activeStep: 0,\r\n      steps: ['Телефон', 'Подтверждение', 'Новый пароль'],\r\n      \r\n      phone: '',\r\n      code: '',\r\n      pwd: ''\r\n    };\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async nextStep(){\r\n    if( this.state.activeStep == 0 ){\r\n      let data = {\r\n        login: document.getElementById('phone').value\r\n      }\r\n      \r\n      let res = await this.getData('check_phone', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          phone: data.login\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 1 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n\t\t\t  code: document.getElementById('code').value\r\n      }\r\n      \r\n      let res = await this.getData('check_code', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          code: data.code\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 2 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n        code: this.state.code,\r\n        pwd: document.getElementById('password').value\r\n      }\r\n      \r\n      let res = await this.getData('save_new_pwd', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        localStorage.setItem('token', res.token)\r\n      \r\n        setTimeout( () => {\r\n          window.location.pathname = '/'\r\n        }, 300)\r\n      }\r\n    }\r\n  }\r\n  \r\n  enterNextStep(event){\r\n    if( event.charCode == 13 ){\r\n      this.nextStep();\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', }}>\r\n              <Avatar style={{ borderRadius: 0, width: '100%', height: 150, margin: 0, backgroundColor: '#fff', marginBottom: 20 }}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              \r\n              <Stepper activeStep={this.state.activeStep} alternativeLabel style={{ width: '100%' }}>\r\n                {this.state.steps.map((label) => (\r\n                  <Step key={label}>\r\n                    <StepLabel>{label}</StepLabel>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n              <div style={{ width: '100%' }}>\r\n                \r\n                { this.state.activeStep == 0 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"phone\"\r\n                    label=\"Номер телефона\"\r\n                    name=\"phone\"\r\n                    autoComplete=\"phone\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 1 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"code\"\r\n                    label=\"Код из смс\"\r\n                    name=\"code\"\r\n                    autoComplete=\"code\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 2 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />\r\n                    :\r\n                  null\r\n                }\r\n                                  \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ marginTop: 10, marginBottom: 10 }}\r\n                  onClick={ this.nextStep.bind(this) }\r\n                >\r\n                  Дальше\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/auth\" style={{ color: '#c03' }}>Вернуться к авторизации</a>\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                \r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Reg() {\r\n  return (\r\n    <Reg_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\n\r\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class MyDaterange extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale} size=\"small\">\r\n        <DateRangePicker\r\n          \r\n          allowSameDateSelection={true}\r\n          showTodayButton={true}\r\n          startText={this.props.startText}\r\n          endText={this.props.endText}\r\n          value={this.props.value}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          mask=\"____-__-__\"\r\n          onChange={this.props.func}\r\n          renderInput={(startProps, endProps) => (\r\n            <React.Fragment>\r\n              <TextField style={{ width: '100%' }} {...startProps} />\r\n              <TextField style={{ width: '100%' }} {...endProps} />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          disableCloseOnSelect={true}\r\n          //multiple={true}\r\n          id={ this.props.id ?? null }\r\n          options={this.props.data}\r\n          getOptionLabel={(option) => option.name}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => parseInt(option.id) === parseInt(value.id) }\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MySelect extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n        <InputLabel>{this.props.label}</InputLabel>\r\n        <Select\r\n          value={this.props.value}\r\n          label={this.props.label}\r\n          disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n          onChange={ this.props.func }\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n        >\r\n          <MenuItem value=\"\"><em>None</em></MenuItem>\r\n          { this.props.data.map( (item, key) =>\r\n            <MenuItem key={key} value={item.id}>{item.name}</MenuItem>\r\n          ) }\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTextInput extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      type: 'text'\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField \r\n        label={this.props.label}\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n        onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n        disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n        variant=\"outlined\" \r\n        size={'small'} \r\n        color='primary'\r\n        multiline={this.props.multiline ? this.props.multiline : false}\r\n        maxRows={this.props.maxRows ? this.props.maxRows : 1}\r\n        type={ this.props.type ? this.props.type : this.state.type }\r\n        style={{ width: '100%' }} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTimePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      thisVal: ''\r\n    };\r\n  }\r\n  \r\n  onChange(event){\r\n    this.setState({\r\n      thisVal: event.target.value\r\n    })\r\n  }\r\n\r\n  onBlur(){\r\n    this.setState({\r\n      thisVal: ''\r\n    })\r\n\r\n    this.props.onBlur();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={this.props.label}\r\n        type=\"time\"\r\n        id={ this.props.id ? this.props.id : null }\r\n        value={ this.props.func ? this.props.value : this.state.thisVal }\r\n        style={{ width: '100%' }}\r\n        onChange={this.props.func ? this.props.func : this.onChange.bind(this)}\r\n        onBlur={this.props.onBlur ? this.onBlur.bind(this) : null}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        step={600}\r\n        inputProps={{\r\n          step: 600, // 5 min\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerNew extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale}>\r\n        <DatePicker\r\n          multiple={true}\r\n          mask=\"____-__-__\"\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          label={this.props.label}\r\n          value={formatDate(this.props.value)}\r\n          onChange={this.props.func}\r\n          renderInput={(params) => <TextField variant=\"outlined\" size={'small'} color='primary' style={{ width: '100%' }} {...params} />}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyCheckBox extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormGroup row style={ this.props.style ? this.props.style : {} }>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n              checked={this.props.value}\r\n              onChange={this.props.func}\r\n              color=\"primary\"\r\n              \r\n            />\r\n          }\r\n          label={this.props.label}\r\n        />\r\n      </FormGroup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class TextEditor extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <tinymce-editor\r\n        apiKey=\"r0ihgs4ukfpmudzw7aexxgb88tnx5jw26h1xx9x6409ji3gx\"\r\n        id={this.props.id}\r\n        menubar={true}\r\n        plugins=\"advlist autolink lists link image charmap print preview anchor\r\n        searchreplace visualblocks code fullscreen\r\n        insertdatetime media table paste code help wordcount\"\r\n        toolbar=\"undo redo | formatselect | bold italic backcolor |\r\n        alignleft aligncenter alignright alignjustify |\r\n        bullist numlist outdent indent | removeformat | help\"\r\n        content_style=\"body\r\n        {\r\n          font-family:Helvetica,Arial,sans-serif;\r\n          font-size:14px\r\n        }\"\r\n        >\r\n\r\n        {this.props.text}\r\n\r\n      </tinymce-editor>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass LiveOrders_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'live_orders',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n            \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox value={this.state.showReady} func={ this.changeCheckOrders.bind(this) } label='Показывать готовые' />\r\n          </Grid>\r\n            \r\n          <Grid item xs={12} sm={12}>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Тип</TableCell>\r\n                    <TableCell>Время заказа</TableCell>\r\n                    <TableCell>Время предзакза</TableCell>\r\n                    \r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Во сколько собрали</TableCell>\r\n                    <TableCell>Закрыли</TableCell>\r\n                    \r\n                    <TableCell>Приготовили</TableCell>\r\n                    <TableCell>Отдали</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                    \r\n                    <TableCell>Статус</TableCell>\r\n                    <TableCell>Стол</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.read.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell>{item.give_data_time_}</TableCell>\r\n                      <TableCell>{item.close_date_time_order}</TableCell>\r\n                      \r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) == 1 ? '' : item.color}}>{item.time_}</TableCell>\r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) != 1 ? '' : item.color}}>{item.test_time}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                  {this.state.onstol.map( (item, key) => (\r\n                    <TableRow key={key} style = {{backgroundColor: 'yellow'}}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      \r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Пред</TableCell>\r\n                    <TableCell>Время оформления</TableCell>\r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Время закрытия</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.ordersQueue.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 1 ? item.date_time_preorder : '' }</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.date_time_order : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.time_start_order}</TableCell>\r\n                      <TableCell>{item.time_end_order}</TableCell>\r\n                      \r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function LiveOrders() {\r\n  return (\r\n    <LiveOrders_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Events_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'events',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      mounths: [],\r\n      years: [],\r\n      year: '0',\r\n      \r\n      calendar: [],\r\n      modalDialog: false,\r\n      \r\n      chooseDayHoly: '',\r\n      events: [],\r\n      chooseEvent: 0,\r\n      \r\n      eventPoint1: 0,\r\n      everyYear1: false,\r\n      timeStart2: '10:00',\r\n      timeEnd2: '21:30',\r\n      \r\n      expanded: '',\r\n      dayEvents: [],\r\n      events_hist: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n      mounths: data.mounth,\r\n      mounth: data.this_m,\r\n      years: data.years,\r\n      year: data.this_y,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeMounth(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      mounth: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeYear(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      year: data\r\n    })\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      m: this.state.mounth,\r\n      y: this.state.year,\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_calendar', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      calendar: res.year,\r\n    })\r\n  }\r\n  \r\n  async chooseDay(day){\r\n    \r\n    if( day.full_day ){\r\n    \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false,\r\n        events_hist: []\r\n      })\r\n      \r\n      let data = {\r\n        date: day.full_day,\r\n        point_id: this.state.point\r\n      };\r\n      \r\n      let res = await this.getData('get_calendar_day', data);\r\n      \r\n      console.log( 'res', res )\r\n      \r\n      this.setState({\r\n        chooseDay: day,\r\n        chooseDayHoly: res.holy,\r\n        events: res.events,\r\n        events_hist: res.hist,\r\n        dayEvents: res.this_events,\r\n        modalDialog: true\r\n      })\r\n    }\r\n  }\r\n  \r\n  changeEvent(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      chooseEvent: data\r\n    })\r\n  }\r\n  \r\n  changePoint1(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      eventPoint1: data\r\n    })\r\n  }\r\n  \r\n  changeEveryYear1(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      everyYear1: data\r\n    })\r\n  }\r\n  \r\n  changeTimeStart2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeStart2: data\r\n    })\r\n  }\r\n  \r\n  changeTimeEnd2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeEnd2: data\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      date: this.state.chooseDay.full_day,\r\n      point_id: this.state.eventPoint1,\r\n      event: this.state.chooseEvent,\r\n      every_year: this.state.everyYear1 === true ? 1 : 0,\r\n      \r\n      time_start: this.state.timeStart2,\r\n      time_end: this.state.timeEnd2,\r\n    };\r\n    \r\n    let res = await this.getData('save_event', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  handleChange(data){\r\n    this.setState({\r\n      expanded: data\r\n    })\r\n  }\r\n  \r\n  async delEvent(event){\r\n    console.log( 'delEvent', event )\r\n    \r\n    if (confirm('Удалить событие \"'+event.title+' '+event.date+'\" ?')) {\r\n      let data = {\r\n        del_id: event.id\r\n      };\r\n      \r\n      let res = await this.getData('del_event', data);\r\n      \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    } else {\r\n      \r\n    }\r\n    \r\n\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.chooseDay ? this.state.chooseDay.full_day : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                {this.state.chooseDayHoly.length == 0 ? null :\r\n                  <Grid item xs={12} sm={12}>\r\n                    <Typography component=\"span\">{this.state.chooseDayHoly}</Typography>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect data={this.state.events} value={this.state.chooseEvent} func={ this.changeEvent.bind(this) } label='Событие' />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect data={this.state.points} value={ this.state.eventPoint1 } func={ this.changePoint1.bind(this) } label='Точка' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.chooseEvent) !== 2 ? null :\r\n                  <>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker value={ this.state.timeStart2 } func={ this.changeTimeStart2.bind(this) } label='Время начала работы' />\r\n                    </Grid>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker value={ this.state.timeEnd2 } func={ this.changeTimeEnd2.bind(this) } label='Время окончания работы' />\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyCheckBox value={ this.state.everyYear1 } func={ this.changeEveryYear1.bind(this) } label='Каждый год' />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n              \r\n              <List component=\"nav\">\r\n                { this.state.dayEvents.map( (item, key) => \r\n                  <ListItem key={key}>\r\n                    <ListItemText primary={item.title} />\r\n                    { parseInt(item.type) == 4 ? null :\r\n                      <CloseIcon color=\"primary\" onClick={this.delEvent.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                    }\r\n                  </ListItem>\r\n                )}\r\n              </List>\r\n              \r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List component=\"nav\">\r\n                    { this.state.events_hist.map( (item, key) => \r\n                      <ListItem key={key}>\r\n                        <ListItemText primary={item.title} />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.save.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect  data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect  data={this.state.mounths} value={this.state.mounth} func={ this.changeMounth.bind(this) } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect  data={this.state.years} value={this.state.year} func={ this.changeYear.bind(this) } label='Год' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }}>\r\n            \r\n            { this.state.calendar.map( (item, key) =>\r\n            \r\n              <Grid item xs={12} sm={4} key={key} style={{ padding: 20 }}>\r\n                <h1 style={{ textAlign: 'center' }}>{ item[0][0].mounth }</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" style={{ overflow: 'hidden' }}>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Пн</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Вт</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Ср</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Чт</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Пт</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Сб</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Вс</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { item.map( (mounth, m_key) =>\r\n                        <TableRow key={m_key}>\r\n                          { mounth.map( (day, k) =>\r\n                            <TableCell \r\n                              key={k} \r\n                              onClick={ this.chooseDay.bind(this, day) } \r\n                              \r\n                              style={{ color: day.dir ? 'yellow' : day.holy ? '#c03' : '#000' }}\r\n                              \r\n                              className={ day.event ? 'customCel' : 'tableCel' }\r\n                            > { day.day } </TableCell>\r\n                          ) }\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            )}\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Events() {\r\n  return (\r\n    <Events_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasByBill_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'ras_by_bill',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      points: [],\r\n      point: [],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      items: [],\r\n      cats: [],\r\n      items_cat: [],\r\n      item_cat: 0,\r\n      \r\n      myItems: [],\r\n      \r\n      calendar: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      \r\n      items: data.items,\r\n      cats: data.cats,\r\n      items_cat: data.items_cat\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n  \r\n  changeItems(event, data){\r\n    this.setState({\r\n      myItems: data\r\n    })\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      item_cat: this.state.item_cat,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev', data);\r\n    \r\n    let summ = 0;\r\n    \r\n    res.items_ras.map( (item, key) => {\r\n      summ += parseFloat(item.sum);\r\n    } )\r\n    \r\n    this.setState({\r\n      resItems: {\r\n        items_ras: res.items_ras,\r\n        pf_ras: res.pf_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      catItems: null\r\n    })\r\n  }\r\n  \r\n  async getCats(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev_cat', data);\r\n    \r\n    \r\n    let summ = 0;\r\n    \r\n    res.rec_ras.map( (item, key) => {\r\n      summ += parseFloat(item.this_price);\r\n    } )\r\n    \r\n    this.setState({\r\n      catItems: {\r\n        count_pos: res.count_pos,\r\n        items_ras: res.items_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      resItems: null\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">  </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => {} } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} multiple={true} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.items_cat} multiple={false} value={this.state.item_cat} func={ (event) => {this.setState({ item_cat: event.target.value })} } label='Категория товара' />\r\n          </Grid>\r\n          \r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.items} multiple={true} value={this.state.myItems} func={ this.changeItems.bind(this) } label='Заготовки' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getItems.bind(this)}>Показать заготовки</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getCats.bind(this)}>Показать категории</Button>\r\n          </Grid>\r\n        \r\n        \r\n          { this.state.resItems && this.state.resItems.items_ras ?\r\n              \r\n            <>\r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Куплено по наклданым</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование товара</TableCell>\r\n                        <TableCell>Объем товра</TableCell>\r\n                        <TableCell>Объем заготовки</TableCell>\r\n                        <TableCell>Сумма</TableCell>\r\n                        <TableCell>Кол-во наклданых</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.items_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.name } </TableCell>\r\n                          <TableCell> { item.count_item + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name_pf } </TableCell>\r\n                          <TableCell> { item.sum } </TableCell>\r\n                          <TableCell> { item.count_bill } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                      <TableRow>\r\n                        <TableCell> Всего: </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> { this.state.resItems.full_sum } </TableCell>\r\n                        <TableCell> </TableCell>\r\n                      </TableRow>\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход заготовок (включая рецепты)</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                        <TableCell>Сумма роллов (примерно)</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.pf_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                          <TableCell> { item.price_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход рецептов</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.rec_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            </>\r\n              :\r\n            null              \r\n          }\r\n          \r\n          { this.state.catItems && this.state.catItems.rec_ras ?\r\n            <Grid item xs={12}>\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '50%' }}>Роллов: {this.state.catItems.count_pos.count_rolls}</Typography>\r\n                  <Typography style={{ width: '50%' }}>Пиццы: {this.state.catItems.count_pos.count_pizza}</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n              { this.state.catItems.rec_ras.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                  >\r\n                    <Typography style={{ width: '60%' }}>{item.name}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.this_price}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.price_by_items}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                    { item.parent_cat.map( (it, k) =>\r\n                      <Accordion key={k}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                        >\r\n                          <Typography style={{ width: '60%', paddingLeft: 20 }}>{it.name}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.this_price}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.price_by_items}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          <Accordion disabled={true}>\r\n                            <AccordionSummary>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товар</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товара</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Заготовок</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Накладных</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Сумма</Typography>\r\n                            </AccordionSummary>\r\n                          </Accordion>\r\n                          \r\n                          { it.items.map( (parent_items, parent_key) =>\r\n                            <Accordion key={parent_key} disabled={true}>\r\n                              <AccordionSummary>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_item} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_pf} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_bill}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.sum}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                          \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    ) }\r\n                    \r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) }\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '60%', marginRight: -15 }}>Всего:</Typography>\r\n                  <Typography style={{ width: '40%' }}>{ this.state.catItems.full_sum }</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n            </Grid>\r\n              :\r\n            null              \r\n          }\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasByBill() {\r\n  return (\r\n    <RasByBill_ />\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass CategoryItems_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'category_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialog2: false,\r\n      modalDialog3: false,\r\n      \r\n      newMainCatMy: 0,\r\n      editMainCatMy: 0,\r\n      newMainNameMy: '',\r\n      editMainNameMy: '',\r\n      \r\n      editCat: null,\r\n      \r\n      allCats: [],\r\n      allItems: [],\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0,\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      allCats: data.cats,\r\n      allItems: data.items,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  createCat(){\r\n    this.setState({\r\n      modalDialog: true,\r\n      newMainCatMy: 0,\r\n      newMainNameMy: ''\r\n    })\r\n  }\r\n  \r\n  changeCatMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeCatMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  async saveCat(){\r\n    let data = {\r\n      name: this.state.newMainNameMy,\r\n      cat_id: this.state.newMainCatMy\r\n    };\r\n    \r\n    let res = await this.getData('save_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  addItems(cat_id){\r\n    \r\n    let myVal = this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(cat_id) );\r\n    let data = this.state.allItems.filter( (item) => parseInt(item.cat_id) == 0 );\r\n    \r\n    this.setState({\r\n      modalDialog2: true,\r\n      thisValItems: myVal,\r\n      thisDataItems: data,\r\n      thisCatId: cat_id\r\n    })\r\n  }\r\n  \r\n  async saveItems(){\r\n    let data = {\r\n      cat_id: this.state.thisCatId,\r\n      items: this.state.thisValItems\r\n    };\r\n    \r\n    let res = await this.getData('save_items_cat', data);\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      allItems: res.items,\r\n      modalDialog2: false,\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0\r\n    })\r\n  }\r\n  \r\n  editCat(cat){\r\n    this.setState({\r\n      modalDialog3: true,\r\n      editMainCatMy: cat.parent_id,\r\n      editMainNameMy: cat.name,\r\n      editCat: cat\r\n    })\r\n  }\r\n  \r\n  async saveEditCat(){\r\n    let data = {\r\n      name: this.state.editMainNameMy,\r\n      cat_id: this.state.editMainCatMy,\r\n      id: this.state.editCat.id\r\n    };\r\n    \r\n    let res = await this.getData('edit_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) }\r\n                  value={this.state.newMainCatMy} \r\n                  func={ this.changeCatMain.bind(this) } />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField label=\"Название категории\" size=\"small\" variant=\"outlined\" style={{ width: '100%' }} color=\"primary\" value={this.state.newMainNameMy} onChange={this.changeNameMain.bind(this)} />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog2}\r\n          onClose={ () => { this.setState({ modalDialog2: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Позиции категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyAutocomplite \r\n                  label=\"Выбранные позиции\" \r\n                  multiple={true}\r\n                  func={ (event, val) => { this.setState({ thisValItems: val }) } }\r\n                  data={ this.state.thisDataItems } \r\n                  value={ this.state.thisValItems } />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveItems.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog3}\r\n          onClose={ () => { this.setState({ modalDialog3: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Редактирование категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) } \r\n                  value={this.state.editMainCatMy} \r\n                  func={ this.changeCatMainEdit.bind(this) } \r\n                />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField \r\n                  label=\"Название категории\" \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                  style={{ width: '100%' }} \r\n                  color=\"primary\" \r\n                  value={this.state.editMainNameMy} \r\n                  onChange={ this.changeNameMainEdit.bind(this) }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveEditCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.createCat.bind(this)}>Создать категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.allCats.map( (main_cat, main_key) =>\r\n              parseInt(main_cat.parent_id) != -1 ? null :\r\n                <Accordion key={main_key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                  >\r\n                    <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, main_cat) } />\r\n                    <Typography>{main_cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                  { this.state.allCats.map( (parent_cat, parent_key) =>\r\n                    parseInt(main_cat.id) != parseInt(parent_cat.parent_id) ? null :\r\n                      <Accordion key={main_key+'_'+parent_key}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1a-content\"\r\n                        >\r\n                          <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, parent_cat) } />\r\n                          <Typography>{parent_cat.name}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          { this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(parent_cat.id) ).map( (item, key) =>\r\n                            <Accordion key={main_key+'_'+parent_key+'_'+key}>\r\n                              <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                              >\r\n                                <Typography>{item.name}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                            \r\n                          <Button onClick={this.addItems.bind(this, parseInt(parent_cat.id))}>Добавить</Button>\r\n                            \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                  )}\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n            ) }\r\n          </Grid>\r\n          \r\n          \r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CategoryItems() {\r\n  return (\r\n    <CategoryItems_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass VendorModule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'vendor_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalItems: false,\r\n      modalVendor: false,\r\n      modalVendorNew: false,\r\n      \r\n      vendors: [],\r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n      openVendor: null,\r\n      customAdd: 0,\r\n      \r\n      vendorCities: [],\r\n      allCities: [],\r\n      \r\n      nds: [\r\n        { id: -1, name: 'Без НДС' },\r\n        { id: 10, name: '10% НДС' },\r\n        { id: 20, name: '20% НДС' },\r\n      ],\r\n      nds_: [\r\n        -1, 10, 20\r\n      ],\r\n      \r\n      cities: [],\r\n      city: -1\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      vendors: data.vendors,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeNDS(item_id, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        item.nds = event.target.value;\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  async openModalItems(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: true,\r\n      allItems: res.all_items,\r\n      vendor_items: res.vendor_items,\r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async openModalVendor(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendor: true,\r\n      openVendor: res.vendor,\r\n      vendorCities: res.vendor_cities,\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async openModalVendorNew(){\r\n    let data = {\r\n      vendor_id: 0\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendorNew: true,\r\n      openVendor: {\r\n        addr: \"\",\r\n        bill_ex: \"0\",\r\n        email: \"\",\r\n        email_2: \"\",\r\n        inn: \"\",\r\n        min_price: \"\",\r\n        name: \"\",\r\n        need_img_bill_ex: \"0\",\r\n        ogrn: \"\",\r\n        phone: \"\",\r\n        text: \"\",\r\n      },\r\n      vendorCities: [],\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async saveVendorItems(){\r\n    let data = {\r\n      vendor_id: this.state.openVendor.id,\r\n      items: this.state.vendor_items\r\n    }\r\n    \r\n    let check = data.items.filter( (item, key) => !this.state.nds_.includes( parseInt(item.nds) ) );\r\n    \r\n    if( check.length > 0 ){\r\n      alert('У одной или нескольких позиций не заполнен НДС')\r\n      \r\n      return ;\r\n    }\r\n    \r\n    let res = await this.getData('save_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: false,\r\n      vendor_items: [],\r\n      openVendor: null\r\n    })\r\n  }\r\n  \r\n  async saveVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('update_vendor', data);\r\n    \r\n    this.setState({\r\n      modalVendor: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  async addVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('new_vendor', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      modalVendorNew: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  delItem(item_id){\r\n    let items = this.state.vendor_items;\r\n    \r\n    items = items.filter( (item) => parseInt(item.item_id) != parseInt(item_id) );\r\n    \r\n    this.setState({\r\n      vendor_items: items\r\n    })\r\n  }\r\n  \r\n  addItem(item){\r\n    let this_items = this.state.vendor_items;\r\n    let check = this_items.find( (it) => parseInt(it.item_id) == parseInt(item.id) );\r\n    \r\n    if( !check ){\r\n      this_items.push({\r\n        item_id: item.id,\r\n        item_name: item.name,\r\n        nds: -2\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      vendor_items: this_items\r\n    })\r\n  }\r\n  \r\n  addItemCustom(){\r\n    let item = this.state.allItems.find( (item1) => parseInt(item1.id) == parseInt(this.state.customAdd) );\r\n    \r\n    this.addItem(item);\r\n  }\r\n  \r\n  testChange(data, event){\r\n    let vendor = this.state.openVendor;\r\n    \r\n    if( data == 'bill_ex' || data == 'need_img_bill_ex' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItems}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItems: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Товары поставщика {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container style={{ paddingTop: 20 }}>\r\n              \r\n              <Grid item xs={12} sm={5} style={{ paddingRight: 10 }}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow style={{ height: 75 }}>\r\n                      <TableCell>\r\n                        <MySelect data={this.state.allItems} value={this.state.customAdd} func={ (event) => { this.setState({ customAdd: event.target.value }) } } />\r\n                      </TableCell>\r\n                      <TableCell><AddIcon onClick={this.addItemCustom.bind(this)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                    </TableRow>\r\n                    \r\n                    { this.state.allItems.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell><AddIcon onClick={this.addItem.bind(this, item)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              <Grid item xs={12} sm={7}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    { this.state.vendor_items.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.item_name}</TableCell>\r\n                        <TableCell>\r\n                          <MyTextInput label=\"\" value={ item.sort } func={ this.changeSort.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <MySelect data={this.state.nds} value={item.nds} func={ this.changeNDS.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell><CloseIcon onClick={ this.delItem.bind(this, item.item_id) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              \r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendorItems.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendor}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendor: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Поставщик {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } disabled={true} />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite multiple={true} label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { console.log(value); this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendorNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendorNew: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новый поставщик</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.addVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalVendorNew.bind(this)} variant=\"contained\">Добавить поставщика</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell component=\"th\">Название</TableCell>\r\n                    <TableCell component=\"th\">Назначенные товары</TableCell>\r\n                    <TableCell component=\"th\"><VisibilityIcon /></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.vendors.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell><Typography onClick={ this.openModalVendor.bind(this, item) } style={{ cursor: 'pointer', width: 'max-content' }}>{item.name}</Typography></TableCell>\r\n                      <TableCell><DirectionsCarIcon onClick={ this.openModalItems.bind(this, item) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      <TableCell>{ parseInt(item.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> }</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorModule() {\r\n  return (\r\n    <VendorModule_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass VendorItemPrice_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'vendor_item_price',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      vendors: [],\r\n      vendor: null,\r\n      \r\n      items: [],\r\n      \r\n      cities: [],\r\n      city: '',\r\n      allCity: false,\r\n      isPrioriti: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value,\r\n      vendor: null,\r\n      items: []\r\n    })\r\n  }\r\n  \r\n  async changeVendor(event, value){\r\n\r\n    console.log( event.target.value, value )\r\n\r\n    let data = {\r\n      city: this.state.city,\r\n      vendor_id: value.id,\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      items: res,\r\n      vendor: value,\r\n    })\r\n  }\r\n  \r\n  update(item_id, data, event){\r\n    let this_items = this.state.items;\r\n    \r\n    this_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        this_items[key][data] = event.target.value;\r\n        \r\n        this_items[key]['price'] = (parseFloat(this_items[key]['full_price']) / parseFloat(this_items[key]['rec_pq'])).toFixed(2);\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      items: this_items\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      vendor_id: this.state.vendor,\r\n      items: this.state.items,\r\n      city_id: this.state.city,\r\n      all_city: this.state.allCity === true ? 1 : 0,\r\n      is_prioriti: this.state.isPrioriti === true ? 1 : 0,\r\n    }\r\n    \r\n    if( data.all_city == 1 ){\r\n      if( confirm(\"Точно сохранить на все города поставщика ?\") ){\r\n        let res = await this.getData('save_price', data);\r\n      }\r\n    }else{\r\n      let res = await this.getData('save_price', data);\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 999 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n            \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite data={this.state.vendors} value={this.state.vendor} func={ this.changeVendor.bind(this) } multiple={false} label='Поставщик' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyCheckBox value={this.state.allCity} func={ (event) => { this.setState({ allCity: event.target.checked }) } } label='На все города поставщика' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox value={this.state.isPrioriti} func={ (event) => { this.setState({ isPrioriti: event.target.checked }) } } label='Приоритетный постащик' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Button onClick={this.save.bind(this)} variant=\"contained\">Сохранить</Button>\r\n          </Grid>\r\n          \r\n          \r\n          <Grid item xs={12}>\r\n              \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Позиция</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>Комментарий</TableCell>\r\n                    <TableCell>Цена за упаковку</TableCell>\r\n                    <TableCell>Объем упаковки</TableCell>\r\n                    <TableCell>Цена за 1 ед.</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.items.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.name_for_vendor}</TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.comment} func={ this.update.bind(this, item.item_id, 'comment') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.full_price} func={ this.update.bind(this, item.item_id, 'full_price') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MySelect data={item.pqs} value={ parseInt(item.rec_pq) == 0 ? '' : item.rec_pq } func={ this.update.bind(this, item.item_id, 'rec_pq') } label='' />\r\n                      </TableCell>\r\n                      <TableCell>{item.price} / {item.ei_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n            \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorItemPrice() {\r\n  return (\r\n    <VendorItemPrice_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyAutocomplite } from '../../stores/elements';\r\n\r\nimport {AgGridColumn, AgGridReact} from 'ag-grid-react';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst dynamicCellStyle = params => {\r\n  if( params.colDef.headerName == 'Цена' ){\r\n    return { borderRight: '1px solid #bababa' };\r\n  }\r\n  return null;\r\n};\r\n\r\nclass Tender_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'tender',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      testTable: [],\r\n      vendors: [],\r\n      myVendors: [],\r\n      showVendors: [],\r\n      \r\n      params_api: null,\r\n      params_columnApi: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let table = [];\r\n    \r\n    data.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          data['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = data.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) );\r\n            \r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = data.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      testTable: table,\r\n      vendors: data['vendors'],\r\n      showVendors: data['vendors']\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n  \r\n  onCellClicked(event){\r\n    console.log( event.data );\r\n    console.log( event.colDef.field );\r\n  }\r\n  \r\n  onGridReady(params){\r\n    this.setState({\r\n      params_api: params.api,\r\n      params_columnApi: params.columnApi\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      vendors: this.state.myVendors\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    let table = [];\r\n    \r\n    res.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          res['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = res.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) )\r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = res.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      testTable: table,\r\n      showVendors: res['vendors']\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            \r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button  color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.vendors} multiple={true} value={this.state.myVendors} func={ (event, val) => { this.setState({ myVendors: val }) } } label='Поставщики' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Показать</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <div className=\"ag-theme-alpine\" style={{height: 600, width: '100%'}}>\r\n              <AgGridReact\r\n                  onGridReady={this.onGridReady.bind(this)}\r\n                  onCellClicked={this.onCellClicked}\r\n                  rowData={ this.state.testTable }\r\n                  \r\n                  >\r\n                  <AgGridColumn field=\"ras\" width={120} pinned=\"left\"></AgGridColumn>\r\n                  <AgGridColumn field=\"item\" width={300} pinned=\"left\" cellClassRules={{'cell-span': \"data.section==='big-title'\"}}></AgGridColumn>\r\n                  <AgGridColumn hide={true}></AgGridColumn>\r\n                    \r\n                  { this.state.showVendors.map( (item, key) => \r\n                    <AgGridColumn key={key} headerName={item.name} resizable={true} width={180}>\r\n                      <AgGridColumn field={'vend_city_'+item.id} headerName={'Город'} resizable={true} width={90}></AgGridColumn>\r\n                      <AgGridColumn field={'vend_price_'+item.id} headerName={'Цена'} resizable={true} width={90} cellStyle={dynamicCellStyle}></AgGridColumn>\r\n                    </AgGridColumn>\r\n                  ) }\r\n                  \r\n                  \r\n              </AgGridReact>\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n          \r\n          </Grid>    \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Tender() {\r\n  return (\r\n    <Tender_ />\r\n  );\r\n}","import React from 'react';\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport RestoreIcon from '@mui/icons-material/Restore';\r\nimport SaveIcon from '@mui/icons-material/SaveAs';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport Paper from '@mui/material/Paper';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\n// главная страница\r\nclass Revizion_ extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      search: '',\r\n\r\n      items: [],\r\n      pf: [],\r\n      rec: [],\r\n      items_b: [],\r\n      pf_b: [],\r\n      rec_b: [],\r\n      all_data: [],\r\n        \r\n      chooseTab: 0,\r\n      \r\n    };\r\n  }\r\n\r\n  // переменные для фильтра\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name,\r\n\t  all_data: data.get_data_for_new_rev\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n   // смена точки\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n       point: data,\r\n       search: ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getRevList();\r\n    }, 50 )\r\n  }\r\n\r\n  // смена ревизии\r\n  changeRev(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n        chooseRev: data,\r\n        search : ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n\r\n   // поиск\r\n  async search(event){\r\n\t    \r\n\t\tlet data = {\r\n\t\t\tpoint_id: this.state.point,\r\n\t\t\tshowReady: this.state.showReady === true ? 1 : 0\r\n\t\t};\r\n    \r\n        // дергаем товары, полуфабрикаты, рецпеты\r\n        let res = this.state;\r\n        let items, rec, pf, text;\r\n        text = event.target.value.toLowerCase();\r\n\r\n        // Фильтрация\r\n        items = this.state.items_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        rec = this.state.rec_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        pf = this.state.pf_b.filter((item) => item.name.toLowerCase().includes(text));\r\n\r\n        this.setState({\r\n            items  : items,\r\n            rec    : rec,\r\n            pf     : pf,\r\n            search : text\r\n         })\r\n\t\r\n  }\r\n\r\n   // метод обновления данных\r\n  async updateData(){\r\n\t  \r\n    let data = {\r\n      rev_id\t: this.state.chooseRev,\r\n      point_id\t: this.state.point,\r\n    };\r\n\t\r\n\t// to do переписать\r\n    let res = await this.getData('get_data_rev', data);\r\n          \r\n\t// отрисовка\r\n\tthis.setState({\r\n      items     : res.item,\r\n      rec       : res.rec,\r\n      pf        : res.pf,\r\n      items_b   : res.item,\r\n      rec_b     : res.rec,\r\n      pf_b      : res.pf,\r\n    })\r\n  }\r\n\r\n   // получение списка ревизий\r\n  async getRevList(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n    \r\n    this.setState({\r\n      revList: res,\r\n      chooseRev: res.length > 0 ? res[0]['id'] : ''\r\n    })\r\n    \r\n    if( res.length > 0 ){\r\n      setTimeout( () => {\r\n        this.getDataRev();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n   // получение данных ревизии\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      rev_id: this.state.chooseRev\r\n    };\r\n    \r\n    let res = await this.getData('get_data_rev', data);\r\n    \r\n    this.setState({\r\n        items: res.item,\r\n        rec: res.rec,\r\n        pf: res.pf,\r\n        items_b: res.item,\r\n        rec_b: res.rec,\r\n        pf_b: res.pf,\r\n    })\r\n  }\r\n\r\n\r\n   // рендер главная\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Link to={\"/revizion/new\"}>Новая ревизия</Link>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.revList} value={this.state.chooseRev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\t\t      <Grid item xs={12} sm={6}>\r\n\t\t\t      <MyTextInput func={ this.search.bind(this) } label='Поиск' value={this.state.search} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Товар</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.items.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Заготовка</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.pf.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// Данные для страницы новая ревизия\r\nclass RevizionNewItem extends React.Component{\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        item    : this.props.item,\r\n        pf      : this.props.pf,\r\n        change  : this.props.change,\r\n        type    : this.props.type,\r\n    };\r\n   }\r\n\r\n  // to do del\r\n  componentWillMount() {\r\n      //console.log('Will type=' + this.state.type);\r\n  }\r\n  componentDidMount() {\r\n      //console.log('type=' + this.state.type);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n        this.state.change !== nextState.change ||\r\n        this.state.change !== nextProps.change\r\n    );\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          //aria-controls=\"panel1a-content\"\r\n          //id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{ width: '60%' }}>{this.state.item.name} </Typography>\r\n          <Typography style={{ width: '40%' }}>{this.state.item.value} {this.state.item.ei_name} </Typography>\r\n        </AccordionSummary>\r\n\r\n            {/* Товары */}\r\n            {this.state.type != 'item'  ? null :\r\n                <AccordionDetails>\r\n                    {this.state.item.counts.map((it, k) =>\r\n                        \r\n                        <Grid container spacing={3} key={k} style={{ paddingTop: 10, paddingBottom: 10 }}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <MySelect data={this.state.item.size} value={it.need_pq} func={this.props.func.bind(this, 'item', this.props.itemKey, 'need_pq', k)} label='Объем упаковки' />\r\n                            </Grid>\r\n                            <Grid item xs={k == 0 ? 12 : 9} sm={5}>\r\n                                <TextField value={it.value} onChange={this.props.func.bind(this, 'item', this.props.itemKey, 'value', k)} fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                            </Grid>\r\n                            {k == 0 ? null :\r\n                                <Grid item xs={3} sm={1}>\r\n                                    <Button onClick={this.props.clear.bind(this, 'item', this.props.itemKey, k)} variant=\"contained\"> <CloseIcon /> </Button>\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        \r\n                    ) }\r\n          \r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button variant=\"contained\" onClick={this.props.copy.bind(this, 'item', this.props.itemKey)}>Дублировать</Button>\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n            { /* Заготовки */}\r\n            {this.state.type != 'pf' ? null :\r\n                <AccordionDetails> \r\n                    <Grid item sm={5}> \r\n                        <TextField value={this.state.pf.value} onChange={ this.props.func.bind(this, 'pf', this.props.itemKey, 'value', 0) }  fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n      </Accordion>\r\n    )\r\n  }\r\n}\r\n\r\n// Новая ревизия\r\nclass RevizionNew_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      storages: [],\r\n      items: [],\r\n      rec: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      modalDialog: false,\r\n      open: false\r\n    };\r\n    }\r\n\r\n\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n\r\n    // измение точки подгрузка данных\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300)\r\n\r\n    }\r\n\r\n  // метод получения данных\r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n\t  \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n    // получаем данные\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_data_for_new_rev', data);\r\n      \r\n    this.setState({\r\n      storages: res['storages'],\r\n      items: res['items'],\r\n      rec: res['rec'],\r\n      pf: res['pf']\r\n    })\r\n\r\n  }\r\n\r\n  // предварительное сохранение\r\n  saveData(type, key_item, data, key_data, event){\r\n      console.log('saveData');\r\n\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'][key_data][ [data] ] = event.target.value;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n      }\r\n\r\n      if (type == 'pf') {\r\n\r\n          let pf = this.state.pf;\r\n         \r\n          pf[key_item]['value'] = event.target.value;\r\n          pf[key_item]['change']++;\r\n\r\n          this.setState({\r\n              pf: pf\r\n          })\r\n          console.log('pf', pf);\r\n      }\r\n    \r\n  }\r\n\r\n   // проверка полей, отображения модального окна\r\n   checkData() {\r\n       console.log('checkData');\r\n       let items = this.state.items;\r\n       let pf = this.state.pf;\r\n\r\n       // проверка заполнения полей товаров, скрываем не заполненные\r\n       items.map((item, key) =>  {\r\n            if(item.value != 0){\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('item=', item, ' key ', key);\r\n       })\r\n\r\n       pf.map((item, key) => {\r\n            if (item.value != 0) {\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('pf=', item, ' pf ', key);\r\n       })\r\n\r\n       this.setState({\r\n           items: items,\r\n           pf   : pf\r\n       })\r\n\r\n       this.setState({\r\n           modalDialog: true,\r\n           titleDialog: 'Ты уверен в правильности этих позиций ?'\r\n       })\r\n   }\r\n\r\n  // копируем\r\n  copyData(type, key_item){\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'].push({ need_pq: items[key_item]['counts'][0]['need_pq'], value: 0 })\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n  }\r\n\r\n  // очищаем\r\n  clearData(type, key_item, key_data){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      let new_counts = [];\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        if( key != key_data ){\r\n          new_counts.push( item )\r\n        }\r\n      } )\r\n      \r\n      items[key_item]['counts'] = new_counts;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  // получение данных ревизии\r\n  async saveRev() {\r\n    let data = {\r\n        point_id: this.state.point,\r\n        item: this.state.item,\r\n        rec: this.state.rec,\r\n        pf: this.state.pf,\r\n    };\r\n    console.log('saveRev ', data);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новая ревизии</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.checkData.bind(this)} >Сохранить</Button>\r\n           </Grid>\r\n\r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n\r\n            {/* Товары * to do меняем TabPanel на div и в стилях скрываем style: this.state.chooseTab == 1 ? {display: blovk} : {display: monr} */}\r\n            <div style = { this.state.chooseTab == 0 ? {display: 'block'} : {display: 'none'} } >\r\n              \r\n              {this.state.items.map((item, key) => \r\n                parseInt(item.is_show) == 0 ? null :\r\n                   <RevizionNewItem key={key} type=\"item\" itemKey={key} item={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this)} />\r\n              )} \r\n              \r\n            </div>\r\n\r\n            {/* Заготовки */}\r\n            <div style={this.state.chooseTab == 1 ? { display: 'block' } : { display: 'none' }} >\r\n\r\n                {this.state.pf.map((item, key) =>\r\n                   parseInt(item.is_show) == 0 ? null :\r\n                    <RevizionNewItem key={key} type=\"pf\" itemKey={key} item={item} pf={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this) } />\r\n                )}\r\n              \r\n            </div>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.storages.map( (item, key) =>\r\n                <ListItem button key={key}>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        { this.state.storages.length == 0 ? null :\r\n          <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n            <BottomNavigation\r\n              showLabels\r\n             \r\n            >\r\n              <BottomNavigationAction onClick={(event, newValue) => {\r\n                            this.setState({ open: true })\r\n                        }}  label=\"Recents\" icon={<RestoreIcon />} />\r\n                        <BottomNavigationAction onClick={this.checkData.bind(this)} label=\"Save\" icon={<SaveIcon />} />\r\n            </BottomNavigation>\r\n          </Paper>\r\n         }\r\n\r\n        <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={() => { this.setState({ modalDialog: false }) }}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{this.state.titleDialog}</DialogTitle>\r\n                <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <Grid container spacing={3}>Не все поля заполнены </Grid>\r\n                    </DialogContentText>\r\n\r\n                    <Grid container spacing={3}>\r\n                        <Grid item>Позиция </Grid>\r\n                        <Grid item>Кол-во </Grid>\r\n                        <Grid item>Ед. измер. </Grid>\r\n                    </Grid>\r\n                        \r\n                    \r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\">Хорошо</Button>\r\n                <Button color=\"primary\">Сохранить</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Revizion() {\r\n  return (\r\n    <Revizion_ />\r\n  );\r\n}\r\n\r\nexport function RevizionNew() {\r\n  return (\r\n    <RevizionNew_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\n\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport { blue } from '@mui/material/colors';\r\n\r\nimport HomeWorkIcon from '@mui/icons-material/HomeWork';\r\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\r\n\r\nimport LooksOneIcon from '@mui/icons-material/LooksOne';\r\nimport LooksTwoIcon from '@mui/icons-material/LooksTwo';\r\nimport Looks3Icon from '@mui/icons-material/Looks3';\r\n\r\nimport AssessmentIcon from '@mui/icons-material/Assessment';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string'); \r\n\r\nfunction SimpleDialog(props) {\r\n  const { onClose, selectedValue, open } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose(selectedValue);\r\n  };\r\n\r\n  const handleListItemClick = (value) => {\r\n    onClose(value);\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <List sx={{ pt: 0 }}>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <AccessTimeIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить часы на месяц\" />\r\n        </ListItem>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <SyncAltIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить смену\" />\r\n        </ListItem>\r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <HomeWorkIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить точку\" />\r\n        </ListItem>\r\n        \r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nSimpleDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.string.isRequired,\r\n};\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass HeaderItem extends React.Component {\r\n  render(){\r\n    return (\r\n      <>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Ур. кафе: {this.props.lv_cafe}</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Число месяца</TableCell>\r\n\r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.date}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell></TableCell>\r\n              \r\n              { this.props.dataKey > 0 ? \r\n                <>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                </>\r\n                  :\r\n                <>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeDopBonus}>{ !this.props.bonus_other ? '+ / -' : parseInt(this.props.bonus_other) == 1 ? <AddIcon style={{ fontSize: 30, color: 'green' }} /> : <CloseIcon style={{ fontSize: 30, color: 'red' }} /> }</TableCell>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeLVDir}>Ур. дира: {this.props.lv_dir}</TableCell>\r\n                </>\r\n              }\r\n                  \r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n            </>\r\n          }\r\n\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Сотрудник</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Должность</TableCell>\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.day}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell style={{ textAlign: 'center' }}>За 1ч</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Командный бонус</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>За часы</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Ошибки</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Бонус</TableCell>\r\n              { this.props.show_zp == 1 || this.props.show_zp == 0 ?\r\n                <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                  :\r\n                null\r\n              }\r\n              <TableCell style={{ textAlign: 'center' }}>Выдано</TableCell>\r\n            </>\r\n          }\r\n        </TableRow>\r\n        \r\n        <TableRow style={{ backgroundColor: '#e5e5e5' }}>\r\n          <TableCell style={{ textAlign: 'center' }} colSpan={ this.props.days.length + 3 + 7 }>{this.props.item.data}</TableCell>\r\n        </TableRow>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass WorkSchedule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'work_schedule',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      mounths: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      \r\n      one: null,\r\n      two: null,\r\n      test_one: [],\r\n      test_two: [],\r\n      \r\n      isOpenModalH: false,\r\n      \r\n      userInfo: null,\r\n      \r\n      hList: [],\r\n      mList: [],\r\n      \r\n      newTimeStart: '10:00',\r\n      newTimeEnd: '22:00',\r\n      \r\n      openNewTimeAdd: false,\r\n      \r\n      otherAppList: [],\r\n      otherApp: '',\r\n      \r\n      testVal: '',\r\n      testOpen: false,\r\n      \r\n      mainMenu: false,\r\n      mainMenuH: false,\r\n      mainMenuSmena: false,\r\n      show_bonus: false,\r\n      mainMenuPrice: false,\r\n      mainMenuLVDIR: false,\r\n      mainMenuDopBonus: false,\r\n\r\n      show_zp_one: 0,\r\n      show_zp_two: 0,\r\n      kind: '',\r\n\r\n      myOtherSmens: [],\r\n      \r\n      chooseUser: null,\r\n\r\n      tabTable: 1,\r\n\r\n      lv_cafe: 0,\r\n      lv_dir: 0,\r\n      arr_dir_lv: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = {\r\n      \r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n    \r\n    let hList = [];\r\n    let mList = [];\r\n    \r\n    for(let h = 0; h <= 23; h ++){\r\n      hList.push({\r\n        id: h,\r\n        name: h\r\n      })\r\n    }\r\n    \r\n    for(let m = 0; m <= 50; m += 10){\r\n      mList.push({\r\n        id: m,\r\n        name: m\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      points: res.point_list,\r\n      point: res.point_list[0].id,\r\n      \r\n      mounths: res.mounths,\r\n      mounth: res.mounths.find( (item) => parseInt( item.is_active ) == 1 )['id'],\r\n      \r\n      hList: hList,\r\n      mList: mList,\r\n      \r\n      module_name: res.module_info.name\r\n    })\r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    let arr_dir_lv = [];\r\n\r\n    for(let i = 1; i <= 20; i ++){\r\n      arr_dir_lv.push(i);\r\n    }\r\n\r\n    this.setState({\r\n      arr_dir_lv: arr_dir_lv\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      mounth: this.state.mounth\r\n    };\r\n    \r\n    let res = await this.getData('get_graph', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      one: res.date.one,\r\n      two: res.date.two,\r\n      \r\n      test_one: res.one,\r\n      test_two: res.two,\r\n\r\n      show_zp_one: res.show_zp_one,\r\n      show_zp_two: res.show_zp_two,\r\n      kind: res.kind,\r\n\r\n      lv_cafe: res.lv_cafe,\r\n      lv_dir: res.lv_dir\r\n    })\r\n  }\r\n  \r\n  async openH(item, this_date){\r\n    console.log( item )\r\n    \r\n    let data = {\r\n      smena_id: item.smena_id,\r\n      app_id: item.app_id,\r\n      user_id: item.id,\r\n      date: this_date,\r\n      date_start: item.date\r\n    };\r\n    \r\n    let res = await this.getData('get_user_day', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      isOpenModalH: true,\r\n      userInfo: res.h_info,\r\n      otherAppList: res.other_app,\r\n      show_bonus: res.show_bonus\r\n    })\r\n  }\r\n  \r\n  delTime(key_time){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours = userInfo.hours.filter( (item, key) => parseInt(key) != parseInt(key_time) );\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  changeHourse(type, key, event){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours[ key ][ [type] ] = event.target.value;\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  async saveDayHourse(){\r\n    let data = {\r\n      date: this.state.userInfo.date,\r\n      user_id: this.state.userInfo.user_id,\r\n      smena_id: this.state.userInfo.smena_id,\r\n      app_id: this.state.userInfo.app_id,\r\n      hours: this.state.userInfo.hours,\r\n      new_app: this.state.userInfo.new_app,\r\n      mentor_id: this.state.userInfo.mentor_id\r\n    }\r\n    \r\n    let res = await this.getData('save_user_day', data);\r\n    \r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n  \r\n  addTime(){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    let check = userInfo.hours.find( (item) => item.time_start == this.state.newTimeStart && item.time_end == this.state.newTimeEnd );\r\n    \r\n    if( check ){\r\n      this.setState({\r\n        openNewTimeAdd: false\r\n      })\r\n      \r\n      return ;\r\n    }\r\n    \r\n    userInfo.hours.push({\r\n      time_start: this.state.newTimeStart,\r\n      time_end: this.state.newTimeEnd\r\n    })\r\n    \r\n    this.setState({\r\n      userInfo: userInfo,\r\n      openNewTimeAdd: false\r\n    })\r\n  }\r\n  \r\n  async fastTime(type){\r\n    let data = {\r\n      type: type,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth\r\n    }\r\n    \r\n    let res = await this.getData('save_fastTime', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async fastSmena(smena_id){\r\n    let data = {\r\n      new_smena_id: smena_id,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_fastSmena', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async changePriceH(price){\r\n    let data = {\r\n      price: price,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_userPriceH', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuPrice: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeLVDir(){\r\n    this.setState({\r\n      mainMenuLVDIR: true\r\n    })\r\n  }\r\n\r\n  async newLvDir(LV){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      point_id: this.state.point,\r\n      dir_lv: LV\r\n    }\r\n    \r\n    let res = await this.getData('save_dir_lv', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuLVDIR: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeDopBonus(){\r\n    this.setState({\r\n      mainMenuDopBonus: true\r\n    })\r\n  }\r\n\r\n  async dop_bonus(type){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable,\r\n      point_id: this.state.point,\r\n      type: type\r\n    }\r\n    \r\n    let res = await this.getData('save_dop_bonus', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuDopBonus: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenu: false }) } } open={this.state.mainMenu}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.full_app_name} {this.state.chooseUser.user_name} {this.state.mounth}</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuH: true }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <AccessTimeIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить часы на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuSmena: true, myOtherSmens: this.state.chooseUser.other_smens }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <SyncAltIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить смену\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <HomeWorkIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить точку\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuH: false }) } } open={this.state.mainMenuH}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часы</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 1)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksOneIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 1 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 2)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksTwoIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Со 2 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 3)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 3 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 4)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 4 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuSmena: false }) } } open={this.state.mainMenuSmena}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Смена</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.myOtherSmens.map( (item, key) =>\r\n              <ListItem key={key} button onClick={this.fastSmena.bind(this, item.id)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ) }\r\n        \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuPrice: false }) } } open={this.state.mainMenuPrice}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часовая ставка</DialogTitle>\r\n          }\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <List sx={{ pt: 0 }}>\r\n              \r\n              { this.state.chooseUser.price_arr.map( (item, key) =>\r\n                <ListItem key={key} button onClick={this.changePriceH.bind(this, item)} style={ parseFloat(this.state.chooseUser.price_p_h) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} }>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                      <AssessmentIcon />\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText primary={item} />\r\n                </ListItem>\r\n              ) }\r\n          \r\n            </List>\r\n          }\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuLVDIR: false }) } } open={this.state.mainMenuLVDIR}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Уровень директора</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.arr_dir_lv.map( (item, key) =>\r\n              <ListItem key={key} button style={ parseFloat(this.state.lv_dir) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} } onClick={this.newLvDir.bind(this, item)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item+' уровень'} />\r\n              </ListItem>\r\n            ) }\r\n          </List>\r\n          \r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuDopBonus: false }) } } open={this.state.mainMenuDopBonus}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Командный бонус</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'green' }}>\r\n                  <CheckIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Выдать'} />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'red' }}>\r\n                  <CloseIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Отказать'} />\r\n            </ListItem>\r\n            \r\n          </List>\r\n          \r\n        </Dialog>\r\n        \r\n        { !this.state.userInfo ? null :\r\n          <Dialog\r\n            open={this.state.isOpenModalH}\r\n            onClose={ () => { this.setState({ isOpenModalH: false }) } }\r\n            scroll='paper'\r\n            aria-labelledby=\"scroll-dialog-title\"\r\n            aria-describedby=\"scroll-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"scroll-dialog-title\">{this.state.userInfo.user.app_name + ' ' + this.state.userInfo.user.user_name + ' ' + this.state.userInfo.date}</DialogTitle>\r\n            <DialogContent dividers={true}>\r\n              \r\n              <Typography style={{ marginBottom: 10 }}>{'Моя нагрузка: ' + this.state.userInfo.user.my_load_h + ' / Средняя нагрузка: ' + this.state.userInfo.user.all_load_h}</Typography>\r\n              { this.state.show_bonus === false ? null :\r\n                <Typography style={{ marginBottom: 20 }}>{'Бонус: ' + this.state.userInfo.user.bonus}</Typography>\r\n              }\r\n              \r\n              { this.state.otherAppList.length == 0 ? null :\r\n                <MySelect data={this.state.otherAppList} value={this.state.userInfo.new_app} func={ (event) => { let userInfo = this.state.userInfo; userInfo.new_app = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              { this.state.userInfo.mentor_list.length == 0 ? null :\r\n                <MySelect data={this.state.userInfo.mentor_list} value={this.state.userInfo.mentor_id} func={ (event) => { let userInfo = this.state.userInfo; userInfo.mentor_id = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              <Accordion \r\n                style={{ marginTop: 10 }} \r\n                expanded={this.state.openNewTimeAdd} \r\n                onChange={ () => { this.setState({ openNewTimeAdd: !this.state.openNewTimeAdd }) } }>\r\n                  \r\n                <AccordionSummary\r\n                  expandIcon={<AddIcon />}\r\n                >\r\n                  <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                  <Typography>Добавить время</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  \r\n                  <MyTimePicker value={this.state.newTimeStart} func={ (event) => { this.setState({ newTimeStart: event.target.value }) } } label='Время начала работы' />\r\n                  <MyTimePicker value={this.state.newTimeEnd} func={ (event) => { this.setState({ newTimeEnd: event.target.value }) } } label='Время окончания работы' />\r\n                  \r\n                  <AddIcon style={{ minWidth: 50, minHeight: 38, cursor: 'pointer' }} onClick={ this.addTime.bind(this) } />\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hours.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<CloseIcon onClick={ this.delTime.bind(this, key) } />}\r\n                  >\r\n                    <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                    <Typography>{item.time_start + ' - ' + item.time_end}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                    <MyTimePicker value={item.time_start} func={ this.changeHourse.bind(this, 'time_start', key) } label='Время начала работы' />\r\n                    <MyTimePicker value={item.time_end} func={ this.changeHourse.bind(this, 'time_end', key) } label='Время окончания работы' />\r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n              \r\n              <Accordion style={{ marginTop: 50 }} disabled>\r\n                <AccordionSummary>\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hist.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary>\r\n                    <Typography>{item.date + ' - ' + item.user_name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    \r\n                    { item.items.map( (it, k) =>\r\n                      <Typography key={k}>{it.time_start + ' - ' + it.time_end} {it.app_name == '' ? '' : ' - ' + it.app_name} </Typography>\r\n                    ) }\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n            </DialogContent>\r\n            <DialogActions style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Button style={{ backgroundColor: 'green', color: '#fff' }} onClick={this.saveDayHourse.bind(this)}>Сохранить</Button>\r\n              <Button style={{ backgroundColor: 'red', color: '#fff' }} onClick={() => { this.setState({ isOpenModalH: false }) }}>Отмена</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ (event) => { this.setState({ point: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.mounths} value={this.state.mounth} func={ (event) => { this.setState({ mounth: event.target.value }) } } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n            \r\n              \r\n          <Box sx={{ width: '100%' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={this.state.tabTable} onChange={ (event, data) => { this.setState({ tabTable: data }) } } centered >\r\n                <Tab label=\"С 1 по 15 числа\" {...a11yProps(0)} />\r\n                <Tab label=\"С 16 по конец месяца\" {...a11yProps(1)} />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={this.state.tabTable} index={0}>\r\n              { !this.state.one ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_one\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_one.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem key={key} bonus_other={this.state.one.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} kind={this.state.kind} show_zp={this.state.show_zp_one} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.one.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n\r\n                                { this.state.show_zp_one == 1 || this.state.show_zp_one == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n\r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            <TabPanel value={this.state.tabTable} index={1}>\r\n              { !this.state.two ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_two\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_two.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem bonus_other={this.state.two.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} key={key} kind={this.state.kind} show_zp={this.state.show_zp_two} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.two.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n                                \r\n                                { this.state.show_zp_two == 1 || this.state.show_zp_two == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            \r\n          </Box>\r\n          \r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function WorkSchedule() {\r\n  return (\r\n    <WorkSchedule_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nclass MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSale2_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new');\r\n    \r\n    let date = new Date();\r\n    let fullDate = '';\r\n    \r\n    let Y = date.getFullYear();\r\n    let M = date.getMonth()+1;\r\n    let D = date.getDate();\r\n    \r\n    fullDate = Y + '-' + ( parseInt(M) > 9 ? M : '0'+M ) + '-' + ( parseInt(D) > 9 ? D : '0'+D );\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      date_start: fullDate,\r\n      date_end: fullDate,\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n\r\n            <br />\r\n\r\n            <Typography>Созданыне промокоды: { this.state.createdPromo.join(', ') }</Typography>\r\n\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { this.state.generate_new === true ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.promo_name} func={ this.changeData.bind(this, 'promo_name') } label='Название промокода' />\r\n              </Grid>\r\n            }\r\n            { this.state.generate_new === false ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            \r\n            }\r\n            \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n            \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass SiteSale2_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: 0,\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_2/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_2/stat\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Статистика</Button>\r\n              </Link>\r\n\r\n              <Link to={\"/site_sale_2/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_2/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_Stat_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      spam_list: [],\r\n      spam_id: 0,\r\n      findPromoList: [],\r\n      \r\n      spam_list_data: [],\r\n      spam_list_data_stat: {\r\n        true: 0,\r\n        all: 0,\r\n        percent: 0\r\n      },\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n  \r\n  changeSpam(event){\r\n    this.setState({spam_id: event.target.value})\r\n    \r\n    setTimeout( () => {\r\n      this.show()\r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.spam_list} value={this.state.spam_id} func={ this.changeSpam.bind(this) } label='Рассылка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Всего</TableCell>\r\n                    <TableCell>Использовали</TableCell>\r\n                    <TableCell>%</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  <TableRow>\r\n                    <TableCell>{this.state.spam_list_data_stat.all}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.true}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.percent}</TableCell>\r\n                  </TableRow>\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Номер</TableCell>\r\n                    <TableCell>Ост активаций</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.spam_list_data.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>{item.number}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      \r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users', data);\r\n    \r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSale2_New () {\r\n  return (\r\n    <SiteSale2_new_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Edit () {\r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSale2_edit_ promoId={promoId} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2 () {\r\n  return (\r\n    <SiteSale2_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Stat () {\r\n  return (\r\n    <SiteSale2_Stat_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_StatList () {\r\n  return (\r\n    <SiteSale2_StatList_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass DriveMapStatAll_ extends React.Component {\r\n  map = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'drive_map_stat_all',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      drivers: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.getOrders(res.orders, res.home, res.drivers)\r\n\r\n    this.setState({\r\n      drivers: res.drivers\r\n    })\r\n\r\n    console.log( res.drivers )\r\n  }\r\n  \r\n  getOrders(orders, home, drivers){\r\n    let objectManager = new ymaps.ObjectManager();\r\n    \r\n    if( !this.map ){\r\n      ymaps.ready(() => {\r\n        this.map = new ymaps.Map('map', {\r\n          center: [home.latitude, home.longitude],\r\n          zoom: 11\r\n        }, {\r\n          searchControlProvider: 'yandex#search'\r\n        })\r\n        \r\n        //дом\r\n        let myGeoObject = new ymaps.GeoObject({\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [home.latitude, home.longitude]\r\n          },\r\n        }, {\r\n          preset: 'islands#blackDotIcon', \r\n          iconColor: 'black'\r\n        })\r\n        \r\n        this.map.geoObjects.add(myGeoObject);\r\n        \r\n        \r\n        \r\n        let json = {\r\n          \"type\": \"FeatureCollection\",\r\n          \"features\": []\r\n        };\r\n                \r\n        orders.map( function(item){\r\n        \r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: item.id,\r\n            options: {\r\n              preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n              iconColor: item.point_color ? item.point_color : item.color\r\n            },\r\n            properties: {\r\n              iconCaption: item.point_text,\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [item.xy.latitude, item.xy.longitude]\r\n            },\r\n          })\r\n          \r\n        } )\r\n        \r\n        objectManager.add(json);\r\n\r\n        drivers.map( function(driver){\r\n          driver.positions.map( function(pos, key){\r\n\r\n            pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n            json.features.push({\r\n              type: \"Feature\",\r\n              id: pos.id,\r\n              options: {\r\n                preset: 'islands#stretchyIcon', \r\n                iconColor: driver.color,\r\n              },\r\n              properties: {\r\n                iconContent: key\r\n              },\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [pos['xy'][0], pos['xy'][1]],\r\n              },\r\n            })\r\n\r\n\r\n          } )\r\n        } )\r\n\r\n        objectManager.add(json);\r\n\r\n        this.map.geoObjects.add(objectManager);\r\n      });\r\n    }else{\r\n      \r\n      let json = {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": []\r\n      };\r\n              \r\n      //дом\r\n      json.features.push({\r\n        type: \"Feature\",\r\n        id: 0,\r\n        options: {\r\n          preset: 'islands#blackDotIcon', \r\n          iconColor: 'black'\r\n        },\r\n        geometry: {\r\n          type: \"Point\",\r\n          coordinates: [home.latitude, home.longitude]\r\n        },\r\n      })\r\n      \r\n      \r\n      orders.map( function(item){\r\n        \r\n        json.features.push({\r\n          type: \"Feature\",\r\n          id: item.id,\r\n          options: {\r\n            preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n            iconColor: item.point_color ? item.point_color : item.color\r\n          },\r\n          properties: {\r\n            iconCaption: item.point_text,\r\n            //iconCaption: parseInt(item.status_order) == 6 ? item.close_time_ : parseInt(item.is_pred) == 1 ? item.need_time : parseInt(item.is_my) == 1 ? item.time_start_mini : '',\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [item.xy.latitude, item.xy.longitude]\r\n          },\r\n        })\r\n        \r\n      } )\r\n      \r\n      objectManager.add(json);\r\n\r\n      drivers.map( function(driver){\r\n        driver.positions.map( function(pos, key){\r\n\r\n          pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: pos.id,\r\n            options: {\r\n              preset: 'islands#stretchyIcon', \r\n              iconColor: driver.color,\r\n            },\r\n            properties: {\r\n              iconContent: key\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [pos['xy'][0], pos['xy'][1]],\r\n            },\r\n          })\r\n\r\n\r\n        } )\r\n      } )\r\n\r\n      objectManager.add(json);\r\n\r\n      this.map.geoObjects.removeAll()\r\n      this.map.geoObjects.add(objectManager);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.drivers.map( (item, key) =>\r\n              <div key={key} style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                <div style={{ width: 50, height: 20, backgroundColor: item.color }}></div>\r\n                <div>{item.driver_name}</div>\r\n              </div>\r\n            ) }\r\n          </Grid>       \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <div id=\"map\" name=\"map\" style={{ width: '100%', height: 700, paddingTop: 10 }} />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriveMapStatAll() {\r\n  return (\r\n    <DriveMapStatAll_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass DriverStat_ extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'driver_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      modalDialog: false,\r\n\r\n      drive_stat_full: [],\r\n      drive_stat_date: null,\r\n      summ: 0,\r\n      choose_driver_id: 0,\r\n      check_cash: 0,\r\n\r\n      getSumm: 0,\r\n      modalDialogGetSumm: false,\r\n      getSummDriverId: null,\r\n      getSummComment: '',\r\n\r\n      modalDialogStatSumm: false,\r\n      modalDialogStatSummMain: false,\r\n      statSumm: [],\r\n      statSummMain: [],\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      drive_stat_full: res.drive_stat_full,\r\n      drive_stat_date: res.stat_drive_date\r\n    })\r\n  }\r\n  \r\n  changeDate(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n\r\n  giveCash(driver_id, check_cash){\r\n    this.setState({\r\n      modalDialog: true,\r\n      choose_driver_id: driver_id,\r\n      check_cash: check_cash\r\n    })\r\n  }\r\n\r\n  changeSumm(event){\r\n    this.setState({\r\n      summ: event.target.value,\r\n    })\r\n  }\r\n\r\n  async saveGivePrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.summ ) > parseInt( this.state.check_cash ) ){\r\n      alert('Нельзя сдать денег больше, чем есть у курьера');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.summ,\r\n      driver_id: this.state.choose_driver_id,\r\n    };\r\n    \r\n    let res = await this.getData('save_give', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialog: false,\r\n        check_cash: 0,\r\n        choose_driver_id: 0,\r\n        summ: 0\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  getCash(driver){\r\n    this.setState({\r\n      modalDialogGetSumm: true,\r\n      getSumm: 0,\r\n      getSummDriverId: driver,\r\n      getSummComment: ''\r\n    })\r\n  }\r\n\r\n  async saveGetPrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.getSumm ) > 1000 ){\r\n      alert('Нельзя выдать больше 1000р за раз');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.getSumm,\r\n      driver_id: this.state.getSummDriverId.driver_id,\r\n      comment: this.state.getSummComment\r\n    };\r\n    \r\n    let res = await this.getData('save_get', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialogGetSumm: false,\r\n        getSumm: 0,\r\n        getSummDriverId: null,\r\n        getSummComment: ''  \r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  async getStatDop(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('getStatDop', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSumm: true,\r\n      statSumm: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  async getStatDopMain(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('getStatDopMain', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSummMain: true,\r\n      statSummMain: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, check_cash: 0, choose_driver_id: 0, summ: 0 }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Какую сумму сдает курьер</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <MyTextInput label=\"\" value={this.state.summ} func={this.changeSumm.bind(this)} />\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGivePrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogGetSumm}\r\n          onClose={ () => { this.setState({ modalDialogGetSumm: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Дополнительная выплата курьеру \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput type='number' value={ this.state.getSumm } func={ (event) => { this.setState({ getSumm: event.target.value }) } } label='Сумма' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput maxRows={2} value={ this.state.getSummComment } func={ (event) => { this.setState({ getSummComment: event.target.value }) } } label='Комментарий' />\r\n              </Grid>\r\n\r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGetPrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSumm}\r\n          onClose={ () => { this.setState({ modalDialogStatSumm: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Доп выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Кто назначил</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Комментарий</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSumm.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{item.user_name}</TableCell>\r\n                    <TableCell>{item.price}</TableCell>\r\n                    <TableCell>{item.comment}</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) > 0 ? 'Довоз' : 'Доп выплата' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSummMain}\r\n          onClose={ () => { this.setState({ modalDialogStatSummMain: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Пользователь</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSummMain.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? '' : item.order_id }</TableCell>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{ parseInt(item.my_cash) == 0 ? item.give : item.my_cash }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? item.user_name : '' }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? 'Сдал' : 'С заказа' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDate.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDate.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                \r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Вся сумма</TableCell>\r\n                    <TableCell>Сумма по налу</TableCell>\r\n                    <TableCell>Сумма по безналу</TableCell>\r\n                    <TableCell>Кол-во по налу</TableCell>\r\n                    <TableCell>Кол-во по безналу</TableCell>\r\n                    <TableCell>К сдаче</TableCell>\r\n\r\n                    <TableCell>Сдал за период</TableCell>\r\n\r\n                    <TableCell>Довозы</TableCell>\r\n                    <TableCell style={{ display: 'none' }}>Ошибки</TableCell>\r\n                    <TableCell>-</TableCell>\r\n                    <TableCell>Заказы</TableCell>\r\n                    <TableCell>Заработал</TableCell>\r\n                    <TableCell>Налички на руках</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                  \r\n                  { this.state.drive_stat_full.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.full_sum}</TableCell>\r\n                      <TableCell>{item.full_cash}</TableCell>\r\n                      <TableCell>{item.full_bank}</TableCell>\r\n                      <TableCell>{item.count_cash}</TableCell>\r\n                      <TableCell>{item.count_bank}</TableCell>\r\n                      <TableCell>{item.sdacha}</TableCell>\r\n\r\n                      <TableCell>{item.give_by_date}</TableCell>\r\n\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDop.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.dop_price ? item.dop_price : 0}</Button>\r\n                      </TableCell>\r\n\r\n                      <TableCell style={{ display: 'none' }}>{item.err_summ}</TableCell>\r\n                      <TableCell>{item.my_price ? item.my_price : 0}</TableCell>\r\n\r\n                      \r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDopMain.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.my_orders ? item.my_orders : 0}</Button>\r\n                      </TableCell>\r\n\r\n                      \r\n                      <TableCell>{item.my}</TableCell>\r\n                      <TableCell>{item.ost_cash}</TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.giveCash.bind(this, item.driver_id, item.ost_cash)}>Сдать</Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getCash.bind(this, item)}>Доп выплата</Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                \r\n                </TableBody>\r\n              \r\n              </Table>\r\n            </TableContainer>\r\n          </Grid>\r\n\r\n          { this.state.drive_stat_date == null ? null :\r\n            <Grid item xs={12}>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  \r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Курьер</TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <TableCell key={key} colSpan={4} style={{textAlign: 'center'}}>{item.date}</TableCell>\r\n                      ) }\r\n                    </TableRow>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <React.Fragment key={key}>\r\n                          <TableCell style={{textAlign: 'center'}}>Наличка</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Безнал</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Сдача</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Заработал</TableCell>\r\n                        </React.Fragment>\r\n                      ) }\r\n\r\n                    </TableRow>\r\n                  </TableHead>\r\n\r\n                  <TableBody>\r\n                    \r\n                    { this.state.drive_stat_date.unic_users.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell style={{borderRight: '1px solid #eee'}}>{item.short_name}</TableCell>\r\n\r\n                        { this.state.drive_stat_date.orders.map( function(order, order_k){\r\n\r\n                          let check = false,\r\n                            data = {};\r\n    \r\n                          order['new_users'].map(function(it, k){\r\n                            if(parseInt(it['driver_id']) == parseInt(item['driver_id']) && it['date'] == order['date']){\r\n                              check = true;\r\n                              data = it;\r\n                            }\r\n                          })\r\n\r\n                          if(check == false){\r\n                            return (\r\n                              <TableCell key={order_k} colSpan={4} style={{borderRight: '1px solid #eee'}}></TableCell>\r\n                            )\r\n                          }else{\r\n                            return (\r\n                              <React.Fragment key={order_k}>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.full_cash}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.full_bank}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.sdacha}</TableCell>\r\n                                <TableCell style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{data.my}</TableCell>\r\n                              </React.Fragment>\r\n                            )\r\n                          }\r\n\r\n                        })}\r\n\r\n                      </TableRow>\r\n                    )}\r\n                  </TableBody>\r\n                \r\n                  <TableFooter>\r\n                    \r\n                    <TableRow>\r\n                      <TableCell style={{borderRight: '1px solid #eee'}}></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <React.Fragment key={key}>\r\n                          <TableCell key={key+'_1'} style={{textAlign: 'center'}}>{item.full_cash}</TableCell>\r\n                          <TableCell key={key+'_2'} style={{textAlign: 'center'}}>{item.full_bank}</TableCell>\r\n                          <TableCell key={key+'_3'} style={{textAlign: 'center'}}>{item.sdacha}</TableCell>\r\n                          <TableCell key={key+'_4'} style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{item.my}</TableCell>\r\n                        </React.Fragment>\r\n                      )}\r\n                        \r\n\r\n                    </TableRow>\r\n                    \r\n                  </TableFooter>\r\n\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriverStat() {\r\n  return (\r\n    <DriverStat_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass Concenter_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'concenter',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialogDel: false,\r\n      \r\n      cities: [],\r\n      city_id: 1,\r\n      date: formatDate(new Date()),\r\n      point_list: [],\r\n      need_point_list: [],\r\n      point_id: 0,\r\n      indexTab: 0,\r\n\r\n      orders: [],\r\n      ordersRender: [],\r\n      showOrder: null,\r\n\r\n      radiogroup_options: [\r\n        {id: '0', label: 'Решили отредактировать заказ', value: 0 },\r\n        {id: '1', label: 'Не устраивает время ожидания', value: 0 },\r\n        {id: '2', label: 'Изменились планы', value: 0 },\r\n        {id: '3', label: 'Недостаточно средств', value: 0 },\r\n        {id: '4', label: 'Другое', value: 0 },\r\n      ],\r\n      textDel: '',\r\n      typeDel: -1,\r\n\r\n      number: '',\r\n      addr: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let need_points = data.points.filter( (item, key) => parseInt(item.city_id) == parseInt(data.cities[0].id) );\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities,\r\n      point_list: data.points,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id)\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    let data = event.target.value;\r\n    \r\n    let need_points = this.state.point_list.filter( (item, key) => parseInt(item.city_id) == parseInt(data) );\r\n\r\n    this.setState({\r\n      city_id: data,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id),\r\n      indexTab: 0\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  async changePoint(point_id, index){\r\n    //let point_id = event.target.id;\r\n    //point_id = point_id.split('-')[2]\r\n\r\n    this.setState({\r\n      point_id: point_id,\r\n      indexTab: index\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n    \r\n  }\r\n\r\n  async getOrders(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      date: this.state.date\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      orders: res.orders\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  btnGetOrders(){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    this.getOrders();\r\n  }\r\n\r\n  async showOrder(order_id){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      order_id: order_id\r\n    };\r\n\r\n    let res = await this.getData('get_order_new', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialog: true,\r\n      showOrder: res\r\n    })\r\n  }\r\n\r\n  closeOrder(){\r\n    this.setState({ modalDialogDel: true })\r\n  }\r\n\r\n  async closeOrderTrue(){\r\n    let deltype = this.state.radiogroup_options.find( (item) => item.id == this.state.typeDel );\r\n        \r\n    if( deltype.id == '4' ){\r\n      deltype.label = this.state.textDel;\r\n    }\r\n    \r\n    if (confirm(\"Отменить заказ #\"+this.state.showOrder.order.order_id)) {\r\n      let data = {\r\n        typeCreate: 'center',\r\n        order_id: this.state.showOrder.order.order_id,\r\n        point_id: this.state.showOrder.order.point_id,\r\n        ans: deltype.label\r\n      };\r\n  \r\n      let res = await this.getData('close_order_center', data);\r\n\r\n      //setTimeout(() => {\r\n        if( res['st'] === true ){\r\n          this.setState({\r\n            modalDialogDel: false,\r\n            modalDialog: false,\r\n          });\r\n          \r\n          this.getOrders();\r\n        }else{\r\n          alert( res['text'] );\r\n        }\r\n      //}, 300);\r\n    }\r\n  }\r\n\r\n  async fakeUser(){\r\n    let type_check = 0;\r\n\r\n    if( parseInt(this.state.showOrder.order.check_pos) >= 0 ){\r\n      if( parseInt(this.state.showOrder.order.check_pos) <= 100 ){\r\n        type_check = 1;\r\n      }else{\r\n        type_check = 2;\r\n      }\r\n    }else{\r\n      type_check = 0;\r\n    }\r\n\r\n    //0 - не активно\r\n    //1 - сразу\r\n    //2 - уточнить\r\n\r\n    \r\n    if( parseInt(type_check) == 0 ){\r\n      alert('Создать обращение не возможно')\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(type_check) == 1 ){\r\n      let text = prompt('Комментарий к ситуации', '');\r\n\r\n      if(text.length > 0){\r\n        let data = {\r\n          text: text,\r\n          point_id: parseInt(this.state.showOrder.order.point_id),\r\n          order_id: parseInt(this.state.showOrder.order.order_id),\r\n        };\r\n    \r\n        let res = await this.getData('fake_user', data);\r\n  \r\n        if(res['st'] == true){\r\n          alert('Обращение зафиксировано')\r\n          this.setState({ modalDialog: false })\r\n        }else{\r\n          alert(res['text'])\r\n        }\r\n\r\n      }else{\r\n        alert('надо указать комментарий')\r\n      }\r\n    }\r\n\r\n    if( parseInt(type_check) == 2 ){\r\n      const result = confirm('Курьер, предположительно, находиться далеко от клиента, точно оформить довоз ?');\r\n\r\n      if (result) {\r\n        var text = prompt('Комментарий к ситуации', '');\r\n\r\n        if(text.length > 0){\r\n          let data = {\r\n            text: text,\r\n            point_id: parseInt(this.state.showOrder.order.point_id),\r\n            order_id: parseInt(this.state.showOrder.order.order_id),\r\n          };\r\n      \r\n          let res = await this.getData('fake_user', data);\r\n\r\n          if(res['st'] == true){\r\n            alert('Обращение зафиксировано')\r\n            this.setState({ modalDialog: false })\r\n          }else{\r\n            alert(res['text'])\r\n          }\r\n        }else{\r\n          alert('надо указать комментарий')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  changeText(event){\r\n    this.setState({ textDel: event.target.value })\r\n  }\r\n\r\n  changeAddr = (event) => {\r\n    this.setState({\r\n      typeDel: event.target.value,\r\n    })\r\n  }\r\n\r\n  changeDate(val){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n    \r\n    this.setState({\r\n      date: formatDate(val)\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n\r\n  changeNumber(event){\r\n    let value = event.target.value;\r\n    \r\n    if( isNaN(value) ){\r\n      return ;\r\n    }\r\n\r\n    this.setState({ number: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  changeAddrSt(event){\r\n    let value = event.target.value;\r\n    \r\n    this.setState({ addr: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  filterNumber(){\r\n    let renderOrders = this.state.orders;\r\n\r\n    if( this.state.number.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => item.number.indexOf(this.state.number) !== -1 );\r\n    }\r\n\r\n    if( this.state.addr.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => (item.street + ' ' + item.home).toLowerCase() .indexOf(this.state.addr.toLowerCase()) !== -1 );\r\n    }\r\n\r\n    this.setState({\r\n      ordersRender: renderOrders\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Заказ #{this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <Grid container spacing={0}>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.type_order}: {this.state.showOrder.order.type_order_addr_new}</span>\r\n                </Grid>\r\n                { parseInt(this.state.showOrder.order.type_order_) == 1 ?\r\n                  parseInt(this.state.showOrder.order.fake_dom) == 0 ?\r\n                    <Grid item xs={12}>\r\n                      <b>Домофон не работает</b>\r\n                    </Grid>\r\n                      :\r\n                    null\r\n                    :\r\n                  null\r\n                }\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.time_order_name}: {this.state.showOrder.order.time_order}</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.number.length > 1 ? \r\n                  <Grid item xs={12}>\r\n                    <b>Телефон: </b> \r\n                    <span>{this.state.showOrder.order.number}</span> \r\n                  </Grid>\r\n                    : \r\n                  null\r\n                }\r\n\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>Удален: {this.state.showOrder.order.date_time_delete}</span></Grid> : null}\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>{this.state.showOrder.order.delete_reason}</span></Grid> : null}\r\n                \r\n                { parseInt(this.state.showOrder.order.is_preorder) == 1 ? null :\r\n                  <Grid item xs={12}><span>{this.state.showOrder.order.text_time}{this.state.showOrder.order.time_to_client}</span></Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}><span>{this.state.showOrder.order.textTime}</span></Grid>\r\n                \r\n                \r\n                { this.state.showOrder.order.promo_name == null || this.state.showOrder.order.promo_name.length == 0 ? null :\r\n                  <>\r\n                    <Grid item xs={12}>\r\n                      <b>Промокод: </b>\r\n                      <span>{this.state.showOrder.order.promo_name}</span>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <span className=\"noSpace\">{this.state.showOrder.order.promo_text}</span>\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                { this.state.showOrder.order.comment == null || this.state.showOrder.order.comment.length == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Комментарий: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                { this.state.showOrder.order.sdacha == null || parseInt(this.state.showOrder.order.sdacha) == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Сдача: </b>\r\n                    <span>{this.state.showOrder.order.sdacha}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}>\r\n                  <b>Сумма заказа: </b>\r\n                  <span>{this.state.showOrder.order.sum_order} р</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.check_pos_drive == null || !this.state.showOrder.order.check_pos_drive ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Довоз оформлен: </b>\r\n                    <span>{this.state.showOrder.order.check_pos_drive.comment}</span>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12}>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { this.state.showOrder.order_items.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell>{item.name}</TableCell>\r\n                          <TableCell>{item.count}</TableCell>\r\n                          <TableCell>{item.price} р</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>Сумма закза</TableCell>\r\n                        <TableCell></TableCell>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>{this.state.showOrder.order.sum_order} р</TableCell>\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>\r\n                </Grid>\r\n\r\n                <Accordion style={{ width: '100%' }}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>Расформировка</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <Table size={'small'} style={{ marginTop: 15 }}>\r\n                      <TableBody>\r\n                        { this.state.showOrder.order_items_.map( (item, key) =>\r\n                          <TableRow key={key}>\r\n                            <TableCell>{item.name}</TableCell>\r\n                            <TableCell style={{ backgroundColor: parseInt(item.ready) > 0 ? '#6ab04c' : '#eb4d4b' }}></TableCell>\r\n                          </TableRow>\r\n                        ) }\r\n                      </TableBody>\r\n                    </Table>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n\r\n            { parseInt( this.state.showOrder.order.is_delete ) == 0 && parseInt( this.state.showOrder.order.status_order ) !== 6 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={ this.closeOrder.bind(this) }>Отменить заказ</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n\r\n            { parseInt( this.state.showOrder.order.type_order_ ) == 1 && parseInt( this.state.showOrder.order.status_order ) > 4 && parseInt( this.state.showOrder.order.check_pos ) >= 0 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItemYellow\" onClick={ this.fakeUser.bind(this) }>Клиент не вышел на связь</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialogDel}\r\n            onClose={ () => { this.setState({ modalDialogDel: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Отмена заказа {this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup name=\"typeDel\" value={ this.state.typeDel } onChange={this.changeAddr} >\r\n                  {this.state.radiogroup_options.map((item, key) => \r\n                    <FormControlLabel key={key} value={item.id} control={<Radio />} label={item.label} />\r\n                  )}\r\n                </RadioGroup>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                //autoFocus\r\n                onFocus={ () => { this.setState({ typeDel: '4' }) } }\r\n                value={ this.state.textDel }\r\n                onChange={ this.changeText.bind(this) }\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label=\"Причина отмены\"\r\n                type=\"text\"\r\n                fullWidth\r\n              />\r\n\r\n            </DialogContent>\r\n\r\n            <DialogActions style={{ paddingBottom: 24 }}>\r\n\r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={() => { this.setState({delOrder: false}) }}>К заказу</Button>\r\n              </ButtonGroup>\r\n              \r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={this.closeOrderTrue.bind(this)}>Отменить заказ</Button>\r\n              </ButtonGroup>\r\n\r\n            </DialogActions>\r\n                \r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.cities} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label={'Дата'} value={this.state.date} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Номер телефона'} value={this.state.number} func={ this.changeNumber.bind(this) } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Адрес'} value={this.state.addr} func={ this.changeAddrSt.bind(this) } />\r\n          </Grid>\r\n\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.btnGetOrders.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Tabs value={this.state.indexTab}>\r\n              { this.state.need_point_list.map( (item, key) =>\r\n                <Tab key={key} label={item.name} onClick={this.changePoint.bind(this, item.id, key)} {...a11yProps(parseInt(item.id))} />\r\n              ) }\r\n            </Tabs>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Оформил</TableCell>\r\n                  <TableCell>Номер клиента</TableCell>\r\n                  <TableCell>Адрес доставки</TableCell>\r\n                  <TableCell>Время открытия заказа</TableCell>\r\n                  \r\n                  <TableCell>Ко времени</TableCell>\r\n                  <TableCell>Закрыт на кухне</TableCell>\r\n                  <TableCell>Получен клиентом</TableCell>\r\n\r\n                  <TableCell>До просрочки</TableCell>\r\n                  <TableCell>Время обещ</TableCell>\r\n\r\n                  <TableCell>Тип</TableCell>\r\n                  <TableCell>Статус</TableCell>\r\n\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Оплата</TableCell>\r\n                  <TableCell>Водитель</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.ordersRender.map( (item, key) =>\r\n                  <TableRow key={key} style={ parseInt(item.is_delete) == 1 ? {backgroundColor: 'red', color: '#fff', fontWeight: 'bold'} : {} }>\r\n                    <TableCell style={ parseInt(item.dist) >= 0 ? {backgroundColor: 'yellow', color: '#000', cursor: 'pointer', fontWeight: 'inherit'} : {color: 'inherit', cursor: 'pointer', fontWeight: 'inherit'} } onClick={this.showOrder.bind(this, item.id)}>{item.id}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_user}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.number}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.street} {item.home}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.date_time_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit', backgroundColor: parseInt(item.is_preorder) == 1 ? '#bababa' : 'inherit' }}>{item.need_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{ item.give_data_time == '00:00:00' ? '' : item.give_data_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.close_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.to_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.unix_time_to_client == '0' || parseInt(item.is_preorder) == 1 ? '' : item.unix_time_to_client}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_order}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.status}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.order_price}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_pay}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.driver}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Concenter() {\r\n  return (\r\n    <Concenter_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput } from '../../stores/elements';\r\n\r\nimport axios from 'axios';\r\nconst queryString = require('query-string');\r\n\r\nclass SocialNetwork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'socialnetwork',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cityList: [],\r\n      city_id: 0,\r\n\r\n      dataInfo: null,\r\n      file: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cityList: data.cities,\r\n      city_id: data.cities[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      city_id: data,\r\n      dataInfo: null,\r\n      file: null\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n\r\n  async updateData(){\r\n    let data = {\r\n      city_id: this.state.city_id\r\n    };\r\n\r\n    let res = await this.getData('get_data', data);\r\n\r\n    this.setState({\r\n      dataInfo: res,\r\n      file: null\r\n    })\r\n  }\r\n\r\n  changeData(type, event){\r\n    let data = event.target.value;\r\n    let info = this.state.dataInfo;\r\n    \r\n    info[ [type] ] = data;\r\n\r\n    this.setState({\r\n      dataInfo: info\r\n    })\r\n  }\r\n\r\n  async saveData(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      vk: this.state.dataInfo.vk,\r\n      inst: this.state.dataInfo.inst,\r\n      ok: this.state.dataInfo.ok,\r\n      tg: this.state.dataInfo.tg,\r\n      fb: this.state.dataInfo.fb,\r\n      file1: this.state.file ? this.state.file.name : ''\r\n    };\r\n\r\n    let res = await this.getData('save_data', data);\r\n    \r\n    if( this.state.file ){\r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: true\r\n        })\r\n      }, 350 )\r\n      \r\n      \r\n      \r\n      const formData = new FormData(); \r\n    \r\n      formData.append( \r\n        \"file\", \r\n        this.state.file, \r\n        this.state.file.name \r\n      ); \r\n    \r\n      //console.log(this.state.file); \r\n    \r\n      axios.post('https://jacochef.ru/api/files/v2/upload/upload.php', formData)\r\n        .then( (response) => {\r\n          console.log(response);\r\n          this.setState({\r\n            is_load: false,\r\n            file: null\r\n          })\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  handleFileInput(event){\r\n    let data = event.target.files[0];\r\n\r\n    console.log( data )\r\n\r\n    this.setState({\r\n      file: data\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.cityList} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          {this.state.dataInfo == null ? null :\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Вконтакте\" value={this.state.dataInfo ? this.state.dataInfo.vk : ''} func={this.changeData.bind(this, 'vk')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Инстаграм\" value={this.state.dataInfo ? this.state.dataInfo.inst : ''} func={this.changeData.bind(this, 'inst')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Одноклассники\" value={this.state.dataInfo ? this.state.dataInfo.ok : ''} func={this.changeData.bind(this, 'ok')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Телеграм\" value={this.state.dataInfo ? this.state.dataInfo.tg : ''} func={this.changeData.bind(this, 'tg')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Facebook\" value={this.state.dataInfo ? this.state.dataInfo.fb : ''} func={this.changeData.bind(this, 'fb')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput type=\"file\" label=\"\" func={this.handleFileInput.bind(this)} />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <Button variant=\"contained\" onClick={this.saveData.bind(this)}>Обновить данные</Button>\r\n                </Grid>\r\n\r\n              </Grid>\r\n            </Grid>\r\n          }\r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SocialNetwork() {\r\n  return (\r\n    <SocialNetwork_ />\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport { MyTextInput, TextEditor } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass CatWork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'cat_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      nameCatNew: '',\r\n      editTextNew: '',\r\n\r\n      config: {\r\n        readonly: false // all options from https://xdsoft.net/jodit/doc/\r\n      },\r\n\r\n      showCat: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async save(){\r\n    let data = {\r\n      cat_id: this.state.showCat.id,\r\n      name: this.state.nameCat,\r\n      text: document.getElementById('EditorEdit').value\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        showCat: null, \r\n        nameCat: '' \r\n      })\r\n\r\n      document.getElementById('EditorEdit').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      name: this.state.nameCatNew,\r\n      text: document.getElementById('EditorNew').value\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        editTextNew: '', \r\n        nameCatNew: '' \r\n      })\r\n\r\n      document.getElementById('EditorNew').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showCat ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false, showCat: null, editText: '', nameCat: '' }) } }\r\n          >\r\n            <DialogTitle>Категория уборки \"{this.state.showCat.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyTextInput value={ this.state.nameCat } func={ (event) => { this.setState({ nameCat: event.target.value }) } } label='Название категории' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                  <TextEditor id=\"EditorEdit\" text={this.state.showCat.text} />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n          onClose={ () => { this.setState({ modalDialogNew: false, editTextNew: '', nameCatNew: '' }) } }\r\n        >\r\n          <DialogTitle>Новая категория уборки</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={ this.state.nameCatNew } func={ (event) => { this.setState({ nameCatNew: event.target.value }) } } label='Название категории' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <TextEditor id=\"EditorNew\" text={''} />\r\n              </Grid>\r\n              \r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.cats.map( (item, key) =>\r\n                <ListItem button key={key} onClick={ this.openCat.bind(this, item) }>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CatWork() {\r\n  return (\r\n    <CatWork_ />\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport { MyTextInput, MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass AppWorkPoint_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'app_work_point',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point_id: 0,\r\n\r\n      apps: [],\r\n      app_id: 0,\r\n\r\n      allList: [],\r\n      allListRender: [],\r\n      thisList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      point_id: data.points[0].id,\r\n      apps: data.apps,\r\n      app_id: data.apps[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeApp(event){\r\n    this.setState({\r\n      app_id: event.target.value\r\n    });\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n\r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('get_works', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      allList: res.all_work,\r\n      thisList: res.this_work,\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  checkList(){\r\n    let allList = this.state.allList;\r\n    let thisList = this.state.thisList;\r\n\r\n    thisList.map( (Titem) => {\r\n      let newArr = [];\r\n\r\n        allList.map( (Aitem) => {\r\n          if( parseInt(Aitem.id) != parseInt(Titem.id) ){\r\n            newArr.push(Aitem);\r\n          }\r\n        })\r\n\r\n        allList = newArr;\r\n    } )\r\n\r\n    this.setState({\r\n      allListRender: allList\r\n    })\r\n  }\r\n\r\n  add(id, name){\r\n    let thisList = this.state.thisList;\r\n    let allList = this.state.allList;\r\n\r\n    let check = thisList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n    let thisItem = allList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n\r\n\t\tif( !check ){\r\n\t\t\tthisList.push({id: id, name: name, time_min: 0, dop_time: 0, time_min: thisItem.time_min})\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n      thisList: thisList\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  del(id, name){\r\n    let new_arr = [];\r\n    let thisList = this.state.thisList;\r\n\r\n\t\tthisList.map(function(item, key){\r\n\t\t\tif( parseInt(item['id']) != parseInt(id) ){\r\n\t\t\t\tnew_arr.push( item )\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n      thisList: new_arr\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n\t}\r\n\r\n  async save(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id,\r\n      items: this.state.thisList\r\n    };\r\n\r\n    let fake_item = null;\r\n\r\n    this.state.thisList.map( (item, key) => {\r\n      if( item.dop_time.length == 0 ){\r\n        fake_item = item;\r\n      }\r\n    } )\r\n\r\n    console.log(fake_item  )\r\n\r\n    if( fake_item ){\r\n      alert('У позиции \"'+fake_item.name+'\" не указано доп время');\r\n\r\n      return ;\r\n    }\r\n\r\n    let res = await this.getData('save', data);\r\n\r\n    console.log( res )\r\n\r\n    alert(res.text)\r\n  }\r\n\r\n  changeDopTime(key, event){\r\n    let data = event.target.value;\r\n    let list = this.state.thisList;\r\n\r\n    if( !isNaN(data) || data == ''  ){\r\n      list[ key ]['dop_time'] = data == '' ? '' : parseInt(data);\r\n\r\n      this.setState({\r\n        thisList: list\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.apps} value={this.state.app_id} func={ this.changeApp.bind(this) } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getWorks.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.allListRender.map( (item, key) =>\r\n                <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                  <ListItemText primary={ item.name } />\r\n                  <SendIcon onClick={this.add.bind(this, item.id, item.name)} />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Table size='small'>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Наименование</TableCell>\r\n                  <TableCell>Основное время</TableCell>\r\n                  <TableCell>Доп время (в минутах)</TableCell>\r\n                  <TableCell><CloseIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.thisList.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.name}</TableCell>\r\n                    <TableCell>{item.time_min} мин.</TableCell>\r\n                    <TableCell>\r\n                      <MyTextInput value={ item.dop_time } func={ this.changeDopTime.bind(this, key) } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <CloseIcon onClick={this.del.bind(this, item.id, item.name)} style={{cursor: 'pointer'}} />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n          </Grid>\r\n        \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWorkPoint() {\r\n  return (\r\n    <AppWorkPoint_ />\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nimport { MyTextInput, MyCheckBox, MySelect, MyTimePicker, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass AppWork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'app_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    data.items.map( (item, key) => {\r\n      data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      items: data.items,\r\n      items_min: data.items_min\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async saveEdit(){\r\n    let data = {\r\n      work: this.state.itemsEdit.item,\r\n      times_add: this.state.itemsEdit.times_add,\r\n      times_close: this.state.itemsEdit.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        itemsEdit: null,\r\n        nameWork: ''\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      work: this.state.itemsNew.item,\r\n      times_add: this.state.itemsNew.times_add,\r\n      times_close: this.state.itemsNew.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        itemsNew: null\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n      nameWork: res.item.name,\r\n      chengeItem1: this.state.items_min.find( (item, key) => parseInt( item.id ) == parseInt( res.item.work_id ) )\r\n    })\r\n  }\r\n\r\n  async openNewWork(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsNew: res,\r\n      modalDialogNew: true\r\n    })\r\n  }\r\n\r\n  chengeItem(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeItem1(type, event, data){\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsEdit: item,\r\n      chengeItem1: data\r\n    })\r\n  }\r\n\r\n  chengeItemNew(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  chengeItemNew1(type, event, data){\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsNew: item,\r\n      chengeItemNew1: data\r\n    })\r\n  }\r\n\r\n  chengeTime(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeNew(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  delTime(key){\r\n    let item = this.state.itemsEdit;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  delTimeNew(key){\r\n    let item = this.state.itemsNew;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  addTime(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n\r\n      this.setState({\r\n        itemsEdit: item\r\n      })\r\n    }\r\n  }\r\n\r\n  addTimeNew(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsNew;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n  \r\n      this.setState({\r\n        itemsNew: item\r\n      })\r\n    }\r\n  }\r\n\r\n  chengeTimeClose(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeCloseNew(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  async changeCheck(key, type, event){\r\n    let items = this.state.items;\r\n\r\n    items[ key ][ [type] ] = event.target.checked ? 1 : 0;\r\n\r\n    let data = {\r\n      type: type,\r\n      value: event.target.checked ? 1 : 0,\r\n      id: items[ key ].id\r\n    };\r\n\r\n    let res = await this.getData('save_check', data);\r\n    \r\n\r\n    this.setState({\r\n      items: items\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.itemsEdit ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n          >\r\n            <DialogTitle>Уборка \"{this.state.nameWork}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsEdit.item.name } func={ this.chengeItem.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsEdit.cats} value={this.state.itemsEdit.item.type_new} func={ this.chengeItem.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsEdit.item.time_min } func={ this.chengeItem.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={ this.state.itemsEdit.item.max_count } func={ this.chengeItem.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} value={this.state.itemsEdit.item.description} func={ this.chengeItem.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsEdit.apps} value={this.state.itemsEdit.item.app_id} func={ this.chengeItem.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.dows} value={this.state.itemsEdit.item.dow} func={ this.chengeItem.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.types} value={this.state.itemsEdit.item.type_time} func={ this.chengeItem.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsEdit.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite data={this.state.items_min} value={this.state.chengeItem1} func={ this.chengeItem1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsEdit.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker label={''} value={item.time_action} func={ this.chengeTime.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTime.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" label={''} value={'00:00'} onBlur={ this.addTime.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker label={''} value={this.state.itemsEdit.times_close} func={ this.chengeTimeClose.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveEdit.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.itemsNew ? null :\r\n          <Dialog\r\n            open={this.state.modalDialogNew}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialogNew: false }) } }\r\n          >\r\n            <DialogTitle>Новая уборка</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsNew.item.name } func={ this.chengeItemNew.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsNew.cats} value={this.state.itemsNew.item.type_new} func={ this.chengeItemNew.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsNew.item.time_min } func={ this.chengeItemNew.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={ this.state.itemsNew.item.max_count } func={ this.chengeItemNew.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} value={this.state.itemsNew.item.description} func={ this.chengeItemNew.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsNew.apps} value={this.state.itemsNew.item.app_id} func={ this.chengeItemNew.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.dows} value={this.state.itemsNew.item.dow} func={ this.chengeItemNew.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.types} value={this.state.itemsNew.item.type_time} func={ this.chengeItemNew.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsNew.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite data={this.state.items_min} value={this.state.chengeItemNew1} func={ this.chengeItemNew1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsNew.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker label={''} value={item.time_action} func={ this.chengeTimeNew.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTimeNew.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" label={''} value={'00:00'} onBlur={ this.addTimeNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker label={''} value={this.state.itemsNew.times_close} func={ this.chengeTimeCloseNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ this.openNewWork.bind(this) }>Добавить уборку</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>Должность</TableCell>\r\n                  <TableCell>Время</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  \r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                  <TableCell>Не удалять в конце смены</TableCell>\r\n                  <TableCell>Обязательна к выполнению в особый день</TableCell>\r\n                  <TableCell><VisibilityIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.items.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.app_name}</TableCell>\r\n                    <TableCell>{item.time_min ? item.time_min + 'мин.' : ''}</TableCell>\r\n                    <TableCell>{item.dow_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n\r\n                    <TableCell>{item.times_close}</TableCell>\r\n\r\n                    <TableCell>\r\n                      <MyCheckBox value={ parseInt(item.is_not_del) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_not_del') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox value={ parseInt(item.is_need) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_need') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox value={ parseInt(item.is_active) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_active') } label='' />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWork() {\r\n  return (\r\n    <AppWork_ />\r\n  );\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass AppWorkShow_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'app_work_show',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      showItems: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      activeTab: 0,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null,\r\n\r\n      points: [],\r\n      point_id: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let points = await this.getData('get_points');\r\n    \r\n    this.setState({\r\n      points: points,\r\n      point_id: points[0]['id']\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_all', data);\r\n\r\n    res.items.map( (item, key) => {\r\n      res.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    let activeTab = parseInt(this.state.activeTab);\r\n\r\n    if( activeTab == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( activeTab == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( activeTab == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      module_name: res.module_info.name,\r\n      items: res.items,\r\n      showItems: res.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) ),\r\n      items_min: res.items_min\r\n    })\r\n\r\n    document.title = res.module_info.name;\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id,\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n    })\r\n  }\r\n\r\n  changeTab(event, val){\r\n    let activeTab = parseInt(val);\r\n\r\n    if( val == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( val == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( val == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      activeTab: val,\r\n      showItems: this.state.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) )\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        \r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n\r\n          { !this.state.itemsEdit ? null :\r\n            <Dialog\r\n              open={this.state.modalDialog}\r\n              maxWidth={'md'}\r\n              onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n            >\r\n              <DialogTitle>Уборка \"{this.state.itemsEdit.item.name}\"</DialogTitle>\r\n              <DialogContent>\r\n                \r\n                <Grid container spacing={0}>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>{this.state.itemsEdit.item.cat_name}</Typography>\r\n                  </Grid>\r\n\r\n                  { this.state.itemsEdit.item.show_time == false ? null :\r\n                    <Grid item xs={12}>\r\n                      <Typography>Время за уборку: {this.state.itemsEdit.item.time_min} мин.</Typography>\r\n                    </Grid>\r\n                  }\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>Описание процесса уборки: </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography dangerouslySetInnerHTML={{__html: this.state.itemsEdit.item.text_work}}></Typography>\r\n                  </Grid>\r\n                  \r\n                </Grid>\r\n\r\n              </DialogContent>\r\n            </Dialog>\r\n          }\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Paper>\r\n              <Tabs value={this.state.activeTab} onChange={ this.changeTab.bind(this) }>\r\n                <Tab label=\"Повар\" {...a11yProps(0)} />\r\n                <Tab label=\"Кассир\" {...a11yProps(1)} />\r\n                <Tab label=\"Кухонный работник\" {...a11yProps(2)} />\r\n              </Tabs>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.showItems.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.dow_name} {item.need_work_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n                    <TableCell>{item.times_close}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWorkShow() {\r\n  return (\r\n    <AppWorkShow_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport { MyTextInput, MySelect, MyAutocomplite, MyDaterange, MyCheckBox, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteStatMarc_ extends React.Component {\r\n  chartnewusers = null;\r\n  chartorders = null;\r\n  chartavgsumm = null;\r\n  chartcountpos = null;\r\n\r\n  chartnewusersD = null;\r\n  chartordersD = null;\r\n  chartavgsummD = null;\r\n  chartcountposD = null;\r\n\r\n \r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_stat_marc',\r\n      module_name: '',\r\n      is_load: false,\r\n      is_show_adv: false,\r\n\r\n      show_stat_roll:   false,\r\n      show_stat_set:    false,\r\n      show_stat_pizza:  false,\r\n      \r\n      choosePoint: [],\r\n      points: [],\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      promoName: '',\r\n\r\n      newUsersTable: [],\r\n      countOrdersTable: [],\r\n      avgSumm: [],\r\n      countPos: [],\r\n      fakeUsers: [],\r\n\r\n      roll_stat:    [],\r\n      set_stat:     [],\r\n      pizza_stat:   [],\r\n\r\n      typesShow: [\r\n        {id: 1, name: 'Итоговый результат'},\r\n        {id: 2, name: 'График по месяцам'},\r\n        {id: 3, name: 'График по дням'},\r\n      ],\r\n        typeShow: 1,\r\n\r\n        // правка от 06.06.22\r\n        colors: [0x679499, 0x2941A, 0x62941A, 0xFF0000, 0x46bdc6, 0xFFB6C1,\r\n            0x679499, 0x2941A, 0x62941A, 0xFF0000, 0x46bdc6, 0xFFB6C1]\r\n    };\r\n  }\r\n\r\n   \r\n\r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n    changeChekBox(type, event) {\r\n        this.setState({\r\n            [type]: event.target.checked\r\n        })\r\n    }\r\n\r\n  async show() {\r\n    let data = {\r\n      points: this.state.choosePoint,\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n      typeShow: this.state.typeShow,\r\n      promoName: this.state.promoName,\r\n      advData: this.state.advData,\r\n    };\r\n\r\n    let res = await this.getData('show', data);\r\n\r\n      console.log(res);\r\n\r\n    // Итоговый результат\r\n      if (parseInt(this.state.typeShow) == 1) {\r\n         \r\n          this.setState({\r\n            newUsersTable: res.new_users,\r\n            countOrdersTable: res.count_orders,\r\n            avgSumm: res.avg_summ,\r\n            countPos: res.count_pos,\r\n            fakeUsers: res.fake_users,\r\n            roll_stat: res.roll_stat,\r\n            set_stat: res.set_stat,\r\n            pizza_stat: res.pizza_stat,\r\n          })\r\n      }\r\n\r\n    // графики по месяцам\r\n    if( parseInt( this.state.typeShow ) == 2 ){\r\n      this.renderGraphNewUsers(res.new_users);\r\n      this.renderGraphOrders(res.count_orders);\r\n      this.renderGraphAvgSumm(res.avg_summ);\r\n      this.renderCountPos(res.count_pos);\r\n      }\r\n\r\n     // графики по дням\r\n      if (parseInt(this.state.typeShow) == 3) {\r\n        \r\n        this.renderGraphNewUsersD(res.new_users);\r\n        this.renderGraphOrdersD(res.count_orders);\r\n        this.renderGraphAvgSummD(res.avg_summ);\r\n        this.renderCountPosD(res.count_pos);\r\n    }\r\n  }\r\n\r\n  renderGraphNewUsers(MyData){\r\n    if( this.chartnewusers ){\r\n      this.chartnewusers.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusers\");\r\n    this.chartnewusers = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n\r\n    MyData.site.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 1 Новые клиенты по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      // правка radius: 5->3\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n        \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      if (name == 'Всего') {\r\n         series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphNewUsersD(MyData){\r\n    if( this.chartnewusersD ){\r\n      this.chartnewusersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusersD\");\r\n    this.chartnewusersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n   \r\n\r\n    MyData.site.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {})\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series\r\n    function createSeries(name, field, data) {\r\n\r\n      // новые клиенты по дням правка 2\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n         //stacked: true,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n        series.strokes.template.set(\"strokeWidth\", 2);\r\n        if (name == 'Всего') {\r\n            series.strokes.template.set(\"strokeWidth\", 8)\r\n        }\r\n        series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n        series.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n   \r\n\r\n    // Add cursor\r\n    \r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n    \r\n  }\r\n\r\n  renderGraphOrders(MyData){\r\n    if( this.chartorders ){\r\n      this.chartorders.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartorders\"); \r\n\r\n    this.chartorders = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n    var data_adv = [];\r\n     \r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series Правка 3 Заказы по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      if (name == 'Всего') {\r\n        series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n   \r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n   // заказы по дням\r\n  renderGraphOrdersD(MyData){\r\n    if( this.chartordersD ){\r\n      this.chartordersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartordersD\"); \r\n\r\n    this.chartordersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n        dateFormat: \"yyyy-MM-dd\", \r\n        dateFields: [\"valueX\", \"openValueX\"] \r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n \r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n     \r\n     // Create Y-axis\r\n      var yAxis = chart.yAxes.push(\r\n          am5xy.ValueAxis.new(root, {\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, {})\r\n          })\r\n      );\r\n\r\n    // Create X-Axis\r\n      let xAxis = chart.xAxes.push(\r\n          am5xy.DateAxis.new(root, {\r\n            baseInterval: { timeUnit: \"day\", count: 1 },\r\n            startLocation: 0.5,\r\n            endLocation: 0.5,\r\n            renderer: am5xy.AxisRendererX.new(root, {})\r\n          })\r\n      );\r\n\r\n      xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n      xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              //tooltip: am5.Tooltip.new(root, {\r\n              //    themeTags: [\"axis\"],\r\n              //    animationDuration: 200\r\n              //})\r\n          })\r\n      );\r\n\r\n\r\n    // Create series правка 4 Заказы по дням\r\n    function createSeries(name, field, data) {\r\n     \r\n      var series = chart.series.push( \r\n        am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field,\r\n          strokeWidth: 5,\r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n      if (name == 'Всего') {\r\n          series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n       \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n      // Новый график рекламнеы компании, заказы по дням\r\n      let colors = this.state.colors;\r\n      function createSeries2(name, field, data) {\r\n\r\n          let cat = [];\r\n          data.map((item, k) => {\r\n              data[k].name = item.category;\r\n              data[k].promo = (item.promo != \"\" || item.promo.length > 0) ? '\\nПромокод: ' + item.promo : '';\r\n              data[k].columnSettings.fill = am5.color(colors[k]);\r\n              cat.push({ 'category': item.category })\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // инфилизация настроик графика\r\n          var series2 = null;\r\n          let ser_settings = {\r\n              xAxis: xAxis,\r\n              yAxis: yAxis2,\r\n              openValueXField: \"fromDate\",\r\n              valueXField: \"toDate\",\r\n              categoryYField: \"category\",\r\n              sequencedInterpolation: true,\r\n          }\r\n\r\n          // перебор массия для заполнения подсказки и цвета Рек. Компании\r\n          data.map(function (item, key) {\r\n              ser_settings['fill'] = am5.color(colors[key]);\r\n\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, ser_settings));\r\n\r\n              series2.columns.template.setAll({\r\n                  templateField: \"columnSettings\",\r\n                  strokeOpacity: 0,\r\n                  tooltipText: \"[bold]{category}[/]\\n{description}\\n\" +\r\n                      \"{openValueX.formatDate('yyyy-MM-dd')} - {valueX.formatDate('yyyy-MM-dd')}\" +\r\n                      \"{promo}\"\r\n              });\r\n\r\n              series2.bullets.push(function () {\r\n                  return am5.Bullet.new(root, {\r\n                      sprite: am5.Circle.new(root, {\r\n                          radius: 2,\r\n                          fill: series2.get(\"fill\")\r\n                      })\r\n                  });\r\n              });\r\n          })\r\n\r\n          series2.columns.template.setAll({\r\n              opacity: 0.5,\r\n          });\r\n\r\n          series2.data.processor = am5.DataProcessor.new(root, {\r\n              dateFields: [\"fromDate\", \"toDate\"],\r\n              dateFormat: \"yyyy-MM-dd HH:mm\"\r\n          });\r\n\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n      createSeries(\"Всего\", \"value\", data_all);\r\n      createSeries(\"Самовывозов\", \"value\", data_pic);\r\n      createSeries(\"Доставок\", \"value\", data_dev);\r\n      createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n     // правка от 08.04 показываем столбики\r\n     if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n     }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphAvgSumm(MyData){\r\n    if( this.chartavgsumm ){\r\n      this.chartavgsumm.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsumm\"); \r\n\r\n    this.chartavgsumm = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n     \r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n          if (name == 'Всего') {\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\");\r\n         \r\n          series.data.setAll(data);\r\n      }\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n    \r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n   // график средний чек за день\r\n  renderGraphAvgSummD(MyData){\r\n    if( this.chartavgsummD ){\r\n      this.chartavgsummD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsummD\"); \r\n\r\n    this.chartavgsummD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n       dateFormat: \"yyyy-MM-dd\",\r\n       dateFields: [\"valueX\", \"openValueX\"]\r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {})\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    var yAxis2 = chart.yAxes.push(\r\n        am5xy.CategoryAxis.new(root, {\r\n            categoryField: \"category\",\r\n            extraTooltipPrecision: 1,\r\n            renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n            //tooltip: am5.Tooltip.new(root, {\r\n            //    themeTags: [\"axis\"],\r\n            //    opacity: 0.4,\r\n            //    animationDuration: 200\r\n            //})\r\n        })\r\n    );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый график Рекламные компании, Средний чек за день\r\n      let colors = this.state.colors;\r\n      function createSeries2(name, field, data) {\r\n\r\n          let cat = [];\r\n          data.map((item, k) => {\r\n              data[k].name  = item.category;\r\n              data[k].promo = (item.promo != \"\" || item.promo.length > 0) ? '\\nПромокод: ' + item.promo : '';\r\n              data[k].columnSettings.fill = am5.color(colors[k]);\r\n              cat.push({ 'category': item.category })\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // инфилизация настроик графика\r\n          var series2 = null;\r\n          let ser_settings = {\r\n              xAxis: xAxis,\r\n              yAxis: yAxis2,\r\n              openValueXField: \"fromDate\",\r\n              valueXField: \"toDate\",\r\n              categoryYField: \"category\",\r\n              sequencedInterpolation: true,\r\n          }\r\n\r\n          // перебор массия для заполнения подсказки и цвета Рек. Компании\r\n          data.map(function (item, key) {\r\n              ser_settings['fill'] = am5.color(colors[key]);\r\n\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, ser_settings));\r\n\r\n              series2.columns.template.setAll({\r\n                  templateField: \"columnSettings\",\r\n                  strokeOpacity: 0,\r\n                  tooltipText: \"[bold]{category}[/]\\n{description}\\n\" +\r\n                      \"{openValueX.formatDate('yyyy-MM-dd')} - {valueX.formatDate('yyyy-MM-dd')}\" +\r\n                      \"{promo}\"\r\n              });\r\n\r\n              series2.bullets.push(function () {\r\n                  return am5.Bullet.new(root, {\r\n                      sprite: am5.Circle.new(root, {\r\n                          radius: 2,\r\n                          fill: series2.get(\"fill\")\r\n                      })\r\n                  });\r\n              });\r\n          })\r\n\r\n          series2.columns.template.setAll({\r\n              opacity: 0.5,\r\n          });\r\n\r\n          series2.data.processor = am5.DataProcessor.new(root, {\r\n              dateFields: [\"fromDate\", \"toDate\"],\r\n              dateFormat: \"yyyy-MM-dd HH:mm\"\r\n          });\r\n\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n    // показ акций\r\n    if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n    }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderCountPos(MyData){\r\n    if( this.chartcountpos ){\r\n      this.chartcountpos.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountpos\"); \r\n\r\n    this.chartcountpos = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    var data_adv = [];\r\n\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 7 Позиций по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n          am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n    function createSeries2(name, field, data) {\r\n\r\n        // вытаскиваем название акции\r\n        let adv1 = [], adv2 = [];\r\n        let lKey = 0, newArr = false;\r\n\r\n        // разделяем на два массива\r\n        for (const [key, value] of data.entries()) {\r\n            lKey = key == 0 ? 1 : key - 1;\r\n            if (key == 0) {\r\n                adv1.push(value);\r\n            } else if (data[lKey]['name'] != value['name']) {\r\n                adv2.push(value);\r\n                newArr = true;\r\n            } else if (newArr) {\r\n                adv2.push(value);\r\n            } else {\r\n                adv1.push(value);\r\n            }\r\n        }\r\n\r\n        // инцилизация первого массива на графике\r\n        if (adv1.length != 0) {\r\n            var series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv1[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv1[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DC),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series2.set(\"fill\", am5.color(0x6794DC));\r\n            series2.data.setAll(adv1);\r\n        }\r\n\r\n        // инцилизация второго массива на графике\r\n        if (adv2.length != 0) {\r\n            var series3 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv2[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv2[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series3.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DA),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series3.set(\"fill\", am5.color(0x6794DA));\r\n            series3.data.setAll(adv2);\r\n        }\r\n    }\r\n    createSeries(\"Роллов\", \"value\", data_rolls);\r\n    createSeries(\"Пиццы\", \"value\", data_pizza);\r\n    //if (this.state.is_show_adv && MyData.adv_data) {\r\n    //    createSeries2(\"Акция\", \"value\", data_adv)\r\n    //}\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  // Позиций по дням\r\n  renderCountPosD(MyData){\r\n    if( this.chartcountposD ){\r\n      this.chartcountposD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountposD\"); \r\n\r\n    this.chartcountposD = root;\r\n\r\n    root.setThemes([\r\n       am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n       dateFormat: \"yyyy-MM-dd\",\r\n       dateFields: [\"valueX\", \"openValueX\"]\r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {})\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              //tooltip: am5.Tooltip.new(root, {\r\n              //    themeTags: [\"axis\"],\r\n              //    animationDuration: 200\r\n              //})\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              //series.strokes.template.set(\"stroke\", 'red');\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый график Рекламные компании, Позиций по дням\r\n      let colors = this.state.colors;\r\n      function createSeries2(name, field, data) {\r\n\r\n          let cat = [];\r\n          data.map((item, k) => {\r\n              data[k].name = item.category;\r\n              data[k].promo = (item.promo != \"\" || item.promo.length > 0) ? '\\nПромокод: ' + item.promo : '';\r\n              data[k].columnSettings.fill = am5.color(colors[k]);\r\n              cat.push({ 'category': item.category })\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // инфилизация настроик графика\r\n          var series2 = null;\r\n          let ser_settings = {\r\n              xAxis: xAxis,\r\n              yAxis: yAxis2,\r\n              openValueXField: \"fromDate\",\r\n              valueXField: \"toDate\",\r\n              categoryYField: \"category\",\r\n              sequencedInterpolation: true,\r\n          }\r\n\r\n          // перебор массия для заполнения подсказки и цвета Рек. Компании\r\n          data.map(function (item, key) {\r\n              ser_settings['fill'] = am5.color(colors[key]);\r\n\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, ser_settings));\r\n\r\n              series2.columns.template.setAll({\r\n                  templateField: \"columnSettings\",\r\n                  strokeOpacity: 0,\r\n                  tooltipText: \"[bold]{category}[/]\\n{description}\\n\" +\r\n                      \"{openValueX.formatDate('yyyy-MM-dd')} - {valueX.formatDate('yyyy-MM-dd')}\" +\r\n                      \"{promo}\"\r\n              });\r\n\r\n              series2.bullets.push(function () {\r\n                  return am5.Bullet.new(root, {\r\n                      sprite: am5.Circle.new(root, {\r\n                          radius: 2,\r\n                          fill: series2.get(\"fill\")\r\n                      })\r\n                  });\r\n              });\r\n          })\r\n\r\n          series2.columns.template.setAll({\r\n              opacity: 0.5,\r\n          });\r\n\r\n          series2.data.processor = am5.DataProcessor.new(root, {\r\n              dateFields: [\"fromDate\", \"toDate\"],\r\n              dateFormat: \"yyyy-MM-dd HH:mm\"\r\n          });\r\n\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n     createSeries(\"Роллов\", \"value\", data_rolls);\r\n     createSeries(\"Пиццы\", \"value\", data_pizza);\r\n      \r\n     if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data)\r\n     }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  changeDateRange(data, val) {\r\n    this.setState({\r\n      [data]: formatDate(val)\r\n    })\r\n  }\r\n\r\n  showStat(type) {\r\n      let val;\r\n      switch (type) {\r\n          case 'roll':\r\n              val = this.state.show_stat_roll ? false : true;\r\n              this.setState({ show_stat_roll: val })\r\n          break;\r\n          case 'set':\r\n              val = this.state.show_stat_set ? false : true;\r\n              this.setState({ show_stat_set: val });\r\n              \r\n          break;\r\n          case 'pizza':\r\n              val = this.state.show_stat_pizza ? false : true;\r\n              this.setState({ show_stat_pizza: val });\r\n          break;\r\n      }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite data={this.state.points} value={this.state.choosePoint} func={ (event, data) => { this.setState({ choosePoint: data }) } } multiple={true} label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({ promoName: event.target.value }) } } label='Промокод' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}> \r\n            <MySelect data={this.state.typesShow} value={this.state.typeShow} func={ (event) => { this.setState({ typeShow: event.target.value }) } } label='Как показать' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={1}> \r\n            <MyCheckBox label='Показать акции' value={this.state.is_show_adv} func={this.changeChekBox.bind(this, 'is_show_adv') }   />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Контакт-центр</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Сайт</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.all ? this.state.newUsersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.center ? this.state.newUsersTable.center : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.site ? this.state.newUsersTable.site : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставок</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.all ? this.state.countOrdersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.dev ? this.state.countOrdersTable.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.hall ? this.state.countOrdersTable.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.pic ? this.state.countOrdersTable.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставка</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.all ? this.state.avgSumm.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.dev ? this.state.avgSumm.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.hall ? this.state.avgSumm.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.pic ? this.state.avgSumm.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' } }>Позиций итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Роллов</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Пиццы</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_rolls ? this.state.countPos.count_rolls : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_pizza ? this.state.countPos.count_pizza : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Ушедшие клиенты</h2>\r\n              <h5 style={{ textAlign: 'center' }}>ушли - заказывали за 90 дней до указанного периода и больше не заказывали</h5>\r\n              <h5 style={{ textAlign: 'center' }}>вернулись - не заказывали 90 дней до указанного периода, сделали заказ в указанный период</h5>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Ушли</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Вернулись</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.lost_users ? this.state.fakeUsers.lost_users : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.ret_users ? this.state.fakeUsers.ret_users : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n\r\n                 <Grid container spacing={3}>\r\n                   \r\n                    <Grid style={{ marginTop: 20, marginBottom: 200}} item xs={12} sm={4}> \r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг роллов </h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'roll')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_roll != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.roll_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid style={{ marginTop: 20, marginBottom: 200 }} item xs={12} sm={4}>\r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг сетов</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'set')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_set != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.set_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                     <Grid style={{ marginTop: 20, marginBottom: 200 }} item  xs={12} sm={4}> \r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг Пиццы</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'pizza')}>Показать/Скрыть</h5>\r\n                        {this.state.show_stat_pizza != true ? null :\r\n                             <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.pizza_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                             </TableContainer>\r\n                         }\r\n                    </Grid>\r\n               </Grid>\r\n             </Grid>\r\n            }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по месяцам</h2>\r\n              <div id=\"chartnewusers\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по месяцам</h2>\r\n              <div id=\"chartorders\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по месяцам</h2>\r\n              <div id=\"chartavgsumm\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по месяцам</h2>\r\n              <div id=\"chartcountpos\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по дням</h2>\r\n              <div id=\"chartnewusersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по дням</h2>\r\n              <div id=\"chartordersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по дням</h2>\r\n              <div id=\"chartavgsummD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по дням</h2>\r\n              <div id=\"chartcountposD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteStatMarc() {\r\n  return (\r\n    <SiteStatMarc_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport { MyTextInput, MyDatePickerNew, MySelect, MyAutocomplite, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n        month = '0' + month;\r\n    if (day.length < 2)\r\n        day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}\r\n    \r\nclass AdvertisingCompany_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'advertising_company',\r\n      module_name: '',\r\n      description: '',\r\n      promo: '',\r\n      is_load: false,\r\n      \r\n      adv_actual: [],\r\n      adv_old: [],\r\n      \r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n\r\n      point_id: 0,\r\n      points: [],\r\n      choosePoint: [],\r\n      points_filter: [],\r\n\r\n      is_active: 1,\r\n      id: 0,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      name: '',\r\n      editTextNew: '',\r\n\r\n      showItem: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n        module_name     : data.module_info.name,\r\n        adv_actual      : data.adv_actual,\r\n        adv_old         : data.adv_old,\r\n        points          : data.points,\r\n        points_filter   : data.points,\r\n        point_id        : data.points[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item) {\r\n    this.setState({\r\n      modalDialog     : true,\r\n      showItem        : true,\r\n      name            : item.name,\r\n      date_start      : item.date_start,\r\n      date_end        : item.date_end,\r\n      is_active       : item.is_active,\r\n      id              : item.id,\r\n      description     : item.description,\r\n      choosePoint     : item.choosePoint,\r\n      promo           : item.promo,\r\n    })\r\n    \r\n  }\r\n\r\n  // сохранение после редактирования\r\n  async save(){\r\n     let data = {\r\n        id          : this.state.id,\r\n        points      : this.state.choosePoint,\r\n        name        : this.state.name,\r\n        //rangeDate   : this.state.rangeDate,\r\n        date_start  : this.state.date_start,\r\n        date_end    : this.state.date_end,\r\n        is_active   : this.state.is_active,\r\n        id          : this.state.id,\r\n        description : this.state.description,\r\n        promo       : this.state.promo,\r\n     };\r\n\r\n      let res = await this.getData('save_edit', data);\r\n\r\n      if (res.st === false) {\r\n            alert(res.text)\r\n      } else {\r\n            this.setState({ \r\n                 modalDialog: false, \r\n                 // showItem: null, \r\n                 name: '',\r\n                 date_start: formatDate(new Date()),\r\n                 date_end: formatDate(new Date())\r\n            })\r\n\r\n          res = await this.getData('get_adv_point', { point_id: this.state.point_id } );\r\n\r\n           // оновляем список \r\n          this.setState({\r\n              adv_actual : res.adv_actual,\r\n              adv_old    : res.adv_old\r\n          })\r\n\r\n      }   \r\n  }\r\n     \r\n  async saveNew(){\r\n      let data = {\r\n          points        : this.state.choosePoint,\r\n          name          : this.state.name,\r\n          date_start    : this.state.date_start,\r\n          date_end      : this.state.date_end,\r\n          is_active     : this.state.is_active,\r\n          description   : this.state.description,\r\n          promo         : this.state.promo,\r\n      };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n      if (res.st === false) {\r\n          alert(res.text)\r\n      } else {\r\n          this.setState({ \r\n              modalDialogNew: false,\r\n              name: '',\r\n              date_start: formatDate(new Date()),\r\n              date_end: formatDate(new Date())\r\n          })\r\n\r\n          res = await this.getData('get_adv_point', {point_id: this.state.point_id} );\r\n    \r\n          this.setState({\r\n              adv_actual : res.adv_actual,\r\n              adv_old    : res.adv_old,\r\n          })\r\n      }\r\n    }\r\n\r\n  changeChekBox(type, event) {\r\n      this.setState({\r\n          [type]: event.target.checked\r\n      })\r\n  }\r\n\r\n  changeDateRange(data, val) {\r\n    this.setState({\r\n      [data]: formatDate(val)\r\n    })\r\n  }\r\n\r\n  // смена точки\r\n  changePoint(event) {\r\n    this.setState({\r\n        point_id: event.target.value\r\n    })\r\n\r\n    setTimeout(() => {\r\n        this.getAdvList();\r\n    }, 50)\r\n  }\r\n\r\n  // получение спиок рек. компаний по точки\r\n  async getAdvList() {\r\n      let data = {\r\n          point_id: this.state.point_id,\r\n      };\r\n\r\n      let res = await this.getData('get_adv_point', data);\r\n\r\n      this.setState({\r\n          adv_actual: res.adv_actual,\r\n          adv_old   : res.adv_old,\r\n      })\r\n    }\r\n\r\n    // удаление РК\r\n    async delAdv(id) {\r\n        let data = {\r\n            point_id: this.state.point_id,\r\n        };\r\n\r\n        if (confirm('Вы действительно хотите удалить рекламную компанию?')) {\r\n           \r\n\r\n            let del = await this.getData('delete_adv', {id : id} );\r\n            if (!del['st']) {\r\n                alert('При удалении произошла ошибка');\r\n            }\r\n\r\n            let res = await this.getData('get_adv_point', data);\r\n\r\n            this.setState({\r\n                adv_actual: res.adv_actual,\r\n                adv_old: res.adv_old,\r\n            })\r\n\r\n        } \r\n        \r\n    }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showItem ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n                    onClose={() => { this.setState({ modalDialog: false, description: '', name: '', promo: '', choosePoint: [], date_start: formatDate(new Date()), date_end: formatDate(new Date()) }) } }\r\n          >\r\n            <DialogTitle>Компания \"{this.state.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                    <MyTextInput value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) }} label='Название акции' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyAutocomplite data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput value={this.state.promo} func={(event) => { this.setState({ promo: event.target.value }) }} label='Промокод' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n                 \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n                onClose={() => { this.setState({ modalDialogNew: false, description: '', name: '', promo: '', choosePoint: [], date_start: formatDate(new Date()), date_end: formatDate(new Date()) }) } }\r\n        >\r\n          <DialogTitle>Новая акция</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n               <Grid item xs={12} sm={12}>\r\n                  <MyTextInput value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) } } label='Название компании' />\r\n               </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyAutocomplite data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n               \r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание'  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyTextInput value={this.state.promo} func={(event) => { this.setState({ promo: event.target.value }) }} label='Промокод' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                     <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить акцию</Button>\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={6}>\r\n               <MySelect data={this.state.points_filter} value={this.state.point_id} func={this.changePoint.bind(this)} label='Точка' />\r\n            </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Grid item xs={12} sm={12}>\r\n                        <h2 style={{ textAlign: 'center' }}>Актвные</h2>\r\n                    </Grid>\r\n                    \r\n                    <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n                      <Table>\r\n                        <TableHead>\r\n                          <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }}>#</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Название</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Дата начало</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Дата окончания</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Точки</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Промокод</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                          </TableRow>\r\n                        </TableHead>\r\n\r\n                        <TableBody>\r\n                        {!this.state.adv_actual ? null :\r\n                           this.state.adv_actual.map((item, key) =>\r\n                                <TableRow key={key}  >\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ key + 1 } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.openCat.bind(this, item)} >{ item.name } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ item.date_start } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ item.date_end } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{item.choosePoint.map((it, k) => <React.Fragment key={k}> {it.name} </React.Fragment> )}</TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{item.promo} </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}> <CloseIcon onClick={this.delAdv.bind(this, item.id)} /> </TableCell>\r\n                               </TableRow>\r\n                         )}\r\n                        </TableBody>\r\n                     </Table>\r\n                    </TableContainer>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={12}>\r\n                            <h2 style={{ textAlign: 'center' }}>Не Актвные</h2>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12}>\r\n                            <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Название</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Дата начало</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Дата окончания</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Точки</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Промокод</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n\r\n                                    <TableBody>\r\n                                        {!this.state.adv_old ? null :\r\n                                            this.state.adv_old.map((item, key) =>\r\n                                                <TableRow key={key}  >\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{key + 1} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.openCat.bind(this, item)} >{item.name} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.date_start} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.date_end} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.choosePoint.map((it, k) => <React.Fragment key={k}> {it.name} </React.Fragment>)}</TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.promo} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}> <CloseIcon onClick={this.delAdv.bind(this, item.id)} /> </TableCell>\r\n                                                </TableRow>\r\n                                            )}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AdvertisingCompany() {\r\n  return (\r\n    <AdvertisingCompany_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasBillAndCook_ extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'ras_bill_and_cook',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: 0,\r\n      \r\n      rev_list: [],\r\n      rev: 0,\r\n      cats: [],\r\n      \r\n      date_end: formatDate(new Date())\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.changePoint({ target: { value: data.points[0].id } });\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.rev,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('show', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      cats: res.cats\r\n    })\r\n  }\r\n  \r\n  async changePoint(event){\r\n    let point = event.target.value;\r\n    \r\n    let data = {\r\n      point_id: point\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n\r\n    this.setState({\r\n      point: point,\r\n      rev_list: res,\r\n      rev: res[0].id\r\n    })\r\n  }\r\n\r\n  async changeRev(event){\r\n    let rev = event.target.value;\r\n    \r\n    this.setState({\r\n      rev: rev\r\n    })\r\n  }\r\n\r\n  changeDate(data){\r\n    this.setState({\r\n      date_end: formatDate(data)\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={4}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <MySelect data={this.state.rev_list} value={this.state.rev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <MyDatePickerNew label='Дата до' value={this.state.date_end} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            \r\n            { this.state.cats.map( (item, key) =>\r\n              <Accordion key={key}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  { item.cats.map( (cat, key_cat) => \r\n                    <Accordion key={key_cat}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                      >\r\n                        <Typography>{cat.name}</Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails>\r\n                        \r\n                        <Table>\r\n                  \r\n                          <TableHead>\r\n                            <TableRow>\r\n                              <TableCell style={{ width: '5%' }}>#</TableCell>\r\n\r\n                              <TableCell style={{ width: '20%' }}>Товар</TableCell>\r\n                              <TableCell style={{ width: '20%' }}>Ревизия</TableCell>\r\n\r\n                              <TableCell style={{ width: '15%' }}>Кол-во по накладным</TableCell>\r\n                              <TableCell style={{ width: '15%' }}>Кол-во по продажам</TableCell>\r\n\r\n                              <TableCell style={{ width: '15%' }}>Разница</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>Ед. измер</TableCell>\r\n                            </TableRow>\r\n                          </TableHead>\r\n\r\n                          <TableBody>\r\n                            \r\n                            { cat.items.map( (it, k) =>\r\n                              <TableRow key={k}>\r\n                                <TableCell>{k+1}</TableCell>\r\n                                <TableCell>{it.name}</TableCell>\r\n                                <TableCell>{it.count_rev}</TableCell>\r\n                                <TableCell>{it.count_bill}</TableCell>\r\n                                <TableCell>{it.count_ras}</TableCell>\r\n                                <TableCell>{it.count_res}</TableCell>\r\n                                <TableCell>{it.ei_name}</TableCell>\r\n                              </TableRow>\r\n                            ) }\r\n                          \r\n                          </TableBody>\r\n                        \r\n                        </Table>\r\n\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  ) }\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasBillAndCook() {\r\n  return (\r\n    <RasBillAndCook_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass SkladItemsModule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'sklad_items_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n      searchItem: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log(data)\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      freeItems: data.items_free\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  changeItem(data, event){\r\n    let vendor = this.state.itemEdit;\r\n    \r\n    if( data == 'two_user' || data == 'w_item' || data == 'w_trash' || data == 'w_pf' || data == 'is_show' ){\r\n      vendor.item[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor.item[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      itemEdit: vendor\r\n    })\r\n  }\r\n\r\n  async showEditItem(id){\r\n    let data = {\r\n      item_id: id\r\n    }\r\n    \r\n    let res = await this.getData('get_one', data);\r\n\r\n    this.setState({\r\n      modalItemEdit: true,\r\n      itemEdit: res,\r\n      itemName: res.item.name\r\n    })\r\n  }\r\n\r\n  async saveEditItem(main_item_id = 0){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      item: this.state.itemEdit,\r\n      storages: this.state.itemEdit.this_storages,\r\n      main_item_id: parseInt(main_item_id) == 0 ? this.state.itemEdit.item.id : parseInt(main_item_id)\r\n    }\r\n    \r\n    let res = await this.getData('saveEditItem', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemEdit: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNewItem(main_item_id = 0){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      item: this.state.itemEdit,\r\n      storages: this.state.itemEdit.this_storages,\r\n      main_item_id: parseInt(main_item_id) == 0 ? this.state.itemEdit.item.id : parseInt(main_item_id)\r\n    }\r\n    \r\n    let res = await this.getData('saveNewItem', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemNew: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  async checkArt(){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      art: this.state.itemEdit.item.art,\r\n    }\r\n    \r\n    let res = await this.getData('checkArt', data);\r\n\r\n    if( res.st === false ){\r\n      this.setState({ \r\n        checkArtDialog: true, \r\n        checkArtList: res.data\r\n      })\r\n    }else{\r\n      this.saveEditItem(0);\r\n    }\r\n  }\r\n\r\n  async checkArtNew(){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      art: this.state.itemEdit.item.art,\r\n    }\r\n    \r\n    let res = await this.getData('checkArt', data);\r\n\r\n    if( res.st === false ){\r\n\r\n      res.data.push({ id: -1, name: this.state.itemEdit.item.name })\r\n\r\n      this.setState({ \r\n        checkArtDialog: true, \r\n        checkArtList: res.data\r\n      })\r\n    }else{\r\n      this.saveNewItem(0);\r\n    }\r\n  }\r\n\r\n  chooseArt(item_id){\r\n    if( this.state.modalItemNew === true ){\r\n      this.saveNewItem(item_id);\r\n    }else{\r\n      this.saveEditItem(item_id);\r\n    }\r\n  }\r\n\r\n  async openModalItemNew(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalItemNew: true,\r\n      itemEdit: res,\r\n    })\r\n  }\r\n\r\n  async saveItem(item_id, type, value){\r\n    let data = {\r\n      item_id: item_id,\r\n      type: type,\r\n      value: value\r\n    };\r\n\r\n    let res = await this.getData('saveItem', data, false);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemNew: false,\r\n        modalItemEdit: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  changeTableItem(item_id, type, event){\r\n    \r\n    if( parseInt(type) == 1 ){\r\n      let data = event.target.checked;\r\n\r\n      let items = this.state.cats;\r\n\r\n      items.map( (item, key) => {\r\n        item.cats.map( (cat, key_cat) => {\r\n          cat.items.map( (it, k) => {\r\n            if( parseInt( it.id ) == parseInt( item_id ) ){\r\n              items[ key ]['cats'][ key_cat ]['items'][ k ]['show_in_rev'] = data == true ? 1 : 0;\r\n            }\r\n          } )\r\n        } )\r\n      } )\r\n\r\n      this.setState({\r\n        cats: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'show_in_rev', data == true ? 1 : 0);\r\n    }\r\n\r\n    if( parseInt(type) == 3 ){\r\n      let data = event.target.value;\r\n\r\n      let items = this.state.cats;\r\n\r\n      items.map( (item, key) => {\r\n        item.cats.map( (cat, key_cat) => {\r\n          cat.items.map( (it, k) => {\r\n            if( parseInt( it.id ) == parseInt( item_id ) ){\r\n              items[ key ]['cats'][ key_cat ]['items'][ k ]['handle_price'] = data;\r\n            }\r\n          } )\r\n        } )\r\n      } )\r\n\r\n      this.setState({\r\n        cats: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'handle_price', data);\r\n    }\r\n\r\n\r\n\r\n    if( parseInt(type) == 2 ){\r\n      let data = event.target.value;\r\n      \r\n      let items = this.state.freeItems;\r\n\r\n      items.map( (item, key) => {\r\n        if( parseInt( item.id ) == parseInt( item_id ) ){\r\n          items[ key ]['show_in_rev'] = data == true ? 1 : 0;\r\n        }\r\n      } )\r\n\r\n      this.setState({\r\n        freeItems: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'show_in_rev', data == true ? 1 : 0);\r\n    }\r\n\r\n    if( parseInt(type) == 4 ){\r\n      let data = event.target.value;\r\n      \r\n      let items = this.state.freeItems;\r\n\r\n      items.map( (item, key) => {\r\n        if( parseInt( item.id ) == parseInt( item_id ) ){\r\n          items[ key ]['handle_price'] = data;\r\n        }\r\n      } )\r\n\r\n      this.setState({\r\n        freeItems: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'handle_price', data);\r\n    }\r\n    \r\n  }\r\n\r\n  async search(){\r\n    let data = {\r\n      item: this.state.searchItem\r\n    };\r\n\r\n    let res = await this.getData('get_all_search', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      cats: res.cats,\r\n      freeItems: res.items_free\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ checkArtDialog: false, checkArtList: [] }) } } open={this.state.checkArtDialog}>\r\n          <DialogTitle>Такой код 1с уже задан у следующих позиций:</DialogTitle>\r\n          <List sx={{ pt: 0 }}>\r\n            {this.state.checkArtList.map((item, key) => (\r\n              <ListItem button onClick={this.chooseArt.bind(this, item.id)} key={key}>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalItemEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItemEdit: false, itemEdit: null, checkArtDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Редактирвоание товара {this.state.itemName}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.itemEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара\" value={ this.state.itemEdit.item.name } func={ this.changeItem.bind(this, 'name') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.pf_list} value={this.state.itemEdit.item.pf_id} func={ this.changeItem.bind(this, 'pf_id') } label='Заготовка' />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара для поставщика\" value={ this.state.itemEdit.item.name_for_vendor } func={ this.changeItem.bind(this, 'name_for_vendor') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Код для 1с\" value={ this.state.itemEdit.item.art } func={ this.changeItem.bind(this, 'art') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Максимальное количество заказов в месяц (0 - без ограничений)\" value={ this.state.itemEdit.item.max_count_in_m } func={ this.changeItem.bind(this, 'max_count_in_m') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.cats} value={this.state.itemEdit.item.cat_id} func={ this.changeItem.bind(this, 'cat_id') } label='Категория' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Количество в упаковке\" value={ this.state.itemEdit.item.pq } func={ this.changeItem.bind(this, 'pq') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.ed_izmer} value={this.state.itemEdit.item.ed_izmer_id} func={ this.changeItem.bind(this, 'ed_izmer_id') } label='Ед измер' />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.apps} value={this.state.itemEdit.item.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность на кухне' />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время приготовления ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_min } func={ this.changeItem.bind(this, 'time_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Дополнительное время ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_dop_min } func={ this.changeItem.bind(this, 'time_dop_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время разгрузки ММ:SS.iiii (00:20.004)\" value={ this.state.itemEdit.item.time_min_other } func={ this.changeItem.bind(this, 'time_min_other') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% потерь\" value={ this.state.itemEdit.item.los_percent } func={ this.changeItem.bind(this, 'los_percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% заявки\" value={ this.state.itemEdit.item.percent } func={ this.changeItem.bind(this, 'percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% повышения ценника\" value={ this.state.itemEdit.item.vend_percent } func={ this.changeItem.bind(this, 'vend_percent') } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес заготовки\" value={ parseInt(this.state.itemEdit.item.w_pf) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_pf') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес отхода\" value={ parseInt(this.state.itemEdit.item.w_trash) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_trash') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес товара\" value={ parseInt(this.state.itemEdit.item.w_item) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_item') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Два сотрудника\" value={ parseInt(this.state.itemEdit.item.two_user) == 1 ? true : false } func={ this.changeItem.bind(this, 'two_user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    <MyAutocomplite label='Места хранения' multiple={true} data={this.state.itemEdit.storages} value={this.state.itemEdit.this_storages} func={ (event, value) => { let this_storages = this.state.itemEdit; this_storages.this_storages = value; this.setState({ itemEdit: this_storages }) } } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.itemEdit.item.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.checkArt.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItemNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItemNew: false, itemEdit: null, checkArtDialog: false }) } }\r\n        >\r\n          <DialogTitle>Новый товар</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.itemEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара\" value={ this.state.itemEdit.item.name } func={ this.changeItem.bind(this, 'name') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.pf_list} value={this.state.itemEdit.item.pf_id} func={ this.changeItem.bind(this, 'pf_id') } label='Заготовка' />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара для поставщика\" value={ this.state.itemEdit.item.name_for_vendor } func={ this.changeItem.bind(this, 'name_for_vendor') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Код для 1с\" value={ this.state.itemEdit.item.art } func={ this.changeItem.bind(this, 'art') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Максимальное количество заказов в месяц (0 - без ограничений)\" value={ this.state.itemEdit.item.max_count_in_m } func={ this.changeItem.bind(this, 'max_count_in_m') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.cats} value={this.state.itemEdit.item.cat_id} func={ this.changeItem.bind(this, 'cat_id') } label='Категория' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Количество в упаковке\" value={ this.state.itemEdit.item.pq } func={ this.changeItem.bind(this, 'pq') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.ed_izmer} value={this.state.itemEdit.item.ed_izmer_id} func={ this.changeItem.bind(this, 'ed_izmer_id') } label='Ед измер' />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.apps} value={this.state.itemEdit.item.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность на кухне' />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время приготовления ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_min } func={ this.changeItem.bind(this, 'time_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Дополнительное время ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_dop_min } func={ this.changeItem.bind(this, 'time_dop_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время разгрузки ММ:SS.iiii (00:20.004)\" value={ this.state.itemEdit.item.time_min_other } func={ this.changeItem.bind(this, 'time_min_other') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% потерь\" value={ this.state.itemEdit.item.los_percent } func={ this.changeItem.bind(this, 'los_percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% заявки\" value={ this.state.itemEdit.item.percent } func={ this.changeItem.bind(this, 'percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% повышения ценника\" value={ this.state.itemEdit.item.vend_percent } func={ this.changeItem.bind(this, 'vend_percent') } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес заготовки\" value={ parseInt(this.state.itemEdit.item.w_pf) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_pf') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес отхода\" value={ parseInt(this.state.itemEdit.item.w_trash) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_trash') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес товара\" value={ parseInt(this.state.itemEdit.item.w_item) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_item') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Два сотрудника\" value={ parseInt(this.state.itemEdit.item.two_user) == 1 ? true : false } func={ this.changeItem.bind(this, 'two_user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    <MyAutocomplite label='Места хранения' multiple={true} data={this.state.itemEdit.storages} value={this.state.itemEdit.this_storages} func={ (event, value) => { let this_storages = this.state.itemEdit; this_storages.this_storages = value; this.setState({ itemEdit: this_storages }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.checkArtNew.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalItemNew.bind(this)} variant=\"contained\">Добавить товар</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label=\"Поиск\" value={ this.state.searchItem } func={ ( event ) => { this.setState({ searchItem: event.target.value }) } } onBlur={ this.search.bind(this) } />\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.map( (item, key) =>\r\n              <Accordion key={key}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  { item.cats.map( (cat, key_cat) => \r\n                    <Accordion key={key_cat}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                      >\r\n                        <Typography>{cat.name}</Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                        \r\n                        <Table>\r\n                  \r\n                          <TableHead>\r\n                            <TableRow>\r\n                              <TableCell style={{ width: '2%' }}>id</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '2%' }}></TableCell>\r\n                              <TableCell style={{ width: '3%' }}>Ревизия</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '15%' }}>Товар</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>% потерь</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>% заявки</TableCell>\r\n                              <TableCell style={{ width: '15%' }}>Заготовка</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '5%' }}>Ед. измер</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '9%' }}>Место хранения</TableCell>\r\n                              <TableCell style={{ width: '9%', minWidth: 150 }}>Моя цена</TableCell>\r\n                            </TableRow>\r\n                          </TableHead>\r\n                  \r\n                          <TableBody>\r\n                            \r\n                            { cat.items.map( (it, k) =>\r\n                              <TableRow key={k}>\r\n                                <TableCell>{it.id}</TableCell>\r\n                                <TableCell> \r\n                                  { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                                </TableCell>\r\n                                <TableCell>\r\n                                  <MyCheckBox label=\"\" value={ parseInt(it.show_in_rev) == 1 ? true : false } func={ this.changeTableItem.bind(this, it.id, 1) } />\r\n                                </TableCell>\r\n                                <TableCell style={{ cursor: 'pointer' }} onClick={this.showEditItem.bind(this, it.id)}>{it.name}</TableCell>\r\n                                <TableCell>{it.los_percent} %</TableCell>\r\n                                <TableCell>{it.percent} %</TableCell>\r\n                                <TableCell>{it.pf_name}</TableCell>\r\n                  \r\n                                <TableCell>{it.ei_name}</TableCell>\r\n                                <TableCell>{it.storage_name}</TableCell>\r\n                                <TableCell>\r\n                                  <MyTextInput label=\"\" value={it.handle_price} func={ this.changeTableItem.bind(this, it.id, 3) } />\r\n                                </TableCell>\r\n                              </TableRow>           \r\n                            ) }\r\n                          \r\n                          </TableBody>\r\n                        \r\n                        </Table>\r\n\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  ) }\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n            { this.state.freeItems.length == 0 ? null :\r\n\r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>Без категории</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                  \r\n                  <Table>\r\n                  \r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell style={{ width: '2%' }}>id</TableCell>\r\n            \r\n                        <TableCell style={{ width: '2%' }}></TableCell>\r\n                        <TableCell style={{ width: '3%' }}>Ревизия</TableCell>\r\n            \r\n                        <TableCell style={{ width: '15%' }}>Товар</TableCell>\r\n                        <TableCell style={{ width: '10%' }}>% потерь</TableCell>\r\n                        <TableCell style={{ width: '10%' }}>% заявки</TableCell>\r\n                        <TableCell style={{ width: '15%' }}>Заготовка</TableCell>\r\n            \r\n                        <TableCell style={{ width: '5%' }}>Ед. измер</TableCell>\r\n            \r\n                        <TableCell style={{ width: '9%' }}>Место хранения</TableCell>\r\n                        <TableCell style={{ width: '9%', minWidth: 150 }}>Моя цена</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n            \r\n                    <TableBody>\r\n                      \r\n                      { this.state.freeItems.map( (it, k) =>\r\n                        <TableRow key={k}>\r\n                          <TableCell>{it.id}</TableCell>\r\n                          <TableCell> \r\n                            { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <MyCheckBox label=\"\" value={ parseInt(it.show_in_rev) == 1 ? true : false } func={ this.changeTableItem.bind(this, it.id, 2) } />\r\n                          </TableCell>\r\n                          <TableCell style={{ cursor: 'pointer' }} onClick={this.showEditItem.bind(this, it.id)}>{it.name}</TableCell>\r\n                          <TableCell>{it.los_percent} %</TableCell>\r\n                          <TableCell>{it.percent} %</TableCell>\r\n                          <TableCell>{it.pf_name}</TableCell>\r\n            \r\n                          <TableCell>{it.ei_name}</TableCell>\r\n                          <TableCell>{it.storage_name}</TableCell>\r\n                          <TableCell>\r\n                            <MyTextInput label=\"\" value={it.handle_price} func={ this.changeTableItem.bind(this, it.id, 4) } />\r\n                          </TableCell>\r\n                        </TableRow>           \r\n                      ) }\r\n                    \r\n                    </TableBody>\r\n                  \r\n                  </Table>\r\n\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            }\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SkladItemsModule() {\r\n  return (\r\n    <SkladItemsModule_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteUserManager_ extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/users/upload.php\",\r\n  };\r\n  myDropzone = null;\r\n  isInit = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_user_manager',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      editUser: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      point_list: data.points,\r\n      app_list: data.apps,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.changeSort('point_id', {target: {value: data.points[0]['id']}})\r\n    }, 500 )\r\n\r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeSort(type, event){\r\n    this.setState({\r\n      [type]: event.target.value\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getUsers();\r\n    }, 300 )\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('getUsers', data);\r\n\r\n    this.setState({\r\n      users: res\r\n    })\r\n  }\r\n\r\n  async openEditUser(user_id){\r\n    let data = {\r\n      user_id: user_id\r\n    };\r\n\r\n    let res = await this.getData('getUser', data);\r\n\r\n    this.setState({\r\n      editUser: res,\r\n      modalUserEdit: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_edit\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNewUser(){\r\n    let res = await this.getData('getAllForNew');\r\n\r\n    this.setState({\r\n      editUser: res,\r\n      modalUserNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editUser;\r\n    \r\n    if( data == 'birthday' ){\r\n      vendor.user[data] = formatDate(event);\r\n    }else{\r\n      if( data == 'acc_to_kas' ){\r\n        vendor.user[data] = event.target.checked === true ? 1 : 0;\r\n      }else{\r\n        vendor.user[data] = event.target.value;\r\n      }\r\n    }\r\n    \r\n    this.setState({ \r\n      editUser: vendor\r\n    })\r\n\r\n    if( data == 'city_id' ){\r\n      setTimeout( () => {\r\n        this.sortPoint();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n  sortPoint(){\r\n    let city_id = this.state.editUser.user.city_id;\r\n    let points = this.state.editUser.point_list;\r\n    let points_render = [];\r\n\r\n    if( parseInt(city_id) == -1 ){\r\n      points_render = points;\r\n    }else{\r\n      points_render = points.filter( ( item ) => parseInt(item.city_id) == parseInt(city_id) || parseInt(item.city_id) == -1 );\r\n    }\r\n\r\n    this.setState({\r\n      point_list_render: points_render\r\n    })\r\n  }\r\n\r\n  async saveEditUser(){\r\n\r\n    let is_graph = false;\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editUser.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph === true ){\r\n      this.setState({\r\n        graphModal: true\r\n      })\r\n\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(this.state.editUser.user.app_id) == 0 && this.state.textDel.length == 0 ){\r\n\r\n      this.setState({\r\n        delModal: true\r\n      })\r\n\r\n      return;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editUser.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        this.setState({ \r\n          delModal: false,\r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editUser,\r\n      textDel: this.state.textDel,\r\n      graphType: this.state.graphType\r\n    };\r\n\r\n    let res = await this.getData('saveEditUser', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          delModal: false,\r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        this.myDropzone.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewUser(){\r\n    let is_graph = false;\r\n    let is_graph_ = false;\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editUser.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 ){\r\n          is_graph_ = true;\r\n        }\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph_ === true && this.myDropzone['files'].length == 0 ){\r\n      alert('Необходимо фотография сотрудника');\r\n      return ;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editUser.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        this.setState({ \r\n          modalUserNew: false, \r\n          editUser: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editUser,\r\n      graphType: is_graph === true ? 1 : 0\r\n    };\r\n\r\n    let res = await this.getData('saveNewUser', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( res.sms === false ){\r\n        alert('Ошибка в отправке смс');\r\n      }\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        let user = this.state.editUser;\r\n        user.user.id = res.user_id;\r\n\r\n        this.setState({\r\n          editUser: user\r\n        })\r\n\r\n        setTimeout( () => {\r\n          this.myDropzone.processQueue();\r\n        }, 300 )\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getOrientation(file, callback) {\r\n    var reader = new FileReader();\r\n    \r\n    reader.onload = function(event) {\r\n        var view = new DataView(event.target.result);\r\n    \r\n        if (view.getUint16(0, false) != 0xFFD8) return callback(-2);\r\n    \r\n        var length = view.byteLength,\r\n          offset = 2;\r\n    \r\n        while (offset < length) {\r\n        var marker = view.getUint16(offset, false);\r\n        offset += 2;\r\n    \r\n        if (marker == 0xFFE1) {\r\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n            return callback(-1);\r\n          }\r\n            var little = view.getUint16(offset += 6, false) == 0x4949;\r\n            offset += view.getUint32(offset + 4, little);\r\n            var tags = view.getUint16(offset, little);\r\n            offset += 2;\r\n      \r\n            for (var i = 0; i < tags; i++)\r\n            if (view.getUint16(offset + (i * 12), little) == 0x0112)\r\n                return callback(view.getUint16(offset + (i * 12) + 8, little));\r\n        }else if ((marker & 0xFF00) != 0xFF00) break;\r\n        else offset += view.getUint16(offset, false);\r\n      }\r\n        \r\n        return callback(-1);\r\n    };\r\n    \r\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\r\n  };\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog open={this.state.delModal} onClose={() => { this.setState({ delModal: false, textDel: '' }) }}>\r\n          <DialogTitle>Причина увольнения</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Увольнение происходит не сразу, а в полночь\r\n            </DialogContentText>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n              <Grid item xs={12}>\r\n                <MyTextInput label=\"Причина увольнения\" value={ this.state.textDel } func={ (event) => { this.setState({ textDel: event.target.value }) } } />\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Button variant=\"contained\" onClick={this.saveEditUser.bind(this)}>Уволить</Button>\r\n            <Button onClick={ () => { this.setState({ delModal: false, textDel: '' }) } }>Отмена</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.graphModal} onClose={() => { this.setState({ graphModal: false, graphType: 0 }) }}>\r\n          <DialogTitle>С какого периода применить изменения ?</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 1 }); this.saveEditUser() } } style={{ width: '100%' }}>С текущего периода</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 2 }); this.saveEditUser() } } style={{ width: '100%' }}>Со следующего периода</Button>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: -1 }); this.saveEditUser() } } style={{ width: '100%' }}>Без изменений</Button>\r\n              </Grid>\r\n\r\n            </Grid>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n       <Dialog\r\n          open={this.state.modalUserEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserEdit: false, editUser: null }) } }\r\n        >\r\n          <DialogTitle>Редактирвоание сотрудника</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.editUser && this.state.modalUserEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Фамилия\" value={ this.state.editUser.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Имя\" value={ this.state.editUser.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Отчество\" value={ this.state.editUser.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Номер телефона\" value={ this.state.editUser.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editUser.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editUser.user['img_name']+'?'+this.state.editUser.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <div className=\"dropzone\" id=\"for_img_edit\" style={{ width: '100%', minHeight: 150 }} />\r\n                          </Grid>\r\n                        </Grid>\r\n                        \r\n                      </Grid>\r\n                      \r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editUser.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"ИНН\" value={ this.state.editUser.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editUser.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect data={this.state.editUser.appointment} value={this.state.editUser.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect data={this.state.editUser.cities} value={this.state.editUser.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect data={this.state.point_list_render} value={this.state.editUser.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TableContainer component={Paper}>\r\n                          <Table size={'small'}>\r\n                            <TableHead>\r\n                              <TableRow>\r\n                                <TableCell style={{ minWidth: 125 }}>Дата</TableCell>\r\n                                <TableCell>Кто обновлял</TableCell>\r\n                                <TableCell>Имя</TableCell>\r\n                                <TableCell>Телефон</TableCell>\r\n                                <TableCell>Код авторизации</TableCell>\r\n                                <TableCell>ИНН</TableCell>\r\n                                <TableCell>Должность</TableCell>\r\n                                <TableCell>Город</TableCell>\r\n                                <TableCell>Точка</TableCell>\r\n                              </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                              { this.state.editUser.user.history.map( (item, key) => \r\n                                <TableRow key={key}>\r\n                                  <TableCell style={{ minWidth: 125 }}>{item.date_time_update}</TableCell>\r\n                                  <TableCell>{item.update_name}</TableCell>\r\n                                  <TableCell>{item.name}</TableCell>\r\n                                  <TableCell>{item.login}</TableCell>\r\n                                  <TableCell>{item.auth_code}</TableCell>\r\n                                  <TableCell>{item.inn}</TableCell>\r\n                                  <TableCell>{item.app_name}</TableCell>\r\n                                  <TableCell>{item.city_name}</TableCell>\r\n                                  <TableCell>{item.point_name}</TableCell>\r\n                                </TableRow>\r\n                              ) }\r\n                            </TableBody>\r\n                          </Table>\r\n                        </TableContainer>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveEditUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalUserNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserNew: false, editUser: null }) } }\r\n        >\r\n          <DialogTitle>Новый сотрудник</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editUser && this.state.modalUserNew ?\r\n                  <>\r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Фамилия\" value={ this.state.editUser.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Имя\" value={ this.state.editUser.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Отчество\" value={ this.state.editUser.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Номер телефона\" value={ this.state.editUser.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editUser.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editUser.user['img_name']+'?'+this.state.editUser.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <div className=\"dropzone\" id=\"for_img_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                            </Grid>\r\n                          </Grid>\r\n                          \r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editUser.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"ИНН\" value={ this.state.editUser.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editUser.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect data={this.state.editUser.appointment} value={this.state.editUser.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect data={this.state.editUser.cities} value={this.state.editUser.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect data={this.state.point_list_render} value={this.state.editUser.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n                    \r\n                  </>\r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.point_list} value={this.state.point_id} func={ this.changeSort.bind(this, 'point_id') } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.app_list} value={this.state.app_id} func={ this.changeSort.bind(this, 'app_id') } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openNewUser.bind(this)} variant=\"contained\">Добавить сотрудника</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Фото</TableCell>\r\n                    <TableCell>Телефон</TableCell>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Должность</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.users.map( (item, key) => \r\n                    <TableRow key={key} onClick={this.openEditUser.bind(this, item.id)}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>\r\n                        { item['img_name'] === null ? null :\r\n                          <img src={'https://storage.yandexcloud.net/user-img/min-img/'+item['img_name']+'?'+item['img_update']} style={{maxWidth: 100, maxHeight: 100}} /> \r\n                        }\r\n                      </TableCell>\r\n                      <TableCell>{item.login}</TableCell>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.app_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n\r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteUserManager() {\r\n  return (\r\n    <SiteUserManager_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyDatePickerNew, MyTextInput, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass PromoItemsStat_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'promo_items_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      point_list: [],\r\n      choosePoint: [],\r\n\r\n      stats: [],\r\n\r\n      chooseItem: null,\r\n      items_list: [],\r\n      promoName: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      point_list: data.points,\r\n      stats: data.stats,\r\n      items_list: data.items\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getStat() {\r\n    let data = {\r\n      choosePoint   : this.state.choosePoint,\r\n      date_start    : this.state.date_start,\r\n      date_end      : this.state.date_end,\r\n      promoName     : this.state.promoName,\r\n      chooseItem    : this.state.chooseItem,\r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n\r\n    console.log( data )\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      stats: res.stats\r\n    })\r\n  }\r\n\r\n  choosePoint(event, data){\r\n    this.setState({\r\n      choosePoint: data\r\n    })\r\n  }\r\n\r\n  chooseData(data, val, val2){\r\n    this.setState({\r\n      [data]: data != 'promoName' && data != 'chooseItem' ? formatDate(val) : data == 'chooseItem' ? val2 : val\r\n    })\r\n  }\r\n\r\n  chooseDataNew(data, val, val2){\r\n    if( data == 'promoName' ){\r\n      this.setState({\r\n        [data]: val.target.value,\r\n        chooseItem: val.target.value.length > 0 ? null : this.state.chooseItem\r\n      })\r\n    }\r\n\r\n    if( data == 'chooseItem' ){\r\n      this.setState({\r\n        [data]: val2,\r\n        promoName: val2 ? '' : this.state.promoName\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={2}>\r\n            <MyAutocomplite data={this.state.point_list} value={this.state.choosePoint} func={ this.choosePoint.bind(this) } multiple={true} label='Точка' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={2}>\r\n            <MyDatePickerNew label={'Дата от'} value={this.state.date_start} func={ this.chooseData.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <MyDatePickerNew label={'Дата до'} value={this.state.date_end} func={ this.chooseData.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ this.chooseDataNew.bind(this, 'promoName') } label='Промокод' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite data={this.state.items_list} value={this.state.chooseItem} func={ this.chooseDataNew.bind(this, 'chooseItem') } multiple={false} label='Товар' />\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getStat.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Название</TableCell>\r\n                  <TableCell>Кол-во</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                {!this.state.stats ? null :\r\n                  this.state.stats.map((item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell style={{ textAlign: 'left' }}>{item.name} </TableCell>\r\n                      <TableCell style={{ textAlign: 'left' }}>{item.count} </TableCell>\r\n                    </TableRow>\r\n                  )\r\n                }\r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function PromoItemsStat() {\r\n  return (\r\n    <PromoItemsStat_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport DehazeIcon from '@mui/icons-material/Dehaze';\r\n\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Tab from '@mui/material/Tab';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass TableStages extends React.Component{\r\n  render (){\r\n    return (\r\n      <Table size='small' style={{ marginBottom: 50 }}>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Название</TableCell>\r\n            <TableCell>Количество</TableCell>\r\n            <TableCell></TableCell>\r\n            <TableCell>Сортировка</TableCell>\r\n            <TableCell></TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          { this.props.data.map( (item, key) =>\r\n            <TableRow key={key}>\r\n              <TableCell>{item.name}</TableCell>\r\n              <TableCell>\r\n                <MyTextInput label=\"\" value={item.count} func={ this.props.changeData.bind(this, this.props.type, this.props.arr, 'count', key) } />\r\n              </TableCell>\r\n              <TableCell>{item.ei_name}</TableCell>\r\n              <TableCell style={{ maxWidth: 100 }}>\r\n                <MyTextInput label=\"\" value={item.sort} func={ this.props.changeData.bind(this, this.props.type, this.props.arr, 'sort', key) } />\r\n              </TableCell>\r\n              <TableCell>\r\n                <CloseIcon onClick={this.props.delItem.bind(this, this.props.type, this.props.arr, key) } style={{ cursor: 'pointer' }} />\r\n              </TableCell>\r\n            </TableRow>\r\n          ) }\r\n        </TableBody>\r\n      </Table>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteItems_ extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/site_img/upload_img_new.php\",\r\n  };\r\n  myDropzoneOld = null;\r\n  myDropzoneNew = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      //editItem: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0,\r\n\r\n\r\n\r\n\r\n\r\n      editItem: null,\r\n      item_rec: null,\r\n      item_pf: null,\r\n      item_items_all: [],\r\n      modalEdit: false,\r\n      modalNew: false,\r\n      types: [\r\n        { id: 1, name: 'Позиция (ролл)' },\r\n        { id: 2, name: 'Набор (сет)' },\r\n        { id: 3, name: 'Доп (палочки / соевый / ...)' },\r\n        { id: 4, name: 'Напиток' },\r\n      ],\r\n      cats: [],\r\n      cat_list: [],\r\n\r\n      ItemTab: '1',\r\n      anchorEl: null,\r\n      openMenu: false,\r\n      openMenuType: null,\r\n      openMenuitem: null,\r\n\r\n      rec_stage_1: [],\r\n      rec_stage_2: [],\r\n      rec_stage_3: [],\r\n\r\n      pf_stage_1: [],\r\n      pf_stage_2: [],\r\n      pf_stage_3: [],\r\n\r\n      item_items: [],\r\n\r\n      myDropzoneOld: null,\r\n      myDropzoneNew: null,\r\n\r\n      is_snack: false,\r\n      textSnack: '',\r\n\r\n      searchPf: '',\r\n      item_pf_render: [],\r\n\r\n      searchItems: '',\r\n      item_items_render: [],\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n  }\r\n\r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }  \r\n\r\n  async openItem(item){\r\n    let data = {\r\n      id: item.id,\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    var items_pf_stages_1 = [],\r\n\t\t\titems_pf_stages_2 = [],\r\n\t\t\titems_pf_stages_3 = [],\r\n\t\t\t\r\n\t\t\titems_rec_stages_1 = [],\r\n\t\t\titems_rec_stages_2 = [],\r\n\t\t\titems_rec_stages_3 = [],\r\n\r\n      items_items = [];\r\n\r\n    if(res.item_rec.stage_1){\r\n      res.item_rec.stage_1.map(function(item){\r\n        items_rec_stages_1.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n    if(res.item_rec.stage_2){\r\n      res.item_rec.stage_2.map(function(item){\r\n        items_rec_stages_2.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n    if(res.item_rec.stage_3){\r\n      res.item_rec.stage_3.map(function(item){\r\n        items_rec_stages_3.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n\r\n\r\n    if(res.item_pf.stage_1){\r\n\t\t\tres.item_pf.stage_1.map(function(item){\r\n\t\t\t\titems_pf_stages_1.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(res.item_pf.stage_2){\r\n\t\t\tres.item_pf.stage_2.map(function(item){\r\n\t\t\t\titems_pf_stages_2.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(res.item_pf.stage_3){\r\n\t\t\tres.item_pf.stage_3.map(function(item){\r\n\t\t\t\titems_pf_stages_3.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\r\n    \r\n\t\t\r\n\t\tif(res.item_items.this_items){\r\n\t\t\tres.item_items.this_items.map(function(item){\r\n\t\t\t\titems_items.push({item_id: item['item_id'], name: item['name'], count: item['count'], is_add: parseInt(item['is_add']) });\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\r\n\t\tthis.setState({\r\n      editItem: res.item,\r\n      item_rec: res.item_rec,\r\n      item_pf: res.item_pf,\r\n      item_pf_render: res.item_pf.all,\r\n      item_items_all: res.item_items.all_items,\r\n      item_items_render: res.item_items.all_items,\r\n\r\n      rec_stage_1: items_rec_stages_1,\r\n      rec_stage_2: items_rec_stages_2,\r\n      rec_stage_3: items_rec_stages_3,\r\n\r\n      pf_stage_1: items_pf_stages_1,\r\n      pf_stage_2: items_pf_stages_2,\r\n      pf_stage_3: items_pf_stages_3,\r\n\r\n      item_items: items_items,\r\n\r\n      modalEdit: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n      this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNew(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    var items_pf_stages_1 = [],\r\n\t\t\titems_pf_stages_2 = [],\r\n\t\t\titems_pf_stages_3 = [],\r\n\t\t\t\r\n\t\t\titems_rec_stages_1 = [],\r\n\t\t\titems_rec_stages_2 = [],\r\n\t\t\titems_rec_stages_3 = [],\r\n\r\n      items_items = [];\r\n\r\n    this.setState({\r\n      editItem: res.item,\r\n      item_rec: res.item_rec,\r\n      item_pf: res.item_pf,\r\n      item_pf_render: res.item_pf.all,\r\n      item_items_all: res.item_items.all_items,\r\n      item_items_render: res.item_items.all_items,\r\n\r\n      rec_stage_1: items_rec_stages_1,\r\n      rec_stage_2: items_rec_stages_2,\r\n      rec_stage_3: items_rec_stages_3,\r\n\r\n      pf_stage_1: items_pf_stages_1,\r\n      pf_stage_2: items_pf_stages_2,\r\n      pf_stage_3: items_pf_stages_3,\r\n\r\n      item_items: items_items,\r\n\r\n      modalNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n      this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editItem;\r\n    \r\n    if( data == 'category_id' ){\r\n      let val = event.target.value;\r\n      let type = 1;\r\n      let stol = vendor.stol;\r\n\r\n      //сеты\r\n      if( parseInt(val) == 4 ){\r\n        type = 2;\r\n        stol = -1;\r\n      }\r\n\r\n      //напитки\r\n      if( parseInt(val) == 6 ){\r\n        type = 4;\r\n        stol = 0;\r\n      }\r\n\r\n      //соуса\r\n      if( parseInt(val) == 7 ){\r\n        type = 3;\r\n        stol = 0;\r\n      }\r\n\r\n      vendor['type'] = type;\r\n      vendor['stol'] = stol;\r\n    }\r\n    \r\n    if( data == 'is_show' || data == 'show_site' || data == 'show_program' || data == 'is_new' || data == 'is_hit' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    \r\n    this.setState({ \r\n      editItem: vendor\r\n    })\r\n  }\r\n\r\n  closeMenu(){\r\n    this.setState({\r\n      anchorEl: null,\r\n      openMenu: false,\r\n      openMenuType: null,\r\n      openMenuitem: null\r\n    })\r\n  }\r\n\r\n  openMenu(type, item, event){\r\n    this.setState({\r\n      anchorEl: event.currentTarget,\r\n      openMenu: true,\r\n      openMenuType: type,\r\n      openMenuitem: item\r\n    })\r\n  }\r\n\r\n  chooseStage(stage){\r\n    if( this.state.openMenuType == 'rec' ){\r\n      let check = false;\r\n\r\n      let rec = stage == 1 ? this.state.rec_stage_1 : stage == 2 ? this.state.rec_stage_2 : stage == 3 ? this.state.rec_stage_3 : [];\r\n\r\n      rec = rec ? rec : [];\t\r\n      \r\n      rec.map((this_item) => {\r\n        if(parseInt(this.state.openMenuitem.id) == parseInt(this_item.item_id) ){\r\n          check = true;\r\n        }\r\n      })\r\n\r\n      if( !check ){\r\n\r\n        rec.push({item_id: this.state.openMenuitem.id, name: this.state.openMenuitem.name, count: 0, sort: 0, ei_name: this.state.openMenuitem.ei_name});\r\n\r\n        if( stage == 1 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_1: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 2 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_2: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 3 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_3: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n      }\r\n    }\r\n\r\n    if( this.state.openMenuType == 'pf' ){\r\n      let check = false;\r\n\r\n      let rec = stage == 1 ? this.state.pf_stage_1 : stage == 2 ? this.state.pf_stage_2 : stage == 3 ? this.state.pf_stage_3 : [];\r\n\r\n      rec = rec ? rec : [];\t\r\n      \r\n      rec.map((this_item) => {\r\n        if(parseInt(this.state.openMenuitem.id) == parseInt(this_item.item_id) ){\r\n          check = true;\r\n        }\r\n      })\r\n\r\n      if( !check ){\r\n\r\n        rec.push({item_id: this.state.openMenuitem.id, name: this.state.openMenuitem.name, count: 0, sort: 0, ei_name: this.state.openMenuitem.ei_name});\r\n\r\n        if( stage == 1 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_1: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 2 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_2: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 3 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_3: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n      }\r\n    }\r\n\r\n    this.closeMenu();\r\n  }\r\n\r\n  forwardItem(item){\r\n    let check = false;\r\n\r\n    let rec = this.state.item_items;\r\n\r\n    rec = rec ? rec : [];\t\r\n    \r\n    rec.map((this_item) => {\r\n      if(parseInt(item.id) == parseInt(this_item.item_id) ){\r\n        check = true;\r\n      }\r\n    })\r\n\r\n    if( !check ){\r\n\r\n      rec.push({item_id: item.id, name: item.name, count: 1, is_add: 0});\r\n\r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  changeData(type, arr, data, key, event){\r\n    if( type == 'rec' ){\r\n      let rec = arr == 'rec_stage_1' ? this.state.rec_stage_1 : arr == 'rec_stage_2' ? this.state.rec_stage_2 : arr == 'rec_stage_3' ? this.state.rec_stage_3 : [];\r\n\r\n      rec[ key ][ data ] = event.target.value;\r\n\r\n      if( arr == 'rec_stage_1' ){\r\n        this.setState({\r\n          rec_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_2' ){\r\n        this.setState({\r\n          rec_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_3' ){\r\n        this.setState({\r\n          rec_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'pf' ){\r\n      let rec = arr == 'pf_stage_1' ? this.state.pf_stage_1 : arr == 'pf_stage_2' ? this.state.pf_stage_2 : arr == 'pf_stage_3' ? this.state.pf_stage_3 : [];\r\n\r\n      rec[ key ][ data ] = event.target.value;\r\n\r\n      if( arr == 'pf_stage_1' ){\r\n        this.setState({\r\n          pf_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_2' ){\r\n        this.setState({\r\n          pf_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_3' ){\r\n        this.setState({\r\n          pf_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'item' ){\r\n      let rec = this.state.item_items;\r\n\r\n      if( data == 'is_add' ){\r\n        rec[ key ][ data ] = event.target.checked === true ? 1 : 0;\r\n      }else{\r\n        rec[ key ][ data ] = event.target.value;\r\n      }\r\n      \r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  delItem(type, arr, key){\r\n    if( type == 'rec' ){\r\n      let rec = arr == 'rec_stage_1' ? this.state.rec_stage_1 : arr == 'rec_stage_2' ? this.state.rec_stage_2 : arr == 'rec_stage_3' ? this.state.rec_stage_3 : [];\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      if( arr == 'rec_stage_1' ){\r\n        this.setState({\r\n          rec_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_2' ){\r\n        this.setState({\r\n          rec_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_3' ){\r\n        this.setState({\r\n          rec_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'pf' ){\r\n      let rec = arr == 'pf_stage_1' ? this.state.pf_stage_1 : arr == 'pf_stage_2' ? this.state.pf_stage_2 : arr == 'pf_stage_3' ? this.state.pf_stage_3 : [];\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      if( arr == 'pf_stage_1' ){\r\n        this.setState({\r\n          pf_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_2' ){\r\n        this.setState({\r\n          pf_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_3' ){\r\n        this.setState({\r\n          pf_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'item' ){\r\n      let rec = this.state.item_items;\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  saveImg(dropzone, name, id, type){\r\n    dropzone.on(\"sending\", (file, xhr, data) => {\r\n      let file_type = (file.name).split('.');\r\n      file_type = file_type[file_type.length - 1];\r\n      file_type = file_type.toLowerCase();\r\n      \r\n      data.append(\"filetype\", 'user_'+id+'.'+file_type);\r\n      data.append(\"filename\", 'user_'+id);\r\n      data.append(\"typeFile\", type);\r\n      data.append(\"name\", name);\r\n    });\r\n\r\n    dropzone.on(\"queuecomplete\", (data) => {\r\n\r\n      var check_img = false;\r\n\r\n      dropzone['files'].map(function(item, key){\r\n        if( item['status'] == \"error\" ){\r\n          check_img = true;\r\n        }\r\n      })\r\n      \r\n      if( check_img ){\r\n        alert('Ошибка при загрузке фотографии '+type)\r\n      }\r\n    })\r\n  }\r\n\r\n  async saveEditItem(){\r\n    if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        type = 'old';\r\n\r\n      this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n      });\r\n  \r\n      this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n  \r\n        var check_img = false;\r\n  \r\n        var myDropzoneNew = this.myDropzoneNew;\r\n\r\n        this.myDropzoneOld['files'].map((item, key) => {\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success' ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    if( this.myDropzoneNew['files'].length > 0 ){\r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        type = 'new';\r\n\r\n      this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n      });\r\n  \r\n      this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n        var check_img = false;\r\n  \r\n        var myDropzoneOld = this.myDropzoneOld;\r\n\r\n        this.myDropzoneNew['files'].map((item, key) => {  \r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success' ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveEditItem', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewItem(){\r\n    let data = {\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveNewItem', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n        let name = this.state.editItem.name,\r\n          id = res.id,\r\n          type = 'old';\r\n  \r\n        this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n        });\r\n    \r\n        this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n    \r\n          var check_img = false;\r\n    \r\n          var myDropzoneNew = this.myDropzoneNew;\r\n  \r\n          this.myDropzoneOld['files'].map((item, key) => {\r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success' ){\r\n                this.setState({ \r\n                  modalNew: false, \r\n                  editItem: null, \r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n  \r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        let name = this.state.editItem.name,\r\n          id = res.id,\r\n          type = 'new';\r\n  \r\n        this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n        });\r\n    \r\n        this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n          var check_img = false;\r\n    \r\n          var myDropzoneOld = this.myDropzoneOld;\r\n  \r\n          this.myDropzoneNew['files'].map((item, key) => {  \r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success' ){\r\n                this.setState({ \r\n                  modalNew: false, \r\n                  editItem: null, \r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTab(event, value){\r\n\r\n    this.setState({\r\n      myDropzoneOld: this.myDropzoneOld['files'],\r\n      myDropzoneNew: this.myDropzoneNew['files'],\r\n    })\r\n\r\n    this.setState({ \r\n      ItemTab: value \r\n    })\r\n\r\n    if( parseInt(value) == 1 ){\r\n      setTimeout( () => {\r\n        this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n        this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n\r\n        if( this.state.myDropzoneOld[0] ){\r\n          var mockFileOld = { \r\n            name: this.state.myDropzoneOld[0].name,\r\n            size: this.state.myDropzoneOld[0].size, \r\n            type: this.state.myDropzoneOld[0].type, \r\n            status: this.state.myDropzoneOld[0].status,\r\n            url: this.state.myDropzoneOld[0].dataURL,\r\n            dataURL: this.state.myDropzoneOld[0].dataURL\r\n          };\r\n\r\n          this.myDropzoneOld.emit(\"addedfile\", mockFileOld);\r\n          this.myDropzoneOld.emit(\"thumbnail\", mockFileOld, this.state.myDropzoneOld[0].dataURL);\r\n          this.myDropzoneOld.files.push(this.state.myDropzoneOld[0]);\r\n        }\r\n\r\n        if( this.state.myDropzoneNew[0] ){\r\n          var mockFileNew = { \r\n            name: this.state.myDropzoneNew[0].name,\r\n            size: this.state.myDropzoneNew[0].size, \r\n            type: this.state.myDropzoneNew[0].type, \r\n            status: this.state.myDropzoneNew[0].status,\r\n            url: this.state.myDropzoneNew[0].dataURL,\r\n            dataURL: this.state.myDropzoneNew[0].dataURL\r\n          };\r\n\r\n          this.myDropzoneNew.emit(\"addedfile\", mockFileNew);\r\n          this.myDropzoneNew.emit(\"thumbnail\", mockFileNew, this.state.myDropzoneNew[0].dataURL);\r\n          this.myDropzoneNew.files.push(this.state.myDropzoneNew[0]);\r\n        }\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n  closeSnack(){\r\n    this.setState({\r\n      is_snack: false,\r\n      textSnack: ''\r\n    })\r\n  }\r\n\r\n  openSnack(text){\r\n    this.setState({\r\n      is_snack: true,\r\n      textSnack: text\r\n    })\r\n  }\r\n\r\n  searchPf(event){\r\n    let all_data = this.state.item_pf.all;\r\n    let name = event.target.value;\r\n\r\n    this.setState({\r\n      searchPf: name\r\n    })\r\n\r\n    let data_to_render = [];\r\n\r\n    all_data.map( (item) => {\r\n      if( item.name.toLowerCase().indexOf(name.toLowerCase()) !== -1 ){\r\n        data_to_render.push(item)\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      item_pf_render: data_to_render\r\n    })\r\n  }\r\n\r\n  searchItems(event){\r\n    let all_data = this.state.item_items_all;\r\n    let name = event.target.value;\r\n\r\n    this.setState({\r\n      searchItems: name\r\n    })\r\n\r\n    let data_to_render = [];\r\n\r\n    all_data.map( (item) => {\r\n      if( item.name.toLowerCase().indexOf(name.toLowerCase()) !== -1 ){\r\n        data_to_render.push(item)\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      item_items_render: data_to_render\r\n    })\r\n  }\r\n\r\n  closeEdit(){\r\n    this.setState({ \r\n      modalEdit: false, \r\n      editItem: null, \r\n      ItemTab: '1' \r\n    })\r\n\r\n    this.getItems();\r\n  }\r\n\r\n  closeNew(){\r\n    this.setState({ \r\n      modalNew: false, \r\n      editItem: null, \r\n      ItemTab: '1' \r\n    })\r\n\r\n    this.getItems();\r\n  }\r\n\r\n  changeSort(key_cat, key_item, event){\r\n    let value = event.target.value;\r\n    let data = this.state.cats;\r\n    \r\n    data[ key_cat ]['items'][ key_item ]['sort'] = value;\r\n\r\n    this.setState({\r\n      cats: data\r\n    })\r\n  }\r\n\r\n  async saveSort(item_id, event){\r\n    let data = {\r\n      id: item_id,\r\n      sort: event.target.value\r\n    };\r\n\r\n    let res = await this.getData('saveSort', data);\r\n  }\r\n\r\n  render(){\r\n    const action = (\r\n      <React.Fragment>\r\n        <IconButton\r\n          size=\"small\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={this.closeSnack.bind(this)}\r\n        >\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </React.Fragment>\r\n    );\r\n  \r\n\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 999 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n          open={this.state.is_snack}\r\n          autoHideDuration={6000}\r\n          onClose={this.closeSnack.bind(this)}\r\n          message={this.state.textSnack}\r\n          action={action}\r\n        />\r\n        \r\n        <Dialog\r\n          open={this.state.modalEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ this.closeEdit.bind(this) }\r\n        >\r\n          <DialogTitle>Редактирвоание товара</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              {this.state.editItem && this.state.modalEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TabContext value={this.state.ItemTab}>\r\n                          <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                            <TabList onChange={ this.changeTab.bind(this) } variant=\"fullWidth\">\r\n                              <Tab label=\"Основные\" value=\"1\" />\r\n                              <Tab label=\"Рецепты\" value=\"2\" />\r\n                              <Tab label=\"Заготовки\" value=\"3\" />\r\n                              <Tab label=\"Позиции\" value=\"4\" />\r\n                            </TabList>\r\n                          </Box>\r\n                          <TabPanel value=\"1\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                  </Grid>\r\n                                  \r\n                                  { parseInt(this.state.editItem.category_id) == 6 ?\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Объем\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                    </Grid>\r\n                                      :\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                    </Grid>\r\n                                  }\r\n\r\n                                  { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                    </Grid>\r\n                                      :\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                    </Grid>\r\n                                  }\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              \r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    { this.state.editItem.img_new.length > 0 ?\r\n                                      <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                        :\r\n                                      <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                    }\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (1:1) (пример: 600х600) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    { this.state.editItem.img_app.length > 0 ?\r\n                                      <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_app+'600х600.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                        :\r\n                                      <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                    }\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Маркейтинговое описание\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"2\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                      { this.state.item_rec.all.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <DehazeIcon onClick={this.openMenu.bind(this, 'rec', item)} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <TableStages title={'1 этап'} type={'rec'} arr={'rec_stage_1'} data={this.state.rec_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'2 этап'} type={'rec'} arr={'rec_stage_2'} data={this.state.rec_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'3 этап'} type={'rec'} arr={'rec_stage_3'} data={this.state.rec_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                </Grid>\r\n                              }\r\n                              \r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"3\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_pf ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={2}>\r\n                                          <MyTextInput label=\"Поиск\" value={ this.state.searchPf } func={ this.searchPf.bind(this) } />\r\n                                        </TableCell>\r\n                                      </TableRow>\r\n\r\n                                      { this.state.item_pf_render.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <DehazeIcon onClick={this.openMenu.bind(this, 'pf', item)} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <TableStages title={'1 этап'} type={'pf'} arr={'pf_stage_1'} data={this.state.pf_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'2 этап'} type={'pf'} arr={'pf_stage_2'} data={this.state.pf_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'3 этап'} type={'pf'} arr={'pf_stage_3'} data={this.state.pf_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                </Grid>\r\n                              }\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"4\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_pf ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={2}>\r\n                                          <MyTextInput label=\"Поиск\" value={ this.state.searchItems } func={ this.searchItems.bind(this) } />\r\n                                        </TableCell>\r\n                                      </TableRow>\r\n\r\n                                      { this.state.item_items_render.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <AddIcon onClick={this.forwardItem.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n                                      </TableRow>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell>Количество</TableCell>\r\n                                        <TableCell>Авт. добавление</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                      { this.state.item_items.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <MyTextInput label=\"\" value={item.count} func={ this.changeData.bind(this, 'item', 'item_items', 'count', key) } />\r\n                                          </TableCell>\r\n                                          <TableCell>\r\n                                            <MyCheckBox label=\"\" value={ parseInt(item.is_add) == 1 ? true : false } func={ this.changeData.bind(this, 'item', 'item_items', 'is_add', key) } />\r\n                                          </TableCell>\r\n                                          <TableCell>\r\n                                            <CloseIcon onClick={ this.delItem.bind(this, 'item', '', key) } style={{ cursor: 'pointer' }} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                        </TabContext>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                    <Menu\r\n                      anchorEl={this.state.anchorEl}\r\n                      open={this.state.openMenu}\r\n                      onClose={this.closeMenu.bind(this)}\r\n                    >\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 1)}>1 этап</MenuItem>\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 2)}>2 этап</MenuItem>\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 3)}>3 этап</MenuItem>\r\n                    </Menu>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveEditItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ this.closeNew.bind(this) }\r\n        >\r\n          <DialogTitle>Новый товар</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editItem && this.state.modalNew ?\r\n                  \r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <TabContext value={this.state.ItemTab}>\r\n                            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                              <TabList onChange={ this.changeTab.bind(this) } variant=\"fullWidth\">\r\n                                <Tab label=\"Основные\" value=\"1\" />\r\n                                <Tab label=\"Рецепты\" value=\"2\" />\r\n                                <Tab label=\"Заготовки\" value=\"3\" />\r\n                                <Tab label=\"Позиции\" value=\"4\" />\r\n                              </TabList>\r\n                            </Box>\r\n                            <TabPanel value=\"1\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MySelect data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MySelect data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                    </Grid>\r\n                                    { parseInt(this.state.editItem.category_id) == 6 ?\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Объем\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                      </Grid>\r\n                                        :\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                      </Grid>\r\n                                    }\r\n                                    { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                      </Grid>\r\n                                        :\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                      </Grid>\r\n                                    }\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                \r\n\r\n                                { parseInt( this.state.editItem.type ) != 2 ?\r\n                                  <Grid item xs={12}>\r\n                                    <Grid container spacing={3}>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                { parseInt( this.state.editItem.type ) != 2 ?\r\n                                  <Grid item xs={12}>\r\n                                    <Grid container spacing={3}>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                    </Grid>\r\n                                  \r\n\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      { this.state.editItem.img_new.length > 0 ?\r\n                                        <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                          :\r\n                                        <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                      }\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <Typography>Картинка соотношением сторон (1:1) (пример: 600х600) только JPG</Typography>\r\n                                    </Grid>\r\n                                  \r\n\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      { this.state.editItem.img_app.length > 0 ?\r\n                                        <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_app+'600х600.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                          :\r\n                                        <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                      }\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Маркейтинговое описание\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"2\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n                                        { this.state.item_rec.all.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <DehazeIcon onClick={this.openMenu.bind(this, 'rec', item)} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <TableStages title={'1 этап'} type={'rec'} arr={'rec_stage_1'} data={this.state.rec_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'2 этап'} type={'rec'} arr={'rec_stage_2'} data={this.state.rec_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'3 этап'} type={'rec'} arr={'rec_stage_3'} data={this.state.rec_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  </Grid>\r\n                                }\r\n                                \r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"3\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_pf ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={2}>\r\n                                            <MyTextInput label=\"Поиск\" value={ this.state.searchPf } func={ this.searchPf.bind(this) } />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n\r\n                                        { this.state.item_pf_render.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <DehazeIcon onClick={this.openMenu.bind(this, 'pf', item)} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <TableStages title={'1 этап'} type={'pf'} arr={'pf_stage_1'} data={this.state.pf_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'2 этап'} type={'pf'} arr={'pf_stage_2'} data={this.state.pf_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'3 этап'} type={'pf'} arr={'pf_stage_3'} data={this.state.pf_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  </Grid>\r\n                                }\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"4\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_pf ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={2}>\r\n                                            <MyTextInput label=\"Поиск\" value={ this.state.searchItems } func={ this.searchItems.bind(this) } />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n\r\n                                        { this.state.item_items_render.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <AddIcon onClick={this.forwardItem.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell>Количество</TableCell>\r\n                                          <TableCell>Авт. добавление</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n                                        { this.state.item_items.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <MyTextInput label=\"\" value={item.count} func={ this.changeData.bind(this, 'item', 'item_items', 'count', key) } />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                              <MyCheckBox label=\"\" value={ parseInt(item.is_add) == 1 ? true : false } func={ this.changeData.bind(this, 'item', 'item_items', 'is_add', key) } />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                              <CloseIcon onClick={ this.delItem.bind(this, 'item', '', key) } style={{ cursor: 'pointer' }} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                          </TabContext>\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n\r\n                      <Menu\r\n                        anchorEl={this.state.anchorEl}\r\n                        open={this.state.openMenu}\r\n                        onClose={this.closeMenu.bind(this)}\r\n                      >\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 1)}>1 этап</MenuItem>\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 2)}>2 этап</MenuItem>\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 3)}>3 этап</MenuItem>\r\n                      </Menu>\r\n\r\n                    </Grid>\r\n                  \r\n                  \r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.openNew.bind(this)} color=\"primary\" variant='contained'>Новый товар</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.length == 0 ? null :\r\n\r\n              this.state.cats.map( (cat, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>{cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                    \r\n                    <Table>\r\n                    \r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell style={{ width: '2%' }}>id</TableCell>\r\n\r\n                          <TableCell style={{ width: '38%' }}>Название</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сортировка</TableCell>\r\n\r\n                          <TableCell style={{ width: '15%' }}>Активность</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сайт</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Склад</TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n\r\n                      <TableBody>\r\n                        \r\n                        { cat.items.map( (it, k) =>\r\n                          <TableRow key={k}>\r\n                            <TableCell>{it.id}</TableCell>\r\n                            <TableCell onClick={this.openItem.bind(this, it)}>{it.name}</TableCell>\r\n                            <TableCell>\r\n                              <MyTextInput label=\"\" value={it.sort} func={ this.changeSort.bind(this, key, k) } onBlur={this.saveSort.bind(this, it.id)} />\r\n                            </TableCell>\r\n\r\n                            <TableCell> \r\n                              { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.show_site) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.show_program) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n\r\n                            \r\n                          </TableRow>           \r\n                        ) }\r\n                      \r\n                      </TableBody>\r\n                    \r\n                    </Table>\r\n\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              )\r\n              \r\n            }\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteItems() {\r\n  return (\r\n    <SiteItems_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { MySelect, MyDatePickerNew, MyTimePicker, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass HotMap_ extends React.Component {\r\n  map = null;\r\n  heatmap = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'hot_map',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cities: [],\r\n      city_id: '',\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      time_start: '00:00',\r\n      time_end: '23:59',\r\n\r\n      statAllCount: '',\r\n      statTrueCount: '',\r\n\r\n      is_new: 0\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      cities: data.cities,\r\n      city_id: data.cities[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      city_id: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n      time_start: this.state.time_start,\r\n      time_end: this.state.time_end,\r\n      is_new: this.state.is_new,\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    console.log( res )\r\n\r\n    this.getOrders(res.points, res.all_points)\r\n  }\r\n  \r\n  getOrders(home, all_points){\r\n    //let objectManager = new ymaps.ObjectManager();\r\n    \r\n    var new_data = [];\r\n\t\t\t\t\r\n    all_points.map(function(item){\r\n      new_data.push([\r\n        parseFloat(item[0]),\r\n        parseFloat(item[1])\r\n      ])\r\n    })\r\n\r\n    \r\n    if( !this.map ){\r\n      ymaps.ready(() => {\r\n        this.map = new ymaps.Map('map', {\r\n          center: [home[0].home.latitude, home[0].home.longitude],\r\n          zoom: 11\r\n        }, {\r\n          searchControlProvider: 'yandex#search'\r\n        })\r\n        \r\n        var gradients = [\r\n          {\r\n            0.1: 'rgba(128, 255, 0, 0.7)',\r\n            0.2: 'rgba(255, 255, 0, 0.8)',\r\n            0.7: 'rgba(234, 72, 58, 0.9)',\r\n            1.0: 'rgba(162, 36, 25, 1)'\r\n          }, {\r\n            0.1: 'rgba(162, 36, 25, 0.7)',\r\n            0.2: 'rgba(234, 72, 58, 0.8)',\r\n            0.7: 'rgba(255, 255, 0, 0.9)',\r\n            1.0: 'rgba(128, 255, 0, 1)'\r\n          }\r\n        ],\r\n        radiuses = [5, 10, 20, 30],\r\n        opacities = [0.4, 0.6, 0.8, 1];\r\n\r\n       \r\n        ymaps.modules.require(['Heatmap'], (Heatmap) => {\r\n          this.heatmap = new Heatmap(new_data, {\r\n              gradient: gradients[0],\r\n              radius: radiuses[1],\r\n              opacity: opacities[2]\r\n          });\r\n          this.heatmap.setMap(this.map);\r\n        });\r\n\r\n        //return ;\r\n        \r\n\r\n        home.map( (item, key) => {\r\n          //дом\r\n          let myGeoObject = new ymaps.GeoObject({\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [item.home.latitude, item.home.longitude]\r\n            },\r\n          }, {\r\n            preset: 'islands#blackDotIcon', \r\n            iconColor: 'black'\r\n          })\r\n\r\n          this.map.geoObjects.add(myGeoObject);\r\n\r\n          let points_zone = [];\r\n\r\n          item.zone.map( (zon, k) => {\r\n            points_zone.push( JSON.parse(zon['zone']) );\r\n          } )\r\n          \r\n          let myGeoObject2 = [];\r\n\r\n          for(var poly = 0; poly < points_zone.length; poly++){\r\n\t\t\t\t\t\tmyGeoObject2[poly] = new ymaps.Polygon([points_zone[poly]], {\r\n\t\t\t\t\t\t\thintContent: \"\"\r\n\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\tfillColor: 'rgba(187, 0, 37, 0)',\r\n\t\t\t\t\t\t\tstrokeColor: 'rgb(187, 0, 37)',\r\n\t\t\t\t\t\t\tstrokeWidth: 5\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.map.geoObjects.add(myGeoObject2[poly]);\r\n\t\t\t\t\t}\r\n\r\n        } )\r\n\r\n        // Создаем многоугольник, используя класс GeoObject.\r\n        var myGeoObject1 = new ymaps.GeoObject({\r\n          geometry: {\r\n            type: \"Polygon\",\r\n            coordinates: [  ],\r\n            fillRule: \"nonZero\"\r\n          }\t\t\t\t\r\n        }, {\r\n          // Описываем опции геообъекта.\r\n          // Цвет заливки.\r\n          fillColor: '#00FF00',\r\n          // Цвет обводки.\r\n          strokeColor: '#0000FF',\r\n          // Общая прозрачность (как для заливки, так и для обводки).\r\n          opacity: 0.5,\r\n          // Ширина обводки.\r\n          strokeWidth: 5,\r\n          // Стиль обводки.\r\n          strokeStyle: 'shortdash'\r\n        });\r\n\r\n        this.map.geoObjects.add(myGeoObject1);\r\n\r\n        myGeoObject1.editor.startDrawing();\r\n      });\r\n    }else{\r\n      \r\n      \r\n\r\n      this.map.geoObjects.removeAll()\r\n      this.heatmap.destroy();\r\n      \r\n\r\n      this.map.setCenter([home[0].home.latitude, home[0].home.longitude]);\r\n\r\n      var gradients = [\r\n        {\r\n          0.1: 'rgba(128, 255, 0, 0.7)',\r\n          0.2: 'rgba(255, 255, 0, 0.8)',\r\n          0.7: 'rgba(234, 72, 58, 0.9)',\r\n          1.0: 'rgba(162, 36, 25, 1)'\r\n        }, {\r\n          0.1: 'rgba(162, 36, 25, 0.7)',\r\n          0.2: 'rgba(234, 72, 58, 0.8)',\r\n          0.7: 'rgba(255, 255, 0, 0.9)',\r\n          1.0: 'rgba(128, 255, 0, 1)'\r\n        }\r\n      ],\r\n      radiuses = [5, 10, 20, 30],\r\n      opacities = [0.4, 0.6, 0.8, 1];\r\n\r\n     \r\n      ymaps.modules.require(['Heatmap'], (Heatmap) => {\r\n        var heatmap = new Heatmap(new_data, {\r\n          gradient: gradients[0],\r\n          radius: radiuses[1],\r\n          opacity: opacities[2]\r\n        });\r\n        heatmap.setMap(this.map);\r\n      });\r\n      \r\n\r\n      home.map( (item, key) => {\r\n        //дом\r\n        let myGeoObject = new ymaps.GeoObject({\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [item.home.latitude, item.home.longitude]\r\n          },\r\n        }, {\r\n          preset: 'islands#blackDotIcon', \r\n          iconColor: 'black'\r\n        })\r\n\r\n        this.map.geoObjects.add(myGeoObject);\r\n\r\n        let points_zone = [];\r\n\r\n        item.zone.map( (zon, k) => {\r\n          points_zone.push( JSON.parse(zon['zone']) );\r\n        } )\r\n        \r\n        let myGeoObject2 = [];\r\n\r\n        for(var poly = 0; poly < points_zone.length; poly++){\r\n          myGeoObject2[poly] = new ymaps.Polygon([points_zone[poly]], {\r\n            hintContent: \"\"\r\n          }, {\r\n            fillColor: 'rgba(187, 0, 37, 0)',\r\n            strokeColor: 'rgb(187, 0, 37)',\r\n            strokeWidth: 5\r\n          });\r\n          this.map.geoObjects.add(myGeoObject2[poly]);\r\n        }\r\n\r\n      } )\r\n\r\n      // Создаем многоугольник, используя класс GeoObject.\r\n      var myGeoObject1 = new ymaps.GeoObject({\r\n        geometry: {\r\n          type: \"Polygon\",\r\n          coordinates: [  ],\r\n          fillRule: \"nonZero\"\r\n        }\t\t\t\t\r\n      }, {\r\n        // Описываем опции геообъекта.\r\n        // Цвет заливки.\r\n        fillColor: '#00FF00',\r\n        // Цвет обводки.\r\n        strokeColor: '#0000FF',\r\n        // Общая прозрачность (как для заливки, так и для обводки).\r\n        opacity: 0.5,\r\n        // Ширина обводки.\r\n        strokeWidth: 5,\r\n        // Стиль обводки.\r\n        strokeStyle: 'shortdash'\r\n      });\r\n\r\n      this.map.geoObjects.add(myGeoObject1);\r\n\r\n      myGeoObject1.editor.startDrawing();\r\n\r\n      //this.map.geoObjects.add(objectManager);\r\n    }\r\n  }\r\n\r\n  async getCount(){\r\n    var new_this_zone = [];\r\n\t\t\r\n    this.map.geoObjects.each(function (geoObject) {\r\n\t\t\tnew_this_zone = new_this_zone.concat( geoObject.geometry.getCoordinates() );\r\n\t\t});\r\n\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n      time_start: this.state.time_start,\r\n      time_end: this.state.time_end,\r\n      is_new: this.state.is_new,\r\n      \r\n      zone: new_this_zone[ new_this_zone.length - 1 ]\r\n    };\r\n\r\n    let res = await this.getData('getCount', data);\r\n\r\n    this.setState({\r\n      statAllCount: res.all_count,\r\n      statTrueCount: res.true + ' ( ' + res.true_percent + '% ) ',\r\n    })\r\n\r\n    console.log( res )\r\n  }\r\n\r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n\r\n  changeData(type, event){\r\n\r\n    let data = '';\r\n\r\n    if( type == 'is_new' ){\r\n      data = event.target.checked == true ? 1 : 0;\r\n    }else{\r\n      data = event.target.value;\r\n    }\r\n\r\n    this.setState({\r\n      [ type ]: data\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.cities} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyCheckBox value={ this.state.is_new == 1 ? true : false } func={ this.changeData.bind(this, 'is_new') } label='Только новые клиенты' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n          </Grid>\r\n\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.getCount.bind(this)}>Подсчитать количество</Button>\r\n          </Grid>\r\n          \r\n\r\n          <Grid item xs={12}>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={6}>\r\n                <Typography>Заказов в зоне: {this.state.statTrueCount}</Typography>\r\n              </Grid>\r\n              <Grid item xs={6}>\r\n                <Typography>Всего заказов в городе: {this.state.statAllCount}</Typography>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n\r\n\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <div id=\"map\" name=\"map\" style={{ width: '100%', height: 700, paddingTop: 10 }} />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function HotMap() {\r\n  return (\r\n    <HotMap_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSaleMin_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: '',\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        /*{id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},*/\r\n        {id: 4, name: 'Отправить в смс'},\r\n        /*{id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},*/\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        //{id: 1, name: 'На товары'},\r\n        //{id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        //{id: 1, name: 'В определенные даты'},\r\n        //{id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        //{id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        //{id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 4,\r\n      promo_name: '',\r\n      generate_new: true,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 0,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 4,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:40',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 2,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: [],\r\n\r\n      order_id: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new_min');\r\n    \r\n    let thisDay = new Date();\r\n    let nextDay = new Date();\r\n    nextDay.setDate(nextDay.getDate() + 30);\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n      date_start: formatDate(thisDay),\r\n      date_end: formatDate(nextDay),\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList,\r\n        order_id: this.state.order_id\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo_min', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 && this.state.city != '' ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новый промокод контакт-центр</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput disabled={true} value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n            </Grid>\r\n            \r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox disabled={true} value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput disabled={true} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput disabled={true} value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.order_id} func={ this.changeData.bind(this, 'order_id') } label='Номер заказа' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            }\r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Divider style={{ width: '100%', marginTop: 20 }} />\r\n\r\n            \r\n\r\n            <Divider style={{ width: '100%', marginTop: 20 }} />\r\n\r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSaleMin_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Редактирование промокода</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={6}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={6}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSaleMin_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: '',\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Промокоды контакт-центр</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_min/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_min/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_min/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSaleMin_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users_min', data);\r\n    \r\n    console.log( res )\r\n\r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(type, data){\r\n    this.setState({\r\n      [type]: formatDate(data)\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Выписанные промокоды контакт-центр</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSaleMin_New () {\r\n  return (\r\n    <SiteSaleMin_new_ />\r\n  );\r\n}\r\n\r\nexport function SiteSaleMin_Edit () {\r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSaleMin_edit_ promoId={promoId} />\r\n  );\r\n}\r\n\r\nexport function SiteSaleMin () {\r\n  return (\r\n    <SiteSaleMin_ />\r\n  );\r\n}\r\n\r\nexport function SiteSaleMin_StatList () {\r\n  return (\r\n    <SiteSaleMin_StatList_ />\r\n  );\r\n}","import React from 'react';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport Container from '@mui/material/Container';\r\nimport Grid from '@mui/material/Grid';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nconst queryString = require('query-string');\r\n\r\nimport { Home } from '../home';\r\nimport { Auth } from '../auth';\r\nimport { Reg } from '../registration';\r\n\r\nimport { LiveOrders } from '../live_orders';\r\nimport { Events } from '../events';\r\nimport { RasByBill } from '../ras_by_bill';\r\nimport { CategoryItems } from '../category_items';\r\nimport { VendorModule } from '../vendor_module';\r\n\r\nimport { VendorItemPrice } from '../vendor_item_price';\r\nimport { Tender } from '../tender';\r\nimport { Revizion, RevizionNew } from '../revizion';\r\nimport { WorkSchedule } from '../work_schedule';\r\nimport { SiteSale2, SiteSale2_New, SiteSale2_Edit, SiteSale2_Stat, SiteSale2_StatList } from '../site_sale_2';\r\n\r\nimport { DriveMapStatAll } from '../drive_map_stat_all';\r\nimport { DriverStat } from '../driver_stat';\r\nimport { Concenter } from '../concenter';\r\nimport { SocialNetwork } from '../socialnetwork';\r\nimport { CatWork } from '../cat_work';\r\n\r\nimport { AppWorkPoint } from '../app_work_point';\r\nimport { AppWork } from '../app_work';\r\nimport { AppWorkShow } from '../app_work_show';\r\nimport { SiteStatMarc } from '../site_stat_marc';\r\nimport { AdvertisingCompany } from '../advertising_company';\r\n\r\nimport { RasBillAndCook } from '../ras_bill_and_cook';\r\nimport { SkladItemsModule } from '../sklad_items_module';\r\nimport { SiteUserManager } from '../site_user_manager';\r\nimport { PromoItemsStat } from '../promo_items_stat';\r\nimport { SiteItems } from '../site_items';\r\n\r\nimport { HotMap } from '../hot_map';\r\nimport { SiteSaleMin, SiteSaleMin_New, SiteSaleMin_Edit, SiteSaleMin_StatList } from '../site_sale_min';\r\n\r\n\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#c03',\r\n      },\r\n      def: {\r\n        main: '#353b48',\r\n        secondary: '#fff'\r\n      },\r\n    },\r\n});\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'header',\r\n      \r\n      open: false,\r\n      menu: [],\r\n      full_menu: [],\r\n      \r\n      left: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      menu: data.info.left_menu,\r\n      full_menu: data.info.full_menu,\r\n    })\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      console.log( json )\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  handleDrawerOpen(){\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  \r\n  handleDrawerClose(){\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  \r\n  logOut(){\r\n    localStorage.removeItem('token')\r\n      \r\n    setTimeout( () => {\r\n      window.location.pathname = '/'\r\n    }, 300)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleDrawerOpen.bind(this)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\r\n              Dashboard\r\n            </Typography>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        \r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', padding: 10 }}>\r\n            \r\n              <Autocomplete\r\n                size=\"small\"\r\n                options={this.state.full_menu}\r\n                getOptionLabel={(option) => option.name}\r\n                onChange={(event, newValue) => {\r\n                  if( newValue ){\r\n                    window.location.pathname = \"/\"+newValue.key_query+\"/\";\r\n                  }\r\n                }}\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <TextField {...params} label=\"Поиск\" variant=\"outlined\" />}\r\n              />\r\n              \r\n              <IconButton onClick={this.handleDrawerClose.bind(this)}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            \r\n            { this.state.menu.map( (item, key) =>\r\n              <Accordion key={key} >\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>{ item.parent.name }</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  \r\n                  <List style={{ width: '100%' }}>\r\n                  \r\n                    { item.chaild.map( (it, k) =>\r\n                      <ListItem button key={k}>\r\n                        <Link to={\"/\"+it.key_query+\"/\"}>\r\n                          <ListItemText primary={ it.name } />\r\n                        </Link>\r\n                      </ListItem>\r\n                    ) }\r\n                  \r\n                  </List>\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n\r\n            \r\n\r\n            <Accordion>\r\n              <AccordionSummary onClick={this.logOut.bind(this)}>\r\n                <Typography>Выйти из аккаунта</Typography>\r\n              </AccordionSummary>\r\n            </Accordion>\r\n\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Status({ code, children }) {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function NotFound() {\r\n  return (\r\n    <Status code={404}>\r\n        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n    </Status>\r\n  );\r\n}\r\n\r\nexport function App () {\r\n    let history = useLocation();\r\n    let check_header = true;\r\n    \r\n    if( \r\n      history.pathname == '/auth/' || \r\n      history.pathname == '/auth' || \r\n      history.pathname == '/registration/' ||\r\n      history.pathname == '/registration'\r\n    ){\r\n      check_header = false;\r\n    }\r\n    \r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div>\r\n          { !check_header ? null :\r\n            <>\r\n              <CssBaseline />\r\n              <Header />\r\n            </>\r\n          }\r\n          <main style={{flexGrow: 1, overflow: 'auto'}}>\r\n            <Container maxWidth={false} style={{ marginTop: 80 }}>\r\n          \r\n              <Routes>\r\n                \r\n                <Route path={'/'} exact={ true } element={ <Home /> } />\r\n                <Route path={'/auth'} exact={ true } element={ <Auth /> } />\r\n                <Route path={'/registration'} exact={ true } element={ <Reg /> } />\r\n\r\n                <Route path={'/live_orders'} exact={ true } element={ <LiveOrders /> } />\r\n                <Route path={'/events'} exact={ true } element={ <Events /> } />\r\n                <Route path={'/ras_by_bill'} exact={ true } element={ <RasByBill /> } />\r\n                <Route path={'/category_items'} exact={ true } element={ <CategoryItems /> } />\r\n                <Route path={'/vendor_module'} exact={ true } element={ <VendorModule /> } />\r\n\r\n                <Route path={'/vendor_item_price'} exact={ true } element={ <VendorItemPrice /> } />\r\n                <Route path={'/tender'} exact={ true } element={ <Tender /> } />\r\n                <Route path={'/revizion'} exact={ true } element={ <Revizion /> } />\r\n                <Route path={'/revizion/new'} exact={ true } element={ <RevizionNew /> } />\r\n                <Route path={'/work_schedule'} exact={ true } element={ <WorkSchedule /> } />\r\n                <Route path={'/site_sale_2'} exact={ true } element={ <SiteSale2 /> } />\r\n                <Route path={'/site_sale_2/new'} exact={ true } element={ <SiteSale2_New /> } />\r\n                <Route path={'/site_sale_2/edit/:promoId'} exact={ true } element={ <SiteSale2_Edit /> } />\r\n                <Route path={'/site_sale_2/stat'} exact={ true } element={ <SiteSale2_Stat /> } />\r\n                <Route path={'/site_sale_2/stat_list'} exact={ true } element={ <SiteSale2_StatList /> } />\r\n\r\n                <Route path={'/drive_map_stat_all'} exact={ true } element={ <DriveMapStatAll /> } />\r\n                <Route path={'/driver_stat'} exact={ true } element={ <DriverStat /> } />\r\n                <Route path={'/concenter'} exact={ true } element={ <Concenter /> } />\r\n                <Route path={'/socialnetwork'} exact={ true } element={ <SocialNetwork /> } />\r\n                <Route path={'/cat_work'} exact={ true } element={ <CatWork /> } />\r\n\r\n                <Route path={'/app_work_point'} exact={ true } element={ <AppWorkPoint /> } />\r\n                <Route path={'/app_work'} exact={ true } element={ <AppWork /> } />\r\n                <Route path={'/app_work_show'} exact={ true } element={ <AppWorkShow /> } />\r\n                <Route path={'/site_stat_marc'} exact={ true } element={ <SiteStatMarc /> } />\r\n                <Route path={'/advertising_company'} exact={ true } element={ <AdvertisingCompany /> } />\r\n\r\n                <Route path={'/ras_bill_and_cook'} exact={ true } element={ <RasBillAndCook /> } />\r\n                <Route path={'/sklad_items_module'} exact={ true } element={ <SkladItemsModule /> } />\r\n                <Route path={'/site_user_manager'} exact={ true } element={ <SiteUserManager /> } />\r\n                <Route path={'/promo_items_stat'} exact={ true } element={ <PromoItemsStat /> } />\r\n                <Route path={'/site_items'} exact={ true } element={ <SiteItems /> } />\r\n\r\n                <Route path={'/hot_map'} exact={ true } element={ <HotMap /> } />\r\n                <Route path={'/site_sale_min'} exact={ true } element={ <SiteSaleMin /> } />\r\n                <Route path={'/site_sale_min/new'} exact={ true } element={ <SiteSaleMin_New /> } />\r\n                <Route path={'/site_sale_min/edit/:promoId'} exact={ true } element={ <SiteSaleMin_Edit /> } />\r\n                <Route path={'/site_sale_min/stat_list'} exact={ true } element={ <SiteSaleMin_StatList /> } />\r\n                \r\n                <Route\r\n                  component={ () =>\r\n                    <Status code={404}>\r\n                      <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n                        <Grid item xs={12}>\r\n                          <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Status>\r\n                  }\r\n                />\r\n\r\n              </Routes>\r\n\r\n            </Container>\r\n          </main>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n}","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\nimport { App } from './components/app';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst container = document.getElementById('app');\r\nconst root = createRoot(container);\r\n\r\nroot.render(<BrowserRouter><App/></BrowserRouter>);","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809321\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808429\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808988\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809050\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809052\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808684\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809018\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808713\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809021\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808991\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808984\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808720\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808700\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809024\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808706\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809489\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809046\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808717\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808710\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809014\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809055\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808957\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809038\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809035\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809043\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809058\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809032\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809565\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808703\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938808696\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1656938809041\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","Home_","props","method","data","setState","is_load","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","setTimeout","err","console","log","module_name","points","point","showReady","read","onstol","ordersQueue","Backdrop","style","zIndex","open","this","CircularProgress","color","container","spacing","item","xs","sm","height","React","Home","Auth_","st","type","window","location","pathname","modalDialog","dialogTitle","dialogText","point_id","getData","prestol_new","document","getElementById","value","pwd","text","setItem","token","Dialog","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","autoFocus","direction","justifyContent","alignItems","md","lg","xl","display","flexDirection","Avatar","borderRadius","width","margin","backgroundColor","alt","src","noValidate","TextField","variant","size","required","fullWidth","label","name","autoComplete","marginTop","marginBottom","auth","bind","href","Auth","Reg_","activeStep","steps","phone","code","event","charCode","nextStep","Stepper","alternativeLabel","map","Step","key","StepLabel","onKeyPress","enterNextStep","Reg","MyDaterange","LocalizationProvider","dateAdapter","AdapterDateFns","locale","ruLocale","DateRangePicker","D","allowSameDateSelection","showTodayButton","startText","endText","inputFormat","mask","onChange","func","renderInput","startProps","endProps","MyAutocomplite","Stack","Autocomplete","disableCloseOnSelect","options","getOptionLabel","option","filterSelectedOptions","multiple","isOptionEqualToValue","parseInt","params","placeholder","MySelect","FormControl","InputLabel","Select","disabled","MenuItem","MyTextInput","onBlur","multiline","maxRows","MyTimePicker","thisVal","target","InputLabelProps","shrink","step","inputProps","MyDatePickerNew","DatePicker","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","MyCheckBox","FormGroup","row","FormControlLabel","control","Checkbox","checked","TextEditor","apiKey","menubar","plugins","toolbar","content_style","LiveOrders_","point_list","module_info","title","updateData","changePoint","changeCheckOrders","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","type_order","preorder","date_time_order","date_time_preorder_","unix_start_stol_or","give_data_time_","close_date_time_order","type_","time_","test_time","unix_time_to_client","status","stol_sborki","is_preorder","date_time_preorder","time_start_order","time_end_order","LiveOrders","Events_","mounth","mounths","years","calendar","chooseDayHoly","events","chooseEvent","eventPoint1","everyYear1","timeStart2","timeEnd2","expanded","dayEvents","events_hist","this_m","this_y","m","y","full_day","chooseDay","holy","hist","this_events","every_year","time_start","time_end","alert","confirm","del_id","paddingBottom","paddingTop","changeEvent","changePoint1","changeTimeStart2","changeTimeEnd2","changeEveryYear1","List","ListItem","ListItemText","primary","Close","delEvent","cursor","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","save","changeMounth","changeYear","padding","textAlign","overflow","m_key","k","dir","className","Events","formatDate","RasByBill_","date_start","date_end","rangeDate","items","cats","items_cat","item_cat","myItems","start_date","end_date","summ","items_ras","parseFloat","sum","resItems","pf_ras","rec_ras","full_sum","toFixed","catItems","this_price","count_pos","changeDateRange","changeItems","getItems","getCats","count_item","ei_name","count_pf","ei_name_pf","count_bill","pf_name","count_rolls","price_rolls","count_pizza","price_by_items","parent_cat","it","paddingLeft","parent_items","parent_key","marginRight","RasByBill","CategoryItems_","modalDialog2","modalDialog3","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","editCat","allCats","allItems","thisValItems","thisDataItems","thisCatId","cat_id","myVal","filter","cat","parent_id","changeCatMain","changeNameMain","saveCat","val","saveItems","changeCatMainEdit","changeNameMainEdit","saveEditCat","createCat","main_cat","main_key","Menu","addItems","CategoryItems","VendorModule_","modalItems","modalVendor","modalVendorNew","vendors","vendor_items","openVendor","customAdd","vendorCities","allCities","nds","nds_","cities","city","item_id","vendor","vendor_id","all_items","vendor_cities","all_cities","addr","bill_ex","email","email_2","inn","min_price","need_img_bill_ex","ogrn","includes","this_items","find","push","item_name","item1","addItem","maxWidth","paddingRight","Add","addItemCustom","sort","changeSort","changeNDS","delItem","saveVendorItems","testChange","user","saveVendor","addVendor","changeCity","openModalVendorNew","Visibility","openModalVendor","DirectionsCar","openModalItems","is_show","VisibilityOff","VendorModule","VendorItemPrice_","allCity","isPrioriti","city_id","all_city","is_prioriti","changeVendor","name_for_vendor","comment","update","full_price","pqs","rec_pq","price","VendorItemPrice","dynamicCellStyle","colDef","headerName","borderRight","Tender_","testTable","myVendors","showVendors","params_api","params_columnApi","table","k1","section","k2","k3","tableItem","k4","item_price","vendor_price","item_ras","ras","field","api","columnApi","show","AgGridReact","onGridReady","onCellClicked","rowData","AgGridColumn","pinned","cellClassRules","hide","resizable","cellStyle","Tender","TabPanel","children","index","other","role","hidden","sx","p","a11yProps","propTypes","PropTypes","Revizion_","revList","chooseRev","search","pf","rec","items_b","pf_b","rec_b","all_data","chooseTab","get_data_for_new_rev","getRevList","getDataRev","toLowerCase","rev_id","to","changeRev","Tabs","textColor","indicatorColor","centered","Tab","RevizionNewItem","change","nextProps","nextState","counts","need_pq","itemKey","clear","copy","RevizionNew_","storages","key_item","key_data","allVal","titleDialog","new_counts","checkData","saveData","copyData","clearData","SwipeableDrawer","anchor","onOpen","button","position","bottom","left","right","elevation","BottomNavigation","showLabels","BottomNavigationAction","newValue","icon","Restore","Revizion","RevizionNew","HeaderItem","minWidth","minHeight","lv_cafe","kind","days","dataKey","changeDopBonus","bonus_other","fontSize","changeLVDir","lv_dir","show_zp","colSpan","WorkSchedule_","one","two","test_one","test_two","isOpenModalH","userInfo","hList","mList","newTimeStart","newTimeEnd","openNewTimeAdd","otherAppList","otherApp","testVal","testOpen","mainMenu","mainMenuH","mainMenuSmena","show_bonus","mainMenuPrice","mainMenuLVDIR","mainMenuDopBonus","show_zp_one","show_zp_two","myOtherSmens","chooseUser","tabTable","arr_dir_lv","h","is_active","i","this_date","smena_id","app_id","user_id","h_info","other_app","key_time","hours","new_app","mentor_id","new_smena_id","part","LV","dir_lv","full_app_name","user_name","pt","ListItemAvatar","AccessTime","other_smens","SyncAlt","HomeWork","fastTime","LooksOne","LooksTwo","Looks3","fastSmena","Assessment","price_arr","changePriceH","price_p_h","newLvDir","Check","scroll","app_name","dividers","my_load_h","all_load_h","bonus","mentor_list","addTime","delTime","changeHourse","saveDayHourse","borderBottom","borderColor","marginLeft","dates","date_k","openH","info","dop_bonus","h_price","err_price","my_bonus","dir_price_dop","given","TableFooter","order_stat","count_false","WorkSchedule","MyDatePicker","format","formatDateDot","formatDateName","SiteSale2_new_","click","modalText","modalLink","where_promo_list","promo_action_list","sale_list","promo_conditions_list","promo_sale_list","type_sale_list","date_promo_list","type_order_list","where_order_list","promo_prizw_vk","spamNameSMS","auto_text","where_promo","promo_name","generate_new","count_action","promo_action","type_sale","promo_sale","sale_type","promo_conditions","price_start","price_end","date_promo","promo_length","promo_count","day_1","day_2","day_3","day_4","day_5","day_6","day_7","where_order","numberList","promo_desc_true","promo_desc_false","textSMS","addItemCount","addItemPrice","addItemAllPrice","itemsAdd","itemsAddPrice","saleCat","saleItem","priceItem","conditionItems","testDate","createdPromo","Y","M","fullDate","generateTextDescFalse","generateTextDescTrue","count_promo","promo_items","promo_cat","dateList","toISOString","split","promo_vk_prize","cert_text","promo_len","generate","promo_in_count","promo_type_sale","promo_type","promo_summ","promo_summ_to","promo_when","promo_type_order","promo_where","promo_city","promo_point","about_promo_text","condition_promo_text","promo_items_add","promo_items_sale","promo_conditions_items","date_between","text_err","promo_text","link","thisDay","nextDay","setDate","textTrue","substring","itemText","dop_text","slice","textFalse","thisItems","thisItem","count","newItems","changeData","changeDataCheck","Divider","changeDataData","addItemAdd","delItemAdd","priceItemAdd","delItemPrice","TextareaAutosize","minRows","SiteSale2_edit_","promo_id","promoId","promo","parse","findItem","limDate","limit","date1","date2","time1","time2","d1","d2","d3","d4","d5","d6","d7","coment","condition_text","SiteSale2_","city_list","promoName","findPromoList","all_city_list","showPromoList","city_name","def_count","delPromo","SiteSale2_Stat_","spam_list","spam_id","spam_list_data","spam_list_data_stat","true","all","percent","stat","changeSpam","number","SiteSale2_StatList_","promo_list","dateStart","dateEnd","getUsers","is_delete","SiteSale2_New","SiteSale2_Edit","useParams","SiteSale2","SiteSale2_Stat","SiteSale2_StatList","DriveMapStatAll_","drivers","getOrders","orders","home","objectManager","ymaps","ObjectManager","features","preset","iconColor","geometry","coordinates","latitude","longitude","status_order","point_color","properties","iconCaption","point_text","xy","add","driver","positions","pos","iconContent","geoObjects","removeAll","ready","Map","center","zoom","searchControlProvider","myGeoObject","GeoObject","driver_name","DriveMapStatAll","DriverStat_","drive_stat_full","drive_stat_date","choose_driver_id","check_cash","getSumm","modalDialogGetSumm","getSummDriverId","getSummComment","modalDialogStatSumm","modalDialogStatSummMain","statSumm","statSummMain","stat_drive_date","driver_id","changeSumm","saveGivePrice","saveGetPrice","date_time","order_id","my_cash","give","changeDate","full_cash","full_bank","count_cash","count_bank","sdacha","give_by_date","getStatDop","fontWeight","dop_price","err_summ","my_price","getStatDopMain","my_orders","my","ost_cash","giveCash","getCash","unic_users","short_name","order","order_k","check","DriverStat","Concenter_","typeDel","modalDialogDel","need_point_list","indexTab","ordersRender","showOrder","radiogroup_options","textDel","need_points","filterNumber","deltype","typeCreate","ans","type_check","check_pos","prompt","isNaN","renderOrders","indexOf","street","type_order_addr_new","type_order_","fake_dom","time_order_name","time_order","delete_reason","date_time_delete","text_time","time_to_client","textTime","sum_order","check_pos_drive","order_items","order_items_","ButtonGroup","disableElevation","disableRipple","closeOrder","fakeUser","RadioGroup","changeAddr","Radio","onFocus","changeText","delOrder","closeOrderTrue","changeNumber","changeAddrSt","btnGetOrders","dist","type_user","need_time","give_data_time","close_order","to_time","order_price","type_pay","Concenter","SocialNetwork_","cityList","dataInfo","file","vk","inst","ok","tg","fb","file1","formData","FormData","append","axios","response","error","files","handleFileInput","SocialNetwork","CatWork_","modalDialogNew","nameCat","editText","nameCatNew","editTextNew","config","readonly","showCat","saveNew","openCat","CatWork","AppWorkPoint_","apps","allList","allListRender","thisList","getWorks","all_work","this_work","checkList","Titem","newArr","Aitem","time_min","dop_time","new_arr","fake_item","list","changeApp","Send","changeDopTime","del","AppWorkPoint","AppWork_","items_min","dows","types","itemsEdit","nameWork","itemsNew","chengeItem1","chengeItemNew1","dow","work","times_add","times_close","work_id","time_action","chengeItem","type_new","max_count","description","type_time","chengeTime","chengeTimeClose","saveEdit","chengeItemNew","chengeTimeNew","delTimeNew","addTimeNew","chengeTimeCloseNew","openNewWork","openWork","work_name","dow_name","times_open","is_not_del","changeCheck","is_need","AppWork","AppWorkShow_","showItems","activeTab","cat_name","show_time","dangerouslySetInnerHTML","__html","text_work","changeTab","need_work_name","AppWorkShow","SiteStatMarc_","is_show_adv","show_stat_roll","show_stat_set","show_stat_pizza","choosePoint","newUsersTable","countOrdersTable","avgSumm","countPos","fakeUsers","roll_stat","set_stat","pizza_stat","typesShow","typeShow","colors","advData","new_users","count_orders","avg_summ","fake_users","renderGraphNewUsers","renderGraphOrders","renderGraphAvgSumm","renderCountPos","renderGraphNewUsersD","renderGraphOrdersD","renderGraphAvgSummD","renderCountPosD","MyData","chartnewusers","dispose","root","am5","Root","setThemes","am5themes_Animated","chart","am5xy","XYChart","panY","wheelY","layout","verticalLayout","data_site","data_center","data_all","site","getTime","yAxis","yAxes","ValueAxis","extraTooltipPrecision","renderer","AxisRendererY","xAxis","xAxes","DateAxis","baseInterval","timeUnit","startLocation","endLocation","AxisRendererX","minGridDistance","createSeries","series","SmoothedXLineSeries","valueYField","valueXField","tooltip","Tooltip","maskBullets","bullets","Bullet","sprite","Circle","radius","fill","get","strokes","template","set","setAll","XYCursor","behavior","themeTags","chartnewusersD","date_new","chartorders","data_pic","data_dev","data_hall","pic","dev","hall","chartordersD","dateFormatter","dateFormat","dateFields","yAxis2","CategoryAxis","categoryField","inversed","strokeWidth","adv_data","category","columnSettings","series2","ser_settings","openValueXField","categoryYField","sequencedInterpolation","ColumnSeries","columns","templateField","strokeOpacity","tooltipText","opacity","processor","DataProcessor","createSeries2","chartavgsumm","chartavgsummD","chartcountpos","data_pizza","data_rolls","chartcountposD","changeChekBox","lost_users","ret_users","showStat","SiteStatMarc","AdvertisingCompany_","adv_actual","adv_old","points_filter","showItem","getAdvList","delAdv","AdvertisingCompany","RasBillAndCook_","rev_list","rev","key_cat","count_rev","count_ras","count_res","RasBillAndCook","SkladItemsModule_","modalItemEdit","modalItemNew","itemEdit","itemName","checkArtDialog","checkArtList","freeItems","searchItem","items_free","main_item_id","this_storages","art","saveEditItem","saveNewItem","saveItem","chooseArt","changeItem","pf_list","pf_id","max_count_in_m","pq","ed_izmer","ed_izmer_id","time_dop_min","time_min_other","los_percent","vend_percent","w_pf","w_trash","w_item","two_user","checkArt","checkArtNew","openModalItemNew","show_in_rev","changeTableItem","showEditItem","storage_name","handle_price","SkladItemsModule","SiteUserManager_","autoProcessQueue","autoQueue","maxFiles","timeout","parallelUploads","acceptedFiles","addRemoveLinks","url","point_list_render","app_list","users","editUser","modalUserEdit","modalUserNew","delModal","graphModal","graphType","sortPoint","myDropzone","Dropzone","dropzoneOptions","points_render","is_graph","isInit","on","xhr","file_type","getOrientation","orientation","check_img","processQueue","is_graph_","sms","callback","reader","FileReader","onload","view","DataView","result","getUint16","byteLength","offset","marker","getUint32","little","tags","readAsArrayBuffer","saveEditUser","fam","otc","birthday","maxHeight","auth_code","acc_to_kas","appointment","history","date_time_update","update_name","point_name","saveNewUser","openNewUser","openEditUser","SiteUserManager","PromoItemsStat_","stats","chooseItem","items_list","val2","chooseData","chooseDataNew","getStat","PromoItemsStat","TableStages","arr","SiteItems_","editItem","item_rec","item_pf","item_items_all","modalEdit","modalNew","cat_list","ItemTab","anchorEl","openMenu","openMenuType","openMenuitem","rec_stage_1","rec_stage_2","rec_stage_3","pf_stage_1","pf_stage_2","pf_stage_3","item_items","myDropzoneOld","myDropzoneNew","is_snack","textSnack","searchPf","item_pf_render","searchItems","item_items_render","items_pf_stages_1","items_pf_stages_2","items_pf_stages_3","items_rec_stages_1","items_rec_stages_2","items_rec_stages_3","items_items","stage_1","stage_2","stage_3","is_add","stol","currentTarget","stage","this_item","closeMenu","splice","dropzone","openSnack","mockFileOld","dataURL","emit","mockFileNew","data_to_render","action","IconButton","closeSnack","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","closeEdit","TabContext","TabList","category_id","weight","count_part","size_pizza","protein","fat","carbohydrates","kkal","time_stage_1","time_stage_2","time_stage_3","img_new","img_new_update","img_app","tmp_desc","marc_desc","is_new","is_hit","show_site","show_program","Dehaze","forwardItem","chooseStage","closeNew","openNew","openItem","saveSort","SiteItems","HotMap_","statAllCount","statTrueCount","all_points","new_data","heatmap","destroy","setCenter","gradients","radiuses","opacities","modules","Heatmap","gradient","setMap","points_zone","zone","zon","myGeoObject2","poly","Polygon","hintContent","fillColor","strokeColor","myGeoObject1","fillRule","strokeStyle","editor","startDrawing","new_this_zone","each","geoObject","concat","getCoordinates","all_count","true_percent","getCount","HotMap","SiteSaleMin_new_","SiteSaleMin_edit_","SiteSaleMin_","SiteSaleMin_StatList_","SiteSaleMin_New","SiteSaleMin_Edit","SiteSaleMin","SiteSaleMin_StatList","theme","createTheme","palette","main","def","secondary","Header","menu","full_menu","left_menu","removeItem","AppBar","Toolbar","edge","handleDrawerOpen","noWrap","flexGrow","Badge","badgeContent","Notifications","key_query","handleDrawerClose","ChevronLeft","parent","chaild","logOut","Status","render","staticContext","App","useLocation","check_header","ThemeProvider","CssBaseline","Container","path","exact","element","createRoot","cssReload","hot","accept","undefined"],"sourceRoot":""}