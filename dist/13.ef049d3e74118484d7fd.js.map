{"version":3,"file":"13.ef049d3e74118484d7fd.js","mappings":"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","sources":["webpack://package.json/./src/components/check_check/check_check.component.jsx","webpack://package.json/./src/components/check_check/check_check.style.scss"],"sourcesContent":["import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableContainer from '@mui/material/TableContainer';\r\n\r\nimport Paper from '@mui/material/Paper';\r\n\r\n//import VisibilityIcon from '@mui/icons-material/Visibility';\r\n//import VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\n//import List from '@mui/material/List';\r\n//import ListItem from '@mui/material/ListItem';\r\n//import ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\n//import DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\n//import Accordion from '@mui/material/Accordion';\r\n//import AccordionSummary from '@mui/material/AccordionSummary';\r\n//import AccordionDetails from '@mui/material/AccordionDetails';\r\n//import Typography from '@mui/material/Typography';\r\n//import ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\n//import Backdrop from '@mui/material/Backdrop';\r\n//import CircularProgress from '@mui/material/CircularProgress';\r\n\r\n//import IconButton from '@mui/material/IconButton';\r\nimport SaveIcon from '@mui/icons-material/Save';\r\nimport OpenInNewIcon from '@mui/icons-material/OpenInNew';\r\nimport CheckCircleIcon from '@mui/icons-material/CheckCircle';\r\n\r\nimport {\r\n  MySelect,\r\n  MyDatePickerNew,\r\n  MyCheckBox,\r\n  MyAutocomplite,\r\n  MyTextInput,\r\n} from '../../stores/elements';\r\nimport { AlignHorizontalLeftRounded } from '@mui/icons-material';\r\n//import { restore } from 'ignore-styles';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear();\r\n\r\n  if (month.length < 2) month = '0' + month;\r\n  if (day.length < 2) day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass CheckCheckTable extends React.Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    // var array1 = nextProps.users;\r\n    // var array2 = this.props.users;\r\n\r\n    // var is_same = (array1.length == array2.length) && array1.every(function(element, index) {\r\n    //     return element === array2[index];\r\n    // });\r\n\r\n    // console.log(this.props)\r\n\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>#</TableCell>\r\n              <TableCell>Номер заказа</TableCell>\r\n              <TableCell>Точка</TableCell>\r\n              <TableCell>Тип заказа</TableCell>\r\n              <TableCell>Номер кассы</TableCell>\r\n              <TableCell>Сумма заказа</TableCell>\r\n              <TableCell>Дата/Время заказа</TableCell>\r\n              <TableCell>Найти заказ</TableCell>\r\n              <TableCell>Сохранить</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {this.props.orders.map((item, key) => (\r\n              <TableRow key={key}>\r\n                <TableCell>{key + 1}</TableCell>\r\n                <TableCell>\r\n                <MyTextInput\r\n                    value = {item.order_id}\r\n                    // func={ this.changeItem.bind(this, 'name_for_vendor') }\r\n                  /> \r\n                </TableCell>\r\n                <TableCell>{item.addr}</TableCell>\r\n                <TableCell>{item.type}</TableCell>\r\n                <TableCell>{item.kassa}</TableCell>\r\n                <TableCell>{item.sum}</TableCell>\r\n                <TableCell>{item.date} {item.time}</TableCell>\r\n                <TableCell>\r\n                  <Button onClick={this.props.openModal.bind(this, item.sum, item.date, key, item.point_id  )}>\r\n                    <OpenInNewIcon className=\"icon\" />\r\n                  </Button>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <Button onClick={this.props.saveOrder.bind(this, item.id, item.order_id, item.point_id  )}>\r\n                    <SaveIcon className=\"icon\" />\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    );\r\n  }\r\n}\r\n\r\nclass CheckModalTable extends React.Component {\r\n  shouldComponentUpdate(nextProps) {\r\n    // var array1 = nextProps.users;\r\n    // var array2 = this.props.users;\r\n\r\n    // var is_same = (array1.length == array2.length) && array1.every(function(element, index) {\r\n    //     return element === array2[index];\r\n    // });\r\n    console.log('orders_in', this.props.orders);\r\n    return true;\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    return (\r\n      <TableContainer component={Paper}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>#</TableCell>\r\n              <TableCell>Номер заказа</TableCell>\r\n              <TableCell>Точка</TableCell>\r\n              <TableCell>Дата/Время заказа</TableCell>\r\n              <TableCell>Тип заказа</TableCell>\r\n              <TableCell>Сумма заказа</TableCell>\r\n              <TableCell>Выбрать</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {this.props.orders.map((item, key) => (\r\n              <TableRow key={key}>\r\n                <TableCell>{key + 1}</TableCell>\r\n                <TableCell>{item.id}</TableCell>\r\n                <TableCell>{item.addr}</TableCell>\r\n                <TableCell>{item.date}</TableCell>\r\n                <TableCell>{item.type}</TableCell>\r\n                <TableCell>{item.sum}</TableCell>\r\n                <TableCell>\r\n                  <Button style={{cursor: 'pointer'}} onClick={this.props.selectOrder.bind(this, item.id)} > \r\n                    <CheckCircleIcon className=\"icon\" />\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    );\r\n  }\r\n}\r\n\r\nclass CheckCheck_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    //todo\r\n    let date_start =  new Date();\r\n    date_start.setDate(date_start.getDate() - 5);\r\n\r\n    this.state = {\r\n      module: 'check_check',\r\n      module_name: 'Проверка чеков',\r\n      is_load: false,\r\n\r\n      point_list: [],\r\n     \r\n      point_id: 0,\r\n      type : 0,\r\n      select_list: [],\r\n\r\n      kassa_list  : [],\r\n      \r\n      date_start: formatDate(date_start),\r\n      date_end: formatDate(new Date()),\r\n\r\n      allOrder: [],\r\n      orders: [],\r\n      order: {},\r\n\r\n      modalOrder: false,\r\n\r\n      number_order: {},\r\n     \r\n    };\r\n  }\r\n\r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n  async componentDidMount(){\r\n   \r\n    let res = await this.getData('get_points');\r\n\r\n    if(res.st == true){\r\n      this.setState({\r\n        kassa_list: res.kassa_list,\r\n        point_list: res.point_list,\r\n        select_list: res.type_list,\r\n      });\r\n    }\r\n   \r\n  }\r\n\r\n  // функция которая присваивает значение в модуле\r\n  changeSort(type, event, data) {\r\n    // автокомлит для должностей - нужен в этом модуле???\r\n    if (type == 'app_id') {\r\n      this.setState({\r\n        app_id: data != null ? data.id : 0,\r\n        app_filter: data,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        [type]: event.target.value,\r\n      });\r\n    }\r\n\r\n    // setTimeout(() => {\r\n    //     this.getUsers();\r\n    // }, 300)\r\n  }\r\n\r\n  changeDateRange(data, event) {\r\n    this.setState({\r\n      [data]: formatDate(event),\r\n    });\r\n  }\r\n\r\n  // открыть todo\r\n  async openOrder(id) {\r\n   \r\n    let data = {\r\n      date_start  : this.state.date_start,\r\n      date_end    : this.state.date_end,\r\n      point_id    : this.state.point_id,\r\n      type        : this.state.type,\r\n      kassa       : this.state.kassa,\r\n    };\r\n\r\n    let res = await this.getData('show', data);\r\n    if(!res.st){\r\n      alert(res.text); \r\n      return false;\r\n    }\r\n    \r\n    console.log('res_type',res.type);\r\n\r\n    // отображаем соообщение \r\n    if(res.text){\r\n      alert(res.text);\r\n    }\r\n    /* */\r\n    \r\n    if(res.orders){\r\n      this.setState({\r\n        allOrder: res.orders,\r\n        // chose_app: res.user.app_id,\r\n        //modalOrder: true,\r\n      });\r\n    }\r\n    \r\n  }\r\n\r\n  // выбор заказа в модалке (передача order_id)\r\n  selectOrder(order_id) {\r\n    /*\r\n    const number_order = this.state.allOrder;\r\n\r\n    const res = this.state.allOrder.find((el) => el.id === id);\r\n\r\n    number_order.map((el) =>\r\n      this.state.order.id === el.id ? (el.number_order = res.number) : null\r\n    );\r\n    */\r\n    let allOrder = this.state.allOrder;\r\n    let row_numb = this.state.row_numb;\r\n  \r\n    allOrder.map((el, i) => \r\n      row_numb === i ?  el.order_id = order_id : 0\r\n    )\r\n\r\n    this.setState({\r\n      allOrder: allOrder,\r\n      // chose_app: res.user.app_id,\r\n      modalOrder: false,\r\n    });\r\n  }\r\n\r\n\r\n  // модалка заказов\r\n  async openModal(sum, date, row_numb, point_id) {\r\n    \r\n    let data = {\r\n      sum         : sum,\r\n      point_id    : point_id,\r\n      date        : date,\r\n      type        : this.state.type,\r\n    };\r\n\r\n    console.log('modal_data', data)\r\n    console.log('row_numb', row_numb)\r\n    console.log('point_id', point_id)\r\n    let res = await this.getData('find_order', data);\r\n\r\n    console.log('res', res)\r\n    this.setState({\r\n      modalOrder: true,\r\n      orders    : res.orders,\r\n      row_numb : row_numb,\r\n    });\r\n  }\r\n\r\n // сохранении order_id\r\n async saveOrder(id, order_id, point_id) {\r\n    let data = {\r\n      id         : id,\r\n      order_id   : order_id,\r\n      point_id   : point_id,\r\n    };\r\n\r\n    console.log('data', data); \r\n    let res = await this.getData('saveItem', data);\r\n\r\n    if(res.st == true){\r\n      console.log('save ok'); \r\n      this.openOrder();\r\n      alert('Данные сохранены');\r\n    } else{\r\n      console.log('save err'); \r\n      alert(res.text);\r\n    }\r\n  \r\n }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n      \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew\r\n              label=\"Начало периода\"\r\n              value={this.state.date_start}\r\n              func={this.changeDateRange.bind(this, 'date_start')}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew\r\n              label=\"Конец периода\"\r\n              value={this.state.date_end}\r\n              func={this.changeDateRange.bind(this, 'date_end')}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect\r\n              data={this.state.point_list}\r\n              value={this.state.point_id.id}\r\n              func={this.changeSort.bind(this, 'point_id')}\r\n              label=\"Точка\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect\r\n              data={this.state.select_list}\r\n              value={this.state.type}\r\n              func={ this.changeSort.bind(this, 'type') }\r\n              label=\"Тип\"\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect\r\n              data={this.state.kassa_list}\r\n              value={this.state.kassa}\r\n              func={ this.changeSort.bind(this, 'kassa') }\r\n              label=\"Касса\"\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button\r\n              onClick={this.openOrder.bind(this)}\r\n              variant=\"contained\"\r\n            >\r\n              Выполнить\r\n            </Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            {this.state.allOrder.length > 0 ? (\r\n              <CheckCheckTable\r\n                orders={this.state.allOrder}\r\n                openModal={this.openModal.bind(this)}\r\n                saveOrder={this.saveOrder.bind(this)}\r\n              />\r\n            ) : null}\r\n          </Grid>\r\n        </Grid>\r\n\r\n        <Dialog\r\n          open={this.state.modalOrder}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={() => {\r\n            this.setState({ modalOrder: false });\r\n          }}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Заказы</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Grid container spacing={3}>\r\n              {this.state.orders && this.state.modalOrder === true ? (\r\n                <CheckModalTable\r\n                  orders={this.state.orders}\r\n                  selectOrder={this.selectOrder.bind(this)}\r\n                  \r\n                />\r\n              ) : null}\r\n            </Grid>\r\n          </DialogContent>\r\n          {/* <DialogActions>\r\n            <Button \r\n            // onClick={this.checkArt.bind(this)} \r\n            color=\"primary\"\r\n            >Выбрать</Button>\r\n          </DialogActions> */}\r\n        </Dialog>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport function CheckCheck() {\r\n  return <CheckCheck_ />;\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1664793407648\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","CheckCheckTable","nextProps","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","this","props","orders","map","item","key","value","order_id","addr","type","kassa","sum","time","Button","onClick","openModal","bind","point_id","OpenInNew","className","saveOrder","id","Save","React","CheckModalTable","console","log","style","cursor","selectOrder","CheckCircle","CheckCheck_","method","data","is_load","setState","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","st","setTimeout","window","location","pathname","err","date_start","setDate","module_name","point_list","select_list","kassa_list","date_end","allOrder","order","modalOrder","number_order","getData","type_list","event","app_id","app_filter","target","alert","text","row_numb","el","i","openOrder","Grid","container","spacing","xs","sm","label","func","changeDateRange","changeSort","variant","Dialog","open","fullWidth","maxWidth","onClose","DialogTitle","DialogContent","paddingBottom","paddingTop","CheckCheck","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}