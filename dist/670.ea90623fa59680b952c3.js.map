{"version":3,"file":"670.ea90623fa59680b952c3.js","mappings":"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","sources":["webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/category_items/category_items.style.scss"],"sourcesContent":["import React from 'react';\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\n\nimport MenuIcon from '@mui/icons-material/Menu';\n\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\n\nimport TextField from '@mui/material/TextField';\n\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableRow from '@mui/material/TableRow';\n\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\nimport Typography from '@mui/material/Typography';\n\nconst queryString = require('query-string');\n\nclass ModalCategoryItems extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      newMainCatMy: '',\n      editMainCatMy: '',\n      newMainNameMy: '',\n      editMainNameMy: '',\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n\n    if(!this.props.event) {\n      return;\n    }\n\n    if (this.props.event !== prevProps.event) {\n      this.setState({\n        editMainCatMy: this.props.event.parent_id,\n        editMainNameMy: this.props.event.name,\n      });\n    }\n  }\n\n  changeNameMain(event) {\n    let data = event.target.value;\n\n    this.setState({\n      newMainNameMy: data,\n    });\n  }\n\n  changeCatMain(event) {\n    let data = event.target.value;\n\n    this.setState({\n      newMainCatMy: data,\n    });\n  }\n\n  changeCatMainEdit(event) {\n    let data = event.target.value;\n\n    this.setState({\n      editMainCatMy: data,\n    });\n  }\n\n  changeNameMainEdit(event) {\n    let data = event.target.value;\n\n    this.setState({\n      editMainNameMy: data,\n    });\n  }\n\n  onClose() {\n\n    this.setState({\n      newMainCatMy: '',\n      editMainCatMy: this.props.event ? this.props.event.parent_id : '',\n      newMainNameMy: '',\n      editMainNameMy: this.props.event ? this.props.event.name : '',\n    });\n    this.props.onClose();\n  }\n\n  render() {\n    return (\n      <Dialog\n        open={this.props.open}\n        onClose={this.onClose.bind(this)}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\">{this.props.method}</DialogTitle>\n        <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\n          <Grid container spacing={3}>\n            <Grid item xs={12} sm={12}>\n              <MySelect\n                label=\"Главная категория\"\n                data={this.props.data}\n                value={\n                  this.props.method === 'Редактирование категории'\n                    ? this.state.editMainCatMy\n                    : this.state.newMainCatMy\n                }\n                func={\n                  this.props.method === 'Редактирование категории'\n                    ? this.changeCatMainEdit.bind(this)\n                    : this.changeCatMain.bind(this)\n                }\n              />\n            </Grid>\n            <Grid item xs={12} sm={12}>\n              <TextField\n                label=\"Название категории\"\n                size=\"small\"\n                variant=\"outlined\"\n                style={{ width: '100%' }}\n                color=\"primary\"\n                value={\n                  this.props.method === 'Редактирование категории'\n                    ? this.state.editMainNameMy\n                    : this.state.newMainNameMy\n                }\n                onChange={\n                  this.props.method === 'Редактирование категории'\n                    ? this.changeNameMainEdit.bind(this)\n                    : this.changeNameMain.bind(this)\n                }\n              />\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={\n              this.props.method === 'Редактирование категории'\n                ? this.props.saveEditCat.bind(\n                    this,\n                    this.state.editMainNameMy,\n                    this.state.editMainCatMy\n                  )\n                : this.props.saveCat.bind(\n                    this,\n                    this.state.newMainNameMy,\n                    this.state.newMainCatMy\n                  )\n            }\n            color=\"primary\"\n          >\n            Сохранить\n          </Button>\n        </DialogActions>\n      </Dialog>\n    );\n  }\n}\n\nclass CategoryItems_ extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      module: 'category_items',\n      module_name: '',\n      is_load: false,\n\n      modalDialog: false,\n      modalDialog2: false,\n\n      method: null,\n      data: null,\n\n      allCats: [],\n      allItems: [],\n\n      thisValItems: [],\n      thisDataItems: [],\n      thisCatId: 0,\n    };\n  }\n\n  async componentDidMount() {\n    let data = await this.getData('get_all');\n\n    this.setState({\n      module_name: data.module_info.name,\n      allCats: data.cats,\n      allItems: data.items,\n    });\n\n    document.title = data.module_info.name;\n  }\n\n  getData = (method, data = {}) => {\n    this.setState({\n      is_load: true,\n    });\n\n    return fetch('https://jacochef.ru/api/index_new.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: queryString.stringify({\n        method: method,\n        module: this.state.module,\n        version: 2,\n        login: localStorage.getItem('token'),\n        data: JSON.stringify(data),\n      }),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (json.st === false && json.type == 'redir') {\n          window.location.pathname = '/';\n          return;\n        }\n\n        if (json.st === false && json.type == 'auth') {\n          window.location.pathname = '/auth';\n          return;\n        }\n\n        setTimeout(() => {\n          this.setState({\n            is_load: false,\n          });\n        }, 300);\n\n        return json;\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          is_load: false,\n        });\n      });\n  };\n\n  onOpen(method, data, event) {\n    event.stopPropagation();\n\n    this.setState({\n      modalDialog: true,\n      method,\n      data,\n    });\n  }\n\n  addItems(cat_id) {\n    let myVal = this.state.allItems.filter(\n      (item) => parseInt(item.cat_id) == parseInt(cat_id)\n    );\n    let data = this.state.allItems.filter((item) => parseInt(item.cat_id) == 0);\n\n    this.setState({\n      modalDialog2: true,\n      thisValItems: myVal,\n      thisDataItems: data,\n      thisCatId: cat_id,\n    });\n  }\n\n  async saveItems() {\n    let data = {\n      cat_id: this.state.thisCatId,\n      items: this.state.thisValItems,\n    };\n\n    let res = await this.getData('save_items_cat', data);\n\n    this.setState({\n      allCats: res.cats,\n      allItems: res.items,\n      modalDialog2: false,\n\n      thisValItems: [],\n      thisDataItems: [],\n      thisCatId: 0,\n    });\n  }\n\n  async saveCat(newMainNameMy, newMainCatMy) {\n    let data = {\n      name: newMainNameMy,\n      cat_id: newMainCatMy,\n    };\n\n    let res = await this.getData('save_cat', data);\n\n    if (res.st === false) {\n      alert(res.text);\n      return;\n    }\n\n    this.setState({\n      allCats: res.cats,\n      modalDialog: false,\n    });\n  }\n\n  async saveEditCat(editMainNameMy, editMainCatMy) {\n    let data = {\n      name: editMainNameMy,\n      cat_id: editMainCatMy,\n      id: this.state.event.id,\n    };\n\n    let res = await this.getData('edit_cat', data);\n\n    if (res.st === false) {\n      alert(res.text);\n      return;\n    }\n\n    this.setState({\n      allCats: res.cats,\n      modalDialog: false,\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n      \n        <ModalCategoryItems\n          open={this.state.modalDialog}\n          onClose={() => {\n            this.setState({ modalDialog: false });\n          }}\n          data={this.state.allCats.filter(\n            (item) => parseInt(item.parent_id) == -1 || !item.parent_id\n          )}\n          saveCat={this.saveCat.bind(this)}\n          saveEditCat={this.saveEditCat.bind(this)}\n          method={this.state.method}\n          event={this.state.data}\n        />\n\n        <Dialog\n          open={this.state.modalDialog2}\n          onClose={() => {\n            this.setState({ modalDialog2: false });\n          }}\n          aria-labelledby=\"alert-dialog-title\"\n          aria-describedby=\"alert-dialog-description\"\n        >\n          <DialogTitle>Позиции категории</DialogTitle>\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\n            <Grid container spacing={3}>\n              <Grid item xs={12} sm={12}>\n                <MyAutocomplite\n                  label=\"Выбранные позиции\"\n                  multiple={true}\n                  func={(event, val) => {\n                    this.setState({ thisValItems: val });\n                  }}\n                  data={this.state.thisDataItems}\n                  value={this.state.thisValItems}\n                />\n              </Grid>\n            </Grid>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={this.saveItems.bind(this)} color=\"primary\">\n              Сохранить\n            </Button>\n          </DialogActions>\n        </Dialog>\n\n        <Grid container spacing={3}>\n          <Grid item xs={12} sm={12}>\n            <h1>{this.state.module_name}</h1>\n          </Grid>\n\n          <Grid item xs={12} sm={12}>\n            <Button\n              onClick={ () => this.setState({\n                    modalDialog: true,\n                    method: 'Новая категория',\n                  })}\n            >\n              Создать категорию\n            </Button>\n          </Grid>\n\n          <Grid item xs={12} sm={12} style={{ paddingBottom: '10px' }}>\n            {this.state.allCats.map((main_cat, main_key) =>\n              parseInt(main_cat.parent_id) != -1 ? null : (\n                <Accordion key={main_key}>\n                  <AccordionSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                  >\n                    <MenuIcon\n                      style={{ marginRight: 10 }}\n                      onClick={this.onOpen.bind(\n                        this,\n                        'Редактирование категории',\n                        main_cat\n                      )}\n                    />\n                    <Typography>{main_cat.name}</Typography>\n                  </AccordionSummary>\n                  <AccordionDetails>\n                    {this.state.allCats.map((parent_cat, parent_key) =>\n                      parseInt(main_cat.id) !=\n                      parseInt(parent_cat.parent_id) ? null : (\n                        <Accordion key={main_key + '_' + parent_key}>\n                          <AccordionSummary\n                            expandIcon={<ExpandMoreIcon />}\n                            aria-controls=\"panel1a-content\"\n                          >\n                            <MenuIcon\n                              style={{ marginRight: 10 }}\n                              onClick={this.onOpen.bind(\n                                this,\n                                'Редактирование категории',\n                                parent_cat\n                              )}\n                            />\n                            <Typography>{parent_cat.name}</Typography>\n                          </AccordionSummary>\n                          <AccordionDetails>\n                            <Table>\n                              <TableBody>\n                                <TableRow>\n                                  <TableCell>\n                                    <Button\n                                      onClick={this.addItems.bind(\n                                        this,\n                                        parseInt(parent_cat.id)\n                                      )}\n                                    >\n                                      Добавить\n                                    </Button>\n                                  </TableCell>\n                                </TableRow>\n                                {this.state.allItems\n                                  .filter(\n                                    (item) =>\n                                      parseInt(item.cat_id) ==\n                                      parseInt(parent_cat.id)\n                                  )\n                                  .map((item, key) => (\n                                    <TableRow\n                                      key={\n                                        main_key + '_' + parent_key + '_' + key\n                                      }\n                                    >\n                                      <TableCell>{item.name}</TableCell>\n                                    </TableRow>\n                                  ))}\n                              </TableBody>\n                            </Table>\n                          </AccordionDetails>\n                        </Accordion>\n                      )\n                    )}\n                  </AccordionDetails>\n                </Accordion>\n              )\n            )}\n          </Grid>\n        </Grid>\n      </>\n    );\n  }\n}\n\nexport function CategoryItems() {\n  return <CategoryItems_ />;\n}\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1668585834188\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","ModalCategoryItems","props","state","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","prevProps","this","event","setState","parent_id","name","data","target","value","onClose","Dialog","open","bind","DialogTitle","id","method","DialogContent","style","paddingBottom","paddingTop","Grid","container","spacing","item","xs","sm","label","func","changeCatMainEdit","changeCatMain","TextField","size","variant","width","color","onChange","changeNameMainEdit","changeNameMain","DialogActions","Button","onClick","saveEditCat","saveCat","React","CategoryItems_","is_load","fetch","headers","body","stringify","module","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","err","console","log","module_name","modalDialog","modalDialog2","allCats","allItems","thisValItems","thisDataItems","thisCatId","getData","module_info","cats","items","document","title","stopPropagation","cat_id","myVal","filter","parseInt","alert","text","Backdrop","zIndex","CircularProgress","multiple","val","saveItems","map","main_cat","main_key","Accordion","key","AccordionSummary","expandIcon","ExpandMore","Menu","marginRight","onOpen","Typography","AccordionDetails","parent_cat","parent_key","Table","TableBody","TableRow","TableCell","addItems","CategoryItems","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}