{"version":3,"file":"main.010ab85e2b4ee6328922.js","mappings":"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","sources":["webpack://package.json/./server/routes.js","webpack://package.json/./src/components/advertising_company/advertising_company.component.jsx","webpack://package.json/./src/components/app_work/app_work.component.jsx","webpack://package.json/./src/components/app_work_point/app_work_point.component.jsx","webpack://package.json/./src/components/app_work_show/app_work_show.component.jsx","webpack://package.json/./src/components/auth/auth.component.jsx","webpack://package.json/./src/components/cat_work/cat_work.component.jsx","webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/concenter/concenter.component.jsx","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.component.jsx","webpack://package.json/./src/components/driver_stat/driver_stat.component.jsx","webpack://package.json/./src/components/events/events.component.jsx","webpack://package.json/./src/components/home/home.component.jsx","webpack://package.json/./src/components/live_orders/live_orders.component.jsx","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.component.jsx","webpack://package.json/./src/components/registration/registration.component.jsx","webpack://package.json/./src/components/revizion/revizion.component.jsx","webpack://package.json/./src/components/site_sale_2/site_sale_2.component.jsx","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.component.jsx","webpack://package.json/./src/components/socialnetwork/socialnetwork.component.jsx","webpack://package.json/./src/components/tender/tender.component.jsx","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.component.jsx","webpack://package.json/./src/components/vendor_module/vendor_module.component.jsx","webpack://package.json/./src/components/work_schedule/work_schedule.component.jsx","webpack://package.json/./src/components/app/app.component.jsx","webpack://package.json/./src/index.prod.js","webpack://package.json/./src/stores/elements.js"],"sourcesContent":["const { Home } = require( '../src/components/home' );\r\nconst { Auth } = require( '../src/components/auth' );\r\nconst { Reg } = require( '../src/components/registration' );\r\n\r\nconst { LiveOrders } = require( '../src/components/live_orders' );\r\nconst { Events } = require( '../src/components/events' );\r\nconst { RasByBill } = require( '../src/components/ras_by_bill' );\r\nconst { CategoryItems } = require( '../src/components/category_items' );\r\nconst { VendorModule } = require( '../src/components/vendor_module' );\r\nconst { VendorItemPrice } = require( '../src/components/vendor_item_price' );\r\nconst { Tender } = require( '../src/components/tender' );\r\nconst { Revizion, RevizionNew } = require( '../src/components/revizion' );\r\nconst { WorkSchedule } = require( '../src/components/work_schedule' );\r\nconst { SiteSale2, SiteSale2_New, SiteSale2_Edit, SiteSale2_Stat, SiteSale2_StatList } = require( '../src/components/site_sale_2' );\r\nconst { DriveMapStatAll } = require( '../src/components/drive_map_stat_all' );\r\nconst { DriverStat } = require( '../src/components/driver_stat' );\r\nconst { Concenter } = require( '../src/components/concenter' );\r\nconst { SocialNetwork } = require( '../src/components/socialnetwork' );\r\nconst { CatWork } = require( '../src/components/cat_work' );\r\nconst { AppWorkPoint } = require( '../src/components/app_work_point' );\r\nconst { AppWork } = require( '../src/components/app_work' );\r\nconst { AppWorkShow } = require( '../src/components/app_work_show' );\r\nconst { SiteStatMarc } = require( '../src/components/site_stat_marc' );\r\nconst { AdvertisingCompany } = require( '../src/components/advertising_company' );\r\n\r\n//AdvertisingCompany_\r\n\r\nmodule.exports = [\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: Home,\r\n        title: 'Главная',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/auth',\r\n        exact: true,\r\n        component: Auth,\r\n        title: 'Авторизация',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/registration',\r\n        exact: true,\r\n        component: Reg,\r\n        title: 'Регистрация',\r\n        code: 200\r\n    },\r\n    \r\n    {\r\n        path: '/live_orders',\r\n        exact: true,\r\n        component: LiveOrders,\r\n        title: 'Оформленные заказы',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/events',\r\n        exact: true,\r\n        component: Events,\r\n        title: 'События',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/ras_by_bill',\r\n        exact: true,\r\n        component: RasByBill,\r\n        title: 'Расход по накладным',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/category_items',\r\n        exact: true,\r\n        component: CategoryItems,\r\n        title: 'Категории товаров',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/vendor_module',\r\n        exact: true,\r\n        component: VendorModule,\r\n        title: 'Поставщики',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/vendor_item_price',\r\n        exact: true,\r\n        component: VendorItemPrice,\r\n        title: 'Цены на товары поставщика',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/tender',\r\n        exact: true,\r\n        component: Tender,\r\n        title: 'Цены на товары поставщика',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/revizion',\r\n        exact: true,\r\n        component: Revizion,\r\n        title: 'Ревизия',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/revizion/new',\r\n        exact: true,\r\n        component: RevizionNew,\r\n        title: 'Новая ревизия',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/work_schedule',\r\n        exact: true,\r\n        component: WorkSchedule,\r\n        title: 'График работы',\r\n        code: 200\r\n    },\r\n    \r\n    {\r\n        path: '/site_sale_2',\r\n        exact: true,\r\n        component: SiteSale2,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/new',\r\n        exact: true,\r\n        component: SiteSale2_New,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/edit/:promoId',\r\n        exact: true,\r\n        component: SiteSale2_Edit,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/stat',\r\n        exact: true,\r\n        component: SiteSale2_Stat,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/stat_list',\r\n        exact: true,\r\n        component: SiteSale2_StatList,\r\n        title: 'Выписанные промики',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/drive_map_stat_all',\r\n        exact: true,\r\n        component: DriveMapStatAll,\r\n        title: 'Курьеры на карте',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/driver_stat',\r\n        exact: true,\r\n        component: DriverStat,\r\n        title: 'Статистика курьеров',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/concenter',\r\n        exact: true,\r\n        component: Concenter,\r\n        title: 'Контакт-центр',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/socialnetwork',\r\n        exact: true,\r\n        component: SocialNetwork,\r\n        title: 'Социальные сети',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/cat_work',\r\n        exact: true,\r\n        component: CatWork,\r\n        title: 'Категории уборок',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/app_work_point',\r\n        exact: true,\r\n        component: AppWorkPoint,\r\n        title: 'Уборки на точке',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/app_work',\r\n        exact: true,\r\n        component: AppWork,\r\n        title: 'Время уборок',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/app_work_show',\r\n        exact: true,\r\n        component: AppWorkShow,\r\n        title: 'Просмотр уборок',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_stat_marc',\r\n        exact: true,\r\n        component: SiteStatMarc,\r\n        title: 'Статистика маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/advertising_company',\r\n        exact: true,\r\n        component: AdvertisingCompany,\r\n        title: 'Рекламные компании',\r\n        code: 200\r\n    },\r\n    \r\n\r\n    \r\n    \r\n];","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport ListItemIcon from '@mui/material/ListItemIcon';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nimport { MyTextInput, TextEditor, MySelect, MyAutocomplite, MyDaterange, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n        month = '0' + month;\r\n    if (day.length < 2)\r\n        day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}\r\n    \r\nclass AdvertisingCompany_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'advertising_company',\r\n      module_name: '',\r\n      description: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      \r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      point_id: 0,\r\n      points: [],\r\n      choosePoint: [],\r\n      points_filter: [],\r\n\r\n      is_active: 1,\r\n      id: 0,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      name: '',\r\n      editTextNew: '',\r\n\r\n      config: {\r\n        readonly: false // all options from https://xdsoft.net/jodit/doc/\r\n      },\r\n\r\n      showItem: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n        module_name     : data.module_info.name,\r\n        cats            : data.cats,\r\n        points          : data.points,\r\n        points_filter   : data.points\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n    openCat(item) {\r\n        this.setState({\r\n            modalDialog     : true,\r\n            showItem        : true,\r\n            name            : item.name,\r\n            rangeDate       : [formatDate(item.date_start), formatDate(item.date_end)],\r\n            is_active       : item.is_active,\r\n            id              : item.id,\r\n            description     : item.description,\r\n            choosePoint     : item.choosePoint,\r\n        })\r\n        console.log('modalDialog2=' + this.state.modalDialog);\r\n    }\r\n\r\n  async save(){\r\n     let data = {\r\n        id          : this.state.id,\r\n        points      : this.state.choosePoint,\r\n        name        : this.state.name,\r\n        rangeDate   : this.state.rangeDate,\r\n        is_active   : this.state.is_active,\r\n        id          : this.state.id,\r\n        description : this.state.description,\r\n     };\r\n\r\n     let res = await this.getData('save_edit', data);\r\n\r\n      if (res.st === false) {\r\n            console.log('res false');\r\n            alert(res.text)\r\n      } else {\r\n            console.log('res true');\r\n            this.setState({ \r\n                 modalDialog: false, \r\n                 // showItem: null, \r\n                 // nameCat: '' \r\n            })\r\n\r\n          res = await this.getData('get_all');\r\n\r\n           // оновляем список \r\n          this.setState({\r\n            cats: res.cats\r\n          })\r\n\r\n      }   \r\n  }\r\n\r\n  async saveNew(){\r\n      let data = {\r\n          points        : this.state.choosePoint,\r\n          name          : this.state.name,\r\n          rangeDate     : this.state.rangeDate,\r\n          is_active     : this.state.is_active,\r\n          description   : this.state.description\r\n      };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n      if (res.st === false) {\r\n          console.log('res false');\r\n          alert(res.text)\r\n      } else {\r\n          console.log('res true');\r\n          this.setState({ \r\n            modalDialogNew: false, \r\n           //editTextNew: '', \r\n            //nameCatNew: '' \r\n          })\r\n\r\n          res = await this.getData('get_all');\r\n    \r\n          this.setState({\r\n            cats: res.cats\r\n          })\r\n      }\r\n    }\r\n\r\n    changeChekBox(type, event) {\r\n        this.setState({\r\n            [type]: event.target.checked\r\n        })\r\n    }\r\n\r\n    changeDateRange(data) {\r\n        let dateStart = data[0] ? formatDate(data[0]) : '';\r\n        let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n\r\n        this.setState({\r\n            rangeDate: [dateStart, dateEnd]\r\n        })\r\n    }\r\n\r\n    // смена точки\r\n    changePoint(event) {\r\n        \r\n        console.log('set!=' + event.target.value);\r\n        this.setState({\r\n            point_id: event.target.value\r\n        })\r\n\r\n        setTimeout(() => {\r\n            this.getAdvList();\r\n        }, 50)\r\n    }\r\n\r\n    // получение спиок рек. компаний по точки\r\n    async getAdvList() {\r\n        let data = {\r\n            point_id: this.state.point_id,\r\n        };\r\n\r\n        let res = await this.getData('get_adv_point', data);\r\n\r\n        this.setState({\r\n            cats: res.cats,\r\n        })\r\n    }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showItem ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n               onClose={() => { this.setState({ modalDialog: false, showItem: null, editText: '', name: '' }) } }\r\n          >\r\n            <DialogTitle>Компания \"{this.state.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                    <MyTextInput classes={this.state.classes} value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) }} label='Название акции' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n                    <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={this.changeDateRange.bind(this)} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite classes={this.state.classes} data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput classes={this.state.classes} value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n                 \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n                onClose={() => { this.setState({ modalDialogNew: false, description: '', rangeDate: [formatDate(new Date()), formatDate(new Date())], choosePoint: [] }) } }\r\n        >\r\n          <DialogTitle>Новая акция</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n               <Grid item xs={12} sm={12}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) } } label='Название компании' />\r\n               </Grid>\r\n\r\n                <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n                    <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={this.changeDateRange.bind(this)} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite classes={this.state.classes} data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n               \r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput classes={this.state.classes} value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание'  />\r\n                 </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                     <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить акцию</Button>\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={6}>\r\n               <MySelect data={this.state.points_filter} value={this.state.points_filter} func={this.changePoint.bind(this)} label='Точка' />\r\n            </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n             <List style={{ width: '100%' }}>\r\n               {!this.state.cats  ? null : \r\n                     this.state.cats.map((item, key) =>\r\n                           \r\n                        <ListItem button key={key} onClick={this.openCat.bind(this, item)} style={{ marginLeft: 10 }} >\r\n                            <ListItemIcon>\r\n                                {item.is_active == '1' ? <VisibilityIcon /> : <VisibilityOffIcon />}\r\n                        </ListItemIcon>\r\n                      <ListItemText primary={ item.name } />\r\n                    </ListItem>\r\n                    )}\r\n                \r\n             </List>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AdvertisingCompany () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AdvertisingCompany_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nimport { MyTextInput, MyCheckBox, MySelect, MyTimePicker, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass AppWork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'app_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    data.items.map( (item, key) => {\r\n      data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      items: data.items,\r\n      items_min: data.items_min\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async saveEdit(){\r\n    let data = {\r\n      work: this.state.itemsEdit.item,\r\n      times_add: this.state.itemsEdit.times_add,\r\n      times_close: this.state.itemsEdit.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        itemsEdit: null,\r\n        nameWork: ''\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      work: this.state.itemsNew.item,\r\n      times_add: this.state.itemsNew.times_add,\r\n      times_close: this.state.itemsNew.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        itemsNew: null\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n      nameWork: res.item.name,\r\n      chengeItem1: this.state.items_min.find( (item, key) => parseInt( item.id ) == parseInt( res.item.work_id ) )\r\n    })\r\n  }\r\n\r\n  async openNewWork(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsNew: res,\r\n      modalDialogNew: true\r\n    })\r\n  }\r\n\r\n  chengeItem(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeItem1(type, event, data){\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsEdit: item,\r\n      chengeItem1: data\r\n    })\r\n  }\r\n\r\n  chengeItemNew(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  chengeItemNew1(type, event, data){\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsNew: item,\r\n      chengeItemNew1: data\r\n    })\r\n  }\r\n\r\n  chengeTime(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeNew(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  delTime(key){\r\n    let item = this.state.itemsEdit;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  delTimeNew(key){\r\n    let item = this.state.itemsNew;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  addTime(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n\r\n      this.setState({\r\n        itemsEdit: item\r\n      })\r\n    }\r\n  }\r\n\r\n  addTimeNew(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsNew;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n  \r\n      this.setState({\r\n        itemsNew: item\r\n      })\r\n    }\r\n  }\r\n\r\n  chengeTimeClose(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeCloseNew(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  async changeCheck(key, type, event){\r\n    let items = this.state.items;\r\n\r\n    items[ key ][ [type] ] = event.target.checked ? 1 : 0;\r\n\r\n    let data = {\r\n      type: type,\r\n      value: event.target.checked ? 1 : 0,\r\n      id: items[ key ].id\r\n    };\r\n\r\n    let res = await this.getData('save_check', data);\r\n    \r\n\r\n    this.setState({\r\n      items: items\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.itemsEdit ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n          >\r\n            <DialogTitle>Уборка \"{this.state.nameWork}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsEdit.item.name } func={ this.chengeItem.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsEdit.cats} value={this.state.itemsEdit.item.type_new} func={ this.chengeItem.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsEdit.item.time_min } func={ this.chengeItem.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsEdit.item.max_count } func={ this.chengeItem.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} classes={this.state.classes} value={this.state.itemsEdit.item.description} func={ this.chengeItem.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsEdit.apps} value={this.state.itemsEdit.item.app_id} func={ this.chengeItem.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.dows} value={this.state.itemsEdit.item.dow} func={ this.chengeItem.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.types} value={this.state.itemsEdit.item.type_time} func={ this.chengeItem.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsEdit.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite classes={this.state.classes} data={this.state.items_min} value={this.state.chengeItem1} func={ this.chengeItem1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsEdit.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker classes={this.state.classes} label={''} value={item.time_action} func={ this.chengeTime.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTime.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" classes={this.state.classes} label={''} value={'00:00'} onBlur={ this.addTime.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker classes={this.state.classes} label={''} value={this.state.itemsEdit.times_close} func={ this.chengeTimeClose.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveEdit.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.itemsNew ? null :\r\n          <Dialog\r\n            open={this.state.modalDialogNew}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialogNew: false }) } }\r\n          >\r\n            <DialogTitle>Новая уборка</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsNew.item.name } func={ this.chengeItemNew.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsNew.cats} value={this.state.itemsNew.item.type_new} func={ this.chengeItemNew.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsNew.item.time_min } func={ this.chengeItemNew.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsNew.item.max_count } func={ this.chengeItemNew.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} classes={this.state.classes} value={this.state.itemsNew.item.description} func={ this.chengeItemNew.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsNew.apps} value={this.state.itemsNew.item.app_id} func={ this.chengeItemNew.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.dows} value={this.state.itemsNew.item.dow} func={ this.chengeItemNew.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.types} value={this.state.itemsNew.item.type_time} func={ this.chengeItemNew.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsNew.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite classes={this.state.classes} data={this.state.items_min} value={this.state.chengeItemNew1} func={ this.chengeItemNew1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsNew.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker classes={this.state.classes} label={''} value={item.time_action} func={ this.chengeTimeNew.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTimeNew.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" classes={this.state.classes} label={''} value={'00:00'} onBlur={ this.addTimeNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker classes={this.state.classes} label={''} value={this.state.itemsNew.times_close} func={ this.chengeTimeCloseNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ this.openNewWork.bind(this) }>Добавить уборку</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>Должность</TableCell>\r\n                  <TableCell>Время</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  \r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                  <TableCell>Не удалять в конце смены</TableCell>\r\n                  <TableCell>Обязательна к выполнению в особый день</TableCell>\r\n                  <TableCell><VisibilityIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.items.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.app_name}</TableCell>\r\n                    <TableCell>{item.time_min ? item.time_min + 'мин.' : ''}</TableCell>\r\n                    <TableCell>{item.dow_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n\r\n                    <TableCell>{item.times_close}</TableCell>\r\n\r\n                    <TableCell>\r\n                      <MyCheckBox classes={this.state.classes} value={ parseInt(item.is_not_del) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_not_del') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox classes={this.state.classes} value={ parseInt(item.is_need) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_need') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox classes={this.state.classes} value={ parseInt(item.is_active) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_active') } label='' />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWork () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AppWork_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nimport { MyTextInput, MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass AppWorkPoint_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'app_work_point',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point_id: 0,\r\n\r\n      apps: [],\r\n      app_id: 0,\r\n\r\n      allList: [],\r\n      allListRender: [],\r\n      thisList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      point_id: data.points[0].id,\r\n      apps: data.apps,\r\n      app_id: data.apps[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeApp(event){\r\n    this.setState({\r\n      app_id: event.target.value\r\n    });\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n\r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('get_works', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      allList: res.all_work,\r\n      thisList: res.this_work,\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  checkList(){\r\n    let allList = this.state.allList;\r\n    let thisList = this.state.thisList;\r\n\r\n    thisList.map( (Titem) => {\r\n      let newArr = [];\r\n\r\n        allList.map( (Aitem) => {\r\n          if( parseInt(Aitem.id) != parseInt(Titem.id) ){\r\n            newArr.push(Aitem);\r\n          }\r\n        })\r\n\r\n        allList = newArr;\r\n    } )\r\n\r\n    this.setState({\r\n      allListRender: allList\r\n    })\r\n  }\r\n\r\n  add(id, name){\r\n    let thisList = this.state.thisList;\r\n    let allList = this.state.allList;\r\n\r\n    let check = thisList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n    let thisItem = allList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n\r\n\t\tif( !check ){\r\n\t\t\tthisList.push({id: id, name: name, time_min: 0, dop_time: 0, time_min: thisItem.time_min})\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n      thisList: thisList\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  del(id, name){\r\n    let new_arr = [];\r\n    let thisList = this.state.thisList;\r\n\r\n\t\tthisList.map(function(item, key){\r\n\t\t\tif( parseInt(item['id']) != parseInt(id) ){\r\n\t\t\t\tnew_arr.push( item )\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n      thisList: new_arr\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n\t}\r\n\r\n  async save(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id,\r\n      items: this.state.thisList\r\n    };\r\n\r\n    let fake_item = null;\r\n\r\n    this.state.thisList.map( (item, key) => {\r\n      if( item.dop_time.length == 0 ){\r\n        fake_item = item;\r\n      }\r\n    } )\r\n\r\n    console.log(fake_item  )\r\n\r\n    if( fake_item ){\r\n      alert('У позиции \"'+fake_item.name+'\" не указано доп время');\r\n\r\n      return ;\r\n    }\r\n\r\n    let res = await this.getData('save', data);\r\n\r\n    console.log( res )\r\n\r\n    alert(res.text)\r\n  }\r\n\r\n  changeDopTime(key, event){\r\n    let data = event.target.value;\r\n    let list = this.state.thisList;\r\n\r\n    if( !isNaN(data) || data == ''  ){\r\n      list[ key ]['dop_time'] = data == '' ? '' : parseInt(data);\r\n\r\n      this.setState({\r\n        thisList: list\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.apps} value={this.state.app_id} func={ this.changeApp.bind(this) } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getWorks.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.allListRender.map( (item, key) =>\r\n                <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                  <ListItemText primary={ item.name } />\r\n                  <SendIcon onClick={this.add.bind(this, item.id, item.name)} />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Table size='small'>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Наименование</TableCell>\r\n                  <TableCell>Основное время</TableCell>\r\n                  <TableCell>Доп время (в минутах)</TableCell>\r\n                  <TableCell><CloseIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.thisList.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.name}</TableCell>\r\n                    <TableCell>{item.time_min} мин.</TableCell>\r\n                    <TableCell>\r\n                      <MyTextInput classes={this.state.classes} value={ item.dop_time } func={ this.changeDopTime.bind(this, key) } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <CloseIcon onClick={this.del.bind(this, item.id, item.name)} style={{cursor: 'pointer'}} />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n          </Grid>\r\n        \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWorkPoint(){\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AppWorkPoint_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { MyTextInput, MyCheckBox, MySelect, MyTimePicker, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass AppWorkShow_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'app_work_show',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      showItems: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      activeTab: 0,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null,\r\n\r\n      points: [],\r\n      point_id: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let points = await this.getData('get_points');\r\n    \r\n    this.setState({\r\n      points: points,\r\n      point_id: points[0]['id']\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_all', data);\r\n\r\n    res.items.map( (item, key) => {\r\n      res.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    let activeTab = parseInt(this.state.activeTab);\r\n\r\n    if( activeTab == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( activeTab == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( activeTab == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      module_name: res.module_info.name,\r\n      items: res.items,\r\n      showItems: res.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) ),\r\n      items_min: res.items_min\r\n    })\r\n\r\n    document.title = res.module_info.name;\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id,\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n    })\r\n  }\r\n\r\n  changeTab(event, val){\r\n    let activeTab = parseInt(val);\r\n\r\n    if( val == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( val == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( val == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      activeTab: val,\r\n      showItems: this.state.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) )\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        \r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n\r\n          { !this.state.itemsEdit ? null :\r\n            <Dialog\r\n              open={this.state.modalDialog}\r\n              maxWidth={'md'}\r\n              onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n            >\r\n              <DialogTitle>Уборка \"{this.state.itemsEdit.item.name}\"</DialogTitle>\r\n              <DialogContent>\r\n                \r\n                <Grid container spacing={0}>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>{this.state.itemsEdit.item.cat_name}</Typography>\r\n                  </Grid>\r\n\r\n                  { this.state.itemsEdit.item.show_time == false ? null :\r\n                    <Grid item xs={12}>\r\n                      <Typography>Время за уборку: {this.state.itemsEdit.item.time_min} мин.</Typography>\r\n                    </Grid>\r\n                  }\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>Описание процесса уборки: </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography dangerouslySetInnerHTML={{__html: this.state.itemsEdit.item.text_work}}></Typography>\r\n                  </Grid>\r\n                  \r\n                </Grid>\r\n\r\n              </DialogContent>\r\n            </Dialog>\r\n          }\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Paper>\r\n              <Tabs value={this.state.activeTab} onChange={ this.changeTab.bind(this) }>\r\n                <Tab label=\"Повар\" {...a11yProps(0)} />\r\n                <Tab label=\"Кассир\" {...a11yProps(1)} />\r\n                <Tab label=\"Кухонный работник\" {...a11yProps(2)} />\r\n              </Tabs>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.showItems.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.dow_name} {item.need_work_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n                    <TableCell>{item.times_close}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWorkShow () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AppWorkShow_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 150,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  avatar2: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 130,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  textLink: {\r\n    color: '#c03'\r\n  }\r\n});\r\n\r\nclass Auth_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        this.state.history.push(\"/auth\");\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async auth(){\r\n    let data = {\r\n      login: document.getElementById('phone').value,\r\n      pwd: document.getElementById('password').value\r\n    };\r\n    \r\n    let res = await this.getData('auth', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      setTimeout( () => {\r\n        this.setState({ \r\n          modalDialog: true,\r\n          dialogTitle: 'Предупреждение',\r\n          dialogText: res.text\r\n        })\r\n      }, 500 )\r\n    }else{\r\n      localStorage.setItem('token', res.token)\r\n      \r\n      setTimeout( () => {\r\n        window.location.pathname = '/'\r\n      }, 300)\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div className={this.state.classes.paper}>\r\n              <Avatar className={this.state.classes.avatar}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              <form className={this.state.classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"phone\"\r\n                  label=\"Номер телефона\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"phone\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Пароль\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={this.state.classes.submit}\r\n                  onClick={ this.auth.bind(this) }\r\n                >\r\n                  Войти\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/registration\" className={this.state.classes.textLink}>Восстановить пароль</a>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Auth () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Auth_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport { MyTextInput, TextEditor } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass CatWork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'cat_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      nameCatNew: '',\r\n      editTextNew: '',\r\n\r\n      config: {\r\n        readonly: false // all options from https://xdsoft.net/jodit/doc/\r\n      },\r\n\r\n      showCat: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async save(){\r\n    let data = {\r\n      cat_id: this.state.showCat.id,\r\n      name: this.state.nameCat,\r\n      text: document.getElementById('EditorEdit').value\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        showCat: null, \r\n        nameCat: '' \r\n      })\r\n\r\n      document.getElementById('EditorEdit').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      name: this.state.nameCatNew,\r\n      text: document.getElementById('EditorNew').value\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        editTextNew: '', \r\n        nameCatNew: '' \r\n      })\r\n\r\n      document.getElementById('EditorNew').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showCat ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false, showCat: null, editText: '', nameCat: '' }) } }\r\n          >\r\n            <DialogTitle>Категория уборки \"{this.state.showCat.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.nameCat } func={ (event) => { this.setState({ nameCat: event.target.value }) } } label='Название категории' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                  <TextEditor id=\"EditorEdit\" text={this.state.showCat.text} />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n          onClose={ () => { this.setState({ modalDialogNew: false, editTextNew: '', nameCatNew: '' }) } }\r\n        >\r\n          <DialogTitle>Новая категория уборки</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={ this.state.nameCatNew } func={ (event) => { this.setState({ nameCatNew: event.target.value }) } } label='Название категории' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <TextEditor id=\"EditorNew\" text={''} />\r\n              </Grid>\r\n              \r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.cats.map( (item, key) =>\r\n                <ListItem button key={key} onClick={ this.openCat.bind(this, item) }>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CatWork () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <CatWork_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass CategoryItems_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'category_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialog2: false,\r\n      modalDialog3: false,\r\n      \r\n      newMainCatMy: 0,\r\n      editMainCatMy: 0,\r\n      newMainNameMy: '',\r\n      editMainNameMy: '',\r\n      \r\n      editCat: null,\r\n      \r\n      allCats: [],\r\n      allItems: [],\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0,\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      allCats: data.cats,\r\n      allItems: data.items,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  createCat(){\r\n    this.setState({\r\n      modalDialog: true,\r\n      newMainCatMy: 0,\r\n      newMainNameMy: ''\r\n    })\r\n  }\r\n  \r\n  changeCatMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeCatMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  async saveCat(){\r\n    let data = {\r\n      name: this.state.newMainNameMy,\r\n      cat_id: this.state.newMainCatMy\r\n    };\r\n    \r\n    let res = await this.getData('save_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  addItems(cat_id){\r\n    \r\n    let myVal = this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(cat_id) );\r\n    let data = this.state.allItems.filter( (item) => parseInt(item.cat_id) == 0 );\r\n    \r\n    this.setState({\r\n      modalDialog2: true,\r\n      thisValItems: myVal,\r\n      thisDataItems: data,\r\n      thisCatId: cat_id\r\n    })\r\n  }\r\n  \r\n  async saveItems(){\r\n    let data = {\r\n      cat_id: this.state.thisCatId,\r\n      items: this.state.thisValItems\r\n    };\r\n    \r\n    let res = await this.getData('save_items_cat', data);\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      allItems: res.items,\r\n      modalDialog2: false,\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0\r\n    })\r\n  }\r\n  \r\n  editCat(cat){\r\n    this.setState({\r\n      modalDialog3: true,\r\n      editMainCatMy: cat.parent_id,\r\n      editMainNameMy: cat.name,\r\n      editCat: cat\r\n    })\r\n  }\r\n  \r\n  async saveEditCat(){\r\n    let data = {\r\n      name: this.state.editMainNameMy,\r\n      cat_id: this.state.editMainCatMy,\r\n      id: this.state.editCat.id\r\n    };\r\n    \r\n    let res = await this.getData('edit_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  classes={this.state.classes} \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) }\r\n                  value={this.state.newMainCatMy} \r\n                  func={ this.changeCatMain.bind(this) } />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField label=\"Название категории\" size=\"small\" variant=\"outlined\" style={{ width: '100%' }} color=\"primary\" value={this.state.newMainNameMy} onChange={this.changeNameMain.bind(this)} />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog2}\r\n          onClose={ () => { this.setState({ modalDialog2: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Позиции категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyAutocomplite \r\n                  label=\"Выбранные позиции\" \r\n                  func={ (event, val) => { this.setState({ thisValItems: val }) } }\r\n                  data={ this.state.thisDataItems } \r\n                  value={ this.state.thisValItems } />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveItems.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog3}\r\n          onClose={ () => { this.setState({ modalDialog3: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Редактирование категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  classes={this.state.classes} \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) } \r\n                  value={this.state.editMainCatMy} \r\n                  func={ this.changeCatMainEdit.bind(this) } \r\n                />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField \r\n                  label=\"Название категории\" \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                  style={{ width: '100%' }} \r\n                  color=\"primary\" \r\n                  value={this.state.editMainNameMy} \r\n                  onChange={ this.changeNameMainEdit.bind(this) }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveEditCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.createCat.bind(this)}>Создать категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.allCats.map( (main_cat, main_key) =>\r\n              parseInt(main_cat.parent_id) != -1 ? null :\r\n                <Accordion key={main_key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                  >\r\n                    <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, main_cat) } />\r\n                    <Typography>{main_cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                  { this.state.allCats.map( (parent_cat, parent_key) =>\r\n                    parseInt(main_cat.id) != parseInt(parent_cat.parent_id) ? null :\r\n                      <Accordion key={main_key+'_'+parent_key}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1a-content\"\r\n                        >\r\n                          <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, parent_cat) } />\r\n                          <Typography>{parent_cat.name}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          { this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(parent_cat.id) ).map( (item, key) =>\r\n                            <Accordion key={main_key+'_'+parent_key+'_'+key}>\r\n                              <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                              >\r\n                                <Typography>{item.name}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                            \r\n                          <Button onClick={this.addItems.bind(this, parseInt(parent_cat.id))}>Добавить</Button>\r\n                            \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                  )}\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n            ) }\r\n          </Grid>\r\n          \r\n          \r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CategoryItems () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <CategoryItems_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass Concenter_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'concenter',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialogDel: false,\r\n      \r\n      cities: [],\r\n      city_id: 1,\r\n      date: formatDate(new Date()),\r\n      point_list: [],\r\n      need_point_list: [],\r\n      point_id: 0,\r\n      indexTab: 0,\r\n\r\n      orders: [],\r\n      ordersRender: [],\r\n      showOrder: null,\r\n\r\n      radiogroup_options: [\r\n        {id: '0', label: 'Решили отредактировать заказ', value: 0 },\r\n        {id: '1', label: 'Не устраивает время ожидания', value: 0 },\r\n        {id: '2', label: 'Изменились планы', value: 0 },\r\n        {id: '3', label: 'Недостаточно средств', value: 0 },\r\n        {id: '4', label: 'Другое', value: 0 },\r\n      ],\r\n      textDel: '',\r\n      typeDel: -1,\r\n\r\n      number: '',\r\n      addr: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let need_points = data.points.filter( (item, key) => parseInt(item.city_id) == parseInt(data.cities[0].id) );\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities,\r\n      point_list: data.points,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id)\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    let data = event.target.value;\r\n    \r\n    let need_points = this.state.point_list.filter( (item, key) => parseInt(item.city_id) == parseInt(data) );\r\n\r\n    this.setState({\r\n      city_id: data,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id),\r\n      indexTab: 0\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  async changePoint(event, index){\r\n    let point_id = event.target.id;\r\n    point_id = point_id.split('-')[2]\r\n\r\n    this.setState({\r\n      point_id: point_id,\r\n      indexTab: index\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n    \r\n  }\r\n\r\n  async getOrders(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      date: this.state.date\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      orders: res.orders\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  btnGetOrders(){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    this.getOrders();\r\n  }\r\n\r\n  async showOrder(order_id){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      order_id: order_id\r\n    };\r\n\r\n    let res = await this.getData('get_order_new', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialog: true,\r\n      showOrder: res\r\n    })\r\n  }\r\n\r\n  closeOrder(){\r\n    this.setState({ modalDialogDel: true })\r\n  }\r\n\r\n  async closeOrderTrue(){\r\n    let deltype = this.state.radiogroup_options.find( (item) => item.id == this.state.typeDel );\r\n        \r\n    if( deltype.id == '4' ){\r\n      deltype.label = this.state.textDel;\r\n    }\r\n    \r\n    if (confirm(\"Отменить заказ #\"+this.state.showOrder.order.order_id)) {\r\n      let data = {\r\n        typeCreate: 'center',\r\n        order_id: this.state.showOrder.order.order_id,\r\n        point_id: this.state.showOrder.order.point_id,\r\n        ans: deltype.label\r\n      };\r\n  \r\n      let res = await this.getData('close_order_center', data);\r\n\r\n      //setTimeout(() => {\r\n        if( res['st'] === true ){\r\n          this.setState({\r\n            modalDialogDel: false,\r\n            modalDialog: false,\r\n          });\r\n          \r\n          this.getOrders();\r\n        }else{\r\n          alert( res['text'] );\r\n        }\r\n      //}, 300);\r\n    }\r\n  }\r\n\r\n  async fakeUser(){\r\n    let type_check = 0;\r\n\r\n    if( parseInt(this.state.showOrder.order.check_pos) >= 0 ){\r\n      if( parseInt(this.state.showOrder.order.check_pos) <= 100 ){\r\n        type_check = 1;\r\n      }else{\r\n        type_check = 2;\r\n      }\r\n    }else{\r\n      type_check = 0;\r\n    }\r\n\r\n    //0 - не активно\r\n    //1 - сразу\r\n    //2 - уточнить\r\n\r\n    \r\n    if( parseInt(type_check) == 0 ){\r\n      alert('Создать обращение не возможно')\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(type_check) == 1 ){\r\n      let text = prompt('Комментарий к ситуации', '');\r\n\r\n      if(text.length > 0){\r\n        let data = {\r\n          text: text,\r\n          point_id: parseInt(this.state.showOrder.order.point_id),\r\n          order_id: parseInt(this.state.showOrder.order.order_id),\r\n        };\r\n    \r\n        let res = await this.getData('fake_user', data);\r\n  \r\n        if(res['st'] == true){\r\n          alert('Обращение зафиксировано')\r\n          this.setState({ modalDialog: false })\r\n        }else{\r\n          alert(res['text'])\r\n        }\r\n\r\n      }else{\r\n        alert('надо указать комментарий')\r\n      }\r\n    }\r\n\r\n    if( parseInt(type_check) == 2 ){\r\n      const result = confirm('Курьер, предположительно, находиться далеко от клиента, точно оформить довоз ?');\r\n\r\n      if (result) {\r\n        var text = prompt('Комментарий к ситуации', '');\r\n\r\n        if(text.length > 0){\r\n          let data = {\r\n            text: text,\r\n            point_id: parseInt(this.state.showOrder.order.point_id),\r\n            order_id: parseInt(this.state.showOrder.order.order_id),\r\n          };\r\n      \r\n          let res = await this.getData('fake_user', data);\r\n\r\n          if(res['st'] == true){\r\n            alert('Обращение зафиксировано')\r\n            this.setState({ modalDialog: false })\r\n          }else{\r\n            alert(res['text'])\r\n          }\r\n        }else{\r\n          alert('надо указать комментарий')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  changeText(event){\r\n    this.setState({ textDel: event.target.value })\r\n  }\r\n\r\n  changeAddr = (event) => {\r\n    this.setState({\r\n      typeDel: event.target.value,\r\n    })\r\n  }\r\n\r\n  changeDate(val){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n    \r\n    this.setState({\r\n      date: formatDate(val)\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n\r\n  changeNumber(event){\r\n    let value = event.target.value;\r\n    \r\n    if( isNaN(value) ){\r\n      return ;\r\n    }\r\n\r\n    this.setState({ number: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  changeAddrSt(event){\r\n    let value = event.target.value;\r\n    \r\n    this.setState({ addr: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  filterNumber(){\r\n    let renderOrders = this.state.orders;\r\n\r\n    if( this.state.number.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => item.number.indexOf(this.state.number) !== -1 );\r\n    }\r\n\r\n    if( this.state.addr.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => (item.street + ' ' + item.home).toLowerCase() .indexOf(this.state.addr.toLowerCase()) !== -1 );\r\n    }\r\n\r\n    this.setState({\r\n      ordersRender: renderOrders\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Заказ #{this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <Grid container spacing={0}>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.type_order}: {this.state.showOrder.order.type_order_addr_new}</span>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.time_order_name}: {this.state.showOrder.order.time_order}</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.number.length > 1 ? \r\n                  <Grid item xs={12}>\r\n                    <b>Телефон: </b> \r\n                    <span>{this.state.showOrder.order.number}</span> \r\n                  </Grid>\r\n                    : \r\n                  null\r\n                }\r\n\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>Удален: {this.state.showOrder.order.date_time_delete}</span></Grid> : null}\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>{this.state.showOrder.order.delete_reason}</span></Grid> : null}\r\n                \r\n                { parseInt(this.state.showOrder.order.is_preorder) == 1 ? null :\r\n                  <Grid item xs={12}><span>{this.state.showOrder.order.text_time}{this.state.showOrder.order.time_to_client}</span></Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}><span>{this.state.showOrder.order.textTime}</span></Grid>\r\n                \r\n                \r\n                { this.state.showOrder.order.promo_name == null || this.state.showOrder.order.promo_name.length == 0 ? null :\r\n                  <>\r\n                    <Grid item xs={12}>\r\n                      <b>Промокод: </b>\r\n                      <span>{this.state.showOrder.order.promo_name}</span>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <span className=\"noSpace\">{this.state.showOrder.order.promo_text}</span>\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                { this.state.showOrder.order.comment == null || this.state.showOrder.order.comment.length == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Комментарий: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                { this.state.showOrder.order.sdacha == null || parseInt(this.state.showOrder.order.sdacha) == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Сдача: </b>\r\n                    <span>{this.state.showOrder.order.sdacha}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}>\r\n                  <b>Сумма заказа: </b>\r\n                  <span>{this.state.showOrder.order.sum_order} р</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.check_pos_drive == null || !this.state.showOrder.order.check_pos_drive ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Довоз оформлен: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12}>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { this.state.showOrder.order_items.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell>{item.name}</TableCell>\r\n                          <TableCell>{item.count}</TableCell>\r\n                          <TableCell>{item.price} р</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>Сумма закза</TableCell>\r\n                        <TableCell></TableCell>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>{this.state.showOrder.order.sum_order} р</TableCell>\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>\r\n                </Grid>\r\n\r\n                <Accordion style={{ width: '100%' }}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>Расформировка</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <Table size={'small'} style={{ marginTop: 15 }}>\r\n                      <TableBody>\r\n                        { this.state.showOrder.order_items_.map( (item, key) =>\r\n                          <TableRow key={key}>\r\n                            <TableCell>{item.name}</TableCell>\r\n                            <TableCell style={{ backgroundColor: parseInt(item.ready) > 0 ? '#6ab04c' : '#eb4d4b' }}></TableCell>\r\n                          </TableRow>\r\n                        ) }\r\n                      </TableBody>\r\n                    </Table>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n\r\n            { parseInt( this.state.showOrder.order.is_delete ) == 0 && parseInt( this.state.showOrder.order.status_order ) !== 6 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={ this.closeOrder.bind(this) }>Отменить заказ</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n\r\n            { parseInt( this.state.showOrder.order.type_order_ ) == 1 && parseInt( this.state.showOrder.order.status_order ) > 4 && parseInt( this.state.showOrder.order.check_pos ) >= 0 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItemYellow\" onClick={ this.fakeUser.bind(this) }>Клиент не вышел на связь</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialogDel}\r\n            onClose={ () => { this.setState({ modalDialogDel: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Отмена заказа {this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup name=\"typeDel\" value={ this.state.typeDel } onChange={this.changeAddr} >\r\n                  {this.state.radiogroup_options.map((item, key) => \r\n                    <FormControlLabel key={key} value={item.id} control={<Radio />} label={item.label} />\r\n                  )}\r\n                </RadioGroup>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                //autoFocus\r\n                onFocus={ () => { this.setState({ typeDel: '4' }) } }\r\n                value={ this.state.textDel }\r\n                onChange={ this.changeText.bind(this) }\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label=\"Причина отмены\"\r\n                type=\"text\"\r\n                fullWidth\r\n              />\r\n\r\n            </DialogContent>\r\n\r\n            <DialogActions style={{ paddingBottom: 24 }}>\r\n\r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={() => { this.setState({delOrder: false}) }}>К заказу</Button>\r\n              </ButtonGroup>\r\n              \r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={this.closeOrderTrue.bind(this)}>Отменить заказ</Button>\r\n              </ButtonGroup>\r\n\r\n            </DialogActions>\r\n                \r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label={'Дата'} value={this.state.date} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Номер телефона'} value={this.state.number} func={ this.changeNumber.bind(this) } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Адрес'} value={this.state.addr} func={ this.changeAddrSt.bind(this) } />\r\n          </Grid>\r\n\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.btnGetOrders.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Tabs value={this.state.indexTab} onChange={this.changePoint.bind(this)}>\r\n              { this.state.need_point_list.map( (item, key) =>\r\n                <Tab key={key} label={item.name} onClick={this.getOrders.bind(this)} {...a11yProps(parseInt(item.id))} />\r\n              ) }\r\n            </Tabs>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Оформил</TableCell>\r\n                  <TableCell>Номер клиента</TableCell>\r\n                  <TableCell>Адрес доставки</TableCell>\r\n                  <TableCell>Время открытия заказа</TableCell>\r\n                  \r\n                  <TableCell>Ко времени</TableCell>\r\n                  <TableCell>Закрыт на кухне</TableCell>\r\n                  <TableCell>Получен клиентом</TableCell>\r\n\r\n                  <TableCell>До просрочки</TableCell>\r\n                  <TableCell>Время обещ</TableCell>\r\n\r\n                  <TableCell>Тип</TableCell>\r\n                  <TableCell>Статус</TableCell>\r\n\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Оплата</TableCell>\r\n                  <TableCell>Водитель</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.ordersRender.map( (item, key) =>\r\n                  <TableRow key={key} style={ parseInt(item.is_delete) == 1 ? {backgroundColor: 'red', color: '#fff', fontWeight: 'bold'} : {} }>\r\n                    <TableCell style={ parseInt(item.dist) >= 0 ? {backgroundColor: 'yellow', color: '#000', cursor: 'pointer', fontWeight: 'inherit'} : {color: 'inherit', cursor: 'pointer', fontWeight: 'inherit'} } onClick={this.showOrder.bind(this, item.id)}>{item.id}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_user}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.number}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.street} {item.home}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.date_time_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit', backgroundColor: parseInt(item.is_preorder) == 1 ? '#bababa' : 'inherit' }}>{item.need_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{ item.give_data_time == '00:00:00' ? '' : item.give_data_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.close_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.to_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.unix_time_to_client == '0' || parseInt(item.is_preorder) == 1 ? '' : item.unix_time_to_client}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_order}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.status}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.order_price}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_pay}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.driver}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Concenter () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Concenter_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass DriveMapStatAll_ extends React.Component {\r\n  map = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      //classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'drive_map_stat_all',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      drivers: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.getOrders(res.orders, res.home, res.drivers)\r\n\r\n    this.setState({\r\n      drivers: res.drivers\r\n    })\r\n\r\n    console.log( res.drivers )\r\n  }\r\n  \r\n  getOrders(orders, home, drivers){\r\n    \r\n      \r\n      //setTimeout( () => {\r\n        let objectManager = new ymaps.ObjectManager();\r\n        \r\n        if( !this.map ){\r\n          ymaps.ready(() => {\r\n            this.map = new ymaps.Map('map', {\r\n              center: [home.latitude, home.longitude],\r\n              zoom: 11\r\n            }, {\r\n              searchControlProvider: 'yandex#search'\r\n            })\r\n            \r\n            //дом\r\n            let myGeoObject = new ymaps.GeoObject({\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [home.latitude, home.longitude]\r\n              },\r\n            }, {\r\n              preset: 'islands#blackDotIcon', \r\n              iconColor: 'black'\r\n            })\r\n            \r\n            this.map.geoObjects.add(myGeoObject);\r\n            \r\n            \r\n            \r\n            let json = {\r\n              \"type\": \"FeatureCollection\",\r\n              \"features\": []\r\n            };\r\n                    \r\n            orders.map( function(item){\r\n            \r\n              json.features.push({\r\n                type: \"Feature\",\r\n                id: item.id,\r\n                options: {\r\n                  preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n                  iconColor: item.point_color ? item.point_color : item.color\r\n                },\r\n                properties: {\r\n                  iconCaption: item.point_text,\r\n                },\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [item.xy.latitude, item.xy.longitude]\r\n                },\r\n              })\r\n              \r\n            } )\r\n            \r\n            objectManager.add(json);\r\n\r\n            drivers.map( function(driver){\r\n              driver.positions.map( function(pos, key){\r\n  \r\n                pos['xy'] = JSON.parse(pos['xy'], true);\r\n  \r\n                json.features.push({\r\n                  type: \"Feature\",\r\n                  id: pos.id,\r\n                  options: {\r\n                    preset: 'islands#stretchyIcon', \r\n                    iconColor: driver.color,\r\n                  },\r\n                  properties: {\r\n                    iconContent: key\r\n                  },\r\n                  geometry: {\r\n                    type: \"Point\",\r\n                    coordinates: [pos['xy'][0], pos['xy'][1]],\r\n                  },\r\n                })\r\n  \r\n  \r\n              } )\r\n            } )\r\n  \r\n            objectManager.add(json);\r\n\r\n            this.map.geoObjects.add(objectManager);\r\n          });\r\n        }else{\r\n          \r\n          let json = {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": []\r\n          };\r\n                  \r\n          //дом\r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: 0,\r\n            options: {\r\n              preset: 'islands#blackDotIcon', \r\n              iconColor: 'black'\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [home.latitude, home.longitude]\r\n            },\r\n          })\r\n          \r\n          \r\n          orders.map( function(item){\r\n            \r\n            json.features.push({\r\n              type: \"Feature\",\r\n              id: item.id,\r\n              options: {\r\n                preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n                iconColor: item.point_color ? item.point_color : item.color\r\n              },\r\n              properties: {\r\n                iconCaption: item.point_text,\r\n                //iconCaption: parseInt(item.status_order) == 6 ? item.close_time_ : parseInt(item.is_pred) == 1 ? item.need_time : parseInt(item.is_my) == 1 ? item.time_start_mini : '',\r\n              },\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [item.xy.latitude, item.xy.longitude]\r\n              },\r\n            })\r\n            \r\n          } )\r\n          \r\n          objectManager.add(json);\r\n\r\n          drivers.map( function(driver){\r\n            driver.positions.map( function(pos, key){\r\n\r\n              pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n              json.features.push({\r\n                type: \"Feature\",\r\n                id: pos.id,\r\n                options: {\r\n                  preset: 'islands#stretchyIcon', \r\n                  iconColor: driver.color,\r\n                },\r\n                properties: {\r\n                  iconContent: key\r\n                },\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [pos['xy'][0], pos['xy'][1]],\r\n                },\r\n              })\r\n\r\n\r\n            } )\r\n          } )\r\n\r\n          objectManager.add(json);\r\n\r\n          this.map.geoObjects.removeAll()\r\n          this.map.geoObjects.add(objectManager);\r\n        }\r\n        \r\n        /*objectManager.objects.events.add(['click'], (e) => {\r\n          let order_id = e.get('objectId');\r\n          let order = this.state.orders.find( (item) => parseInt(item.id) == parseInt(order_id) );\r\n          \r\n          if( order ){\r\n            this.showOrder(order);\r\n          }\r\n        });*/\r\n        \r\n      //}, 300 )\r\n    \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.drivers.map( (item, key) =>\r\n              <div key={key} style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                <div style={{ width: 50, height: 20, backgroundColor: item.color }}></div>\r\n                <div>{item.driver_name}</div>\r\n              </div>\r\n            ) }\r\n          </Grid>       \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <div id=\"map\" name=\"map\" style={{ width: '100%', height: 700, paddingTop: 10 }} />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriveMapStatAll () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <DriveMapStatAll_ history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput, MyDaterange } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass DriverStat_ extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'driver_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      modalDialog: false,\r\n\r\n      drive_stat_full: [],\r\n      drive_stat_date: null,\r\n      summ: 0,\r\n      choose_driver_id: 0,\r\n      check_cash: 0,\r\n\r\n      getSumm: 0,\r\n      modalDialogGetSumm: false,\r\n      getSummDriverId: null,\r\n      getSummComment: '',\r\n\r\n      modalDialogStatSumm: false,\r\n      modalDialogStatSummMain: false,\r\n      statSumm: [],\r\n      statSummMain: [],\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.rangeDate[0],\r\n      date_end: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      drive_stat_full: res.drive_stat_full,\r\n      drive_stat_date: res.stat_drive_date\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd]\r\n    })\r\n  }\r\n\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n\r\n  giveCash(driver_id, check_cash){\r\n    this.setState({\r\n      modalDialog: true,\r\n      choose_driver_id: driver_id,\r\n      check_cash: check_cash\r\n    })\r\n  }\r\n\r\n  changeSumm(event){\r\n    this.setState({\r\n      summ: event.target.value,\r\n    })\r\n  }\r\n\r\n  async saveGivePrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.summ ) > parseInt( this.state.check_cash ) ){\r\n      alert('Нельзя сдать денег больше, чем есть у курьера');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.summ,\r\n      driver_id: this.state.choose_driver_id,\r\n    };\r\n    \r\n    let res = await this.getData('save_give', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialog: false,\r\n        check_cash: 0,\r\n        choose_driver_id: 0,\r\n        summ: 0\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  getCash(driver){\r\n    this.setState({\r\n      modalDialogGetSumm: true,\r\n      getSumm: 0,\r\n      getSummDriverId: driver,\r\n      getSummComment: ''\r\n    })\r\n  }\r\n\r\n  async saveGetPrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.getSumm ) > 1000 ){\r\n      alert('Нельзя выдать больше 1000р за раз');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.getSumm,\r\n      driver_id: this.state.getSummDriverId.driver_id,\r\n      comment: this.state.getSummComment\r\n    };\r\n    \r\n    let res = await this.getData('save_get', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialogGetSumm: false,\r\n        getSumm: 0,\r\n        getSummDriverId: null,\r\n        getSummComment: ''  \r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  async getStatDop(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.rangeDate[0],\r\n      date_end: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('getStatDop', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSumm: true,\r\n      statSumm: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  async getStatDopMain(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.rangeDate[0],\r\n      date_end: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('getStatDopMain', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSummMain: true,\r\n      statSummMain: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, check_cash: 0, choose_driver_id: 0, summ: 0 }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Какую сумму сдает курьер</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <MyTextInput label=\"\" value={this.state.summ} func={this.changeSumm.bind(this)} />\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGivePrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogGetSumm}\r\n          onClose={ () => { this.setState({ modalDialogGetSumm: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Дополнительная выплата курьеру \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} type='number' value={ this.state.getSumm } func={ (event) => { this.setState({ getSumm: event.target.value }) } } label='Сумма' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} maxRows={2} value={ this.state.getSummComment } func={ (event) => { this.setState({ getSummComment: event.target.value }) } } label='Комментарий' />\r\n              </Grid>\r\n\r\n            </Grid>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGetPrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSumm}\r\n          onClose={ () => { this.setState({ modalDialogStatSumm: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Доп выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Кто назначил</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Комментарий</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSumm.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{item.user_name}</TableCell>\r\n                    <TableCell>{item.price}</TableCell>\r\n                    <TableCell>{item.comment}</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) > 0 ? 'Довоз' : 'Доп выплата' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSummMain}\r\n          onClose={ () => { this.setState({ modalDialogStatSummMain: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Пользователь</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSummMain.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? '' : item.order_id }</TableCell>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{ parseInt(item.my_cash) == 0 ? item.give : item.my_cash }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? item.user_name : '' }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? 'Сдал' : 'С заказа' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n            <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                \r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Вся сумма</TableCell>\r\n                    <TableCell>Сумма по налу</TableCell>\r\n                    <TableCell>Сумма по безналу</TableCell>\r\n                    <TableCell>Кол-во по налу</TableCell>\r\n                    <TableCell>Кол-во по безналу</TableCell>\r\n                    <TableCell>К сдаче</TableCell>\r\n\r\n                    <TableCell>Сдал за период</TableCell>\r\n\r\n                    <TableCell>Довозы</TableCell>\r\n                    <TableCell style={{ display: 'none' }}>Ошибки</TableCell>\r\n                    <TableCell>-</TableCell>\r\n                    <TableCell>Заказы</TableCell>\r\n                    <TableCell>Заработал</TableCell>\r\n                    <TableCell>Налички на руках</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                  \r\n                  { this.state.drive_stat_full.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.full_sum}</TableCell>\r\n                      <TableCell>{item.full_cash}</TableCell>\r\n                      <TableCell>{item.full_bank}</TableCell>\r\n                      <TableCell>{item.count_cash}</TableCell>\r\n                      <TableCell>{item.count_bank}</TableCell>\r\n                      <TableCell>{item.sdacha}</TableCell>\r\n\r\n                      <TableCell>{item.give_by_date}</TableCell>\r\n\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDop.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.dop_price ? item.dop_price : 0}</Button>\r\n                      </TableCell>\r\n\r\n                      <TableCell style={{ display: 'none' }}>{item.err_summ}</TableCell>\r\n                      <TableCell>{item.my_price ? item.my_price : 0}</TableCell>\r\n\r\n                      \r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDopMain.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.my_orders}</Button>\r\n                      </TableCell>\r\n\r\n                      \r\n                      <TableCell>{item.my}</TableCell>\r\n                      <TableCell>{item.ost_cash}</TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.giveCash.bind(this, item.driver_id, item.ost_cash)}>Сдать</Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getCash.bind(this, item)}>Доп выплата</Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                \r\n                </TableBody>\r\n              \r\n              </Table>\r\n            </TableContainer>\r\n          </Grid>\r\n\r\n          { this.state.drive_stat_date == null ? null :\r\n            <Grid item xs={12}>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  \r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Курьер</TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <TableCell key={key} colSpan={4} style={{textAlign: 'center'}}>{item.date}</TableCell>\r\n                      ) }\r\n                    </TableRow>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <>\r\n                          <TableCell key={key+'_1'} style={{textAlign: 'center'}}>Наличка</TableCell>\r\n                          <TableCell key={key+'_2'} style={{textAlign: 'center'}}>Безнал</TableCell>\r\n                          <TableCell key={key+'_3'} style={{textAlign: 'center'}}>Сдача</TableCell>\r\n                          <TableCell key={key+'_4'} style={{textAlign: 'center'}}>Заработал</TableCell>\r\n                        </>\r\n                      ) }\r\n\r\n                    </TableRow>\r\n                  </TableHead>\r\n\r\n                  <TableBody>\r\n                    \r\n                    { this.state.drive_stat_date.unic_users.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell style={{borderRight: '1px solid #eee'}}>{item.short_name}</TableCell>\r\n\r\n                        { this.state.drive_stat_date.orders.map( function(order, order_k){\r\n\r\n                          let check = false,\r\n                            data = {};\r\n    \r\n                          order['new_users'].map(function(it, k){\r\n                            if(parseInt(it['driver_id']) == parseInt(item['driver_id']) && it['date'] == order['date']){\r\n                              check = true;\r\n                              data = it;\r\n                            }\r\n                          })\r\n\r\n                          if(check == false){\r\n                            return (\r\n                              <TableCell key={order_k} colSpan={4} style={{borderRight: '1px solid #eee'}}></TableCell>\r\n                            )\r\n                          }else{\r\n                            return (\r\n                              <>\r\n                                <TableCell key={order_k+'_1'} style={{textAlign: 'center'}}>{data.full_cash}</TableCell>\r\n                                <TableCell key={order_k+'_2'} style={{textAlign: 'center'}}>{data.full_bank}</TableCell>\r\n                                <TableCell key={order_k+'_3'} style={{textAlign: 'center'}}>{data.sdacha}</TableCell>\r\n                                <TableCell key={order_k+'_4'} style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{data.my}</TableCell>\r\n                              </>\r\n                            )\r\n                          }\r\n\r\n                        })}\r\n\r\n                      </TableRow>\r\n                    )}\r\n                  </TableBody>\r\n                \r\n                  <TableFooter>\r\n                    \r\n                    <TableRow>\r\n                      <TableCell style={{borderRight: '1px solid #eee'}}></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <>\r\n                          <TableCell key={key+'_1'} style={{textAlign: 'center'}}>{item.full_cash}</TableCell>\r\n                          <TableCell key={key+'_2'} style={{textAlign: 'center'}}>{item.full_bank}</TableCell>\r\n                          <TableCell key={key+'_3'} style={{textAlign: 'center'}}>{item.sdacha}</TableCell>\r\n                          <TableCell key={key+'_4'} style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{item.my}</TableCell>\r\n                        </>\r\n                      )}\r\n                        \r\n\r\n                    </TableRow>\r\n                    \r\n                  </TableFooter>\r\n\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriverStat () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <DriverStat_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass Events_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'events',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      mounths: [],\r\n      years: [],\r\n      year: '0',\r\n      \r\n      calendar: [],\r\n      modalDialog: false,\r\n      \r\n      chooseDayHoly: '',\r\n      events: [],\r\n      chooseEvent: 0,\r\n      \r\n      eventPoint1: 0,\r\n      everyYear1: false,\r\n      timeStart2: '10:00',\r\n      timeEnd2: '21:30',\r\n      \r\n      expanded: '',\r\n      dayEvents: [],\r\n      events_hist: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n      mounths: data.mounth,\r\n      mounth: data.this_m,\r\n      years: data.years,\r\n      year: data.this_y,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeMounth(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      mounth: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeYear(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      year: data\r\n    })\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      m: this.state.mounth,\r\n      y: this.state.year,\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_calendar', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      calendar: res.year,\r\n    })\r\n  }\r\n  \r\n  async chooseDay(day){\r\n    \r\n    if( day.full_day ){\r\n    \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false,\r\n        events_hist: []\r\n      })\r\n      \r\n      let data = {\r\n        date: day.full_day,\r\n        point_id: this.state.point\r\n      };\r\n      \r\n      let res = await this.getData('get_calendar_day', data);\r\n      \r\n      console.log( 'res', res )\r\n      \r\n      this.setState({\r\n        chooseDay: day,\r\n        chooseDayHoly: res.holy,\r\n        events: res.events,\r\n        events_hist: res.hist,\r\n        dayEvents: res.this_events,\r\n        modalDialog: true\r\n      })\r\n    }\r\n  }\r\n  \r\n  changeEvent(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      chooseEvent: data\r\n    })\r\n  }\r\n  \r\n  changePoint1(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      eventPoint1: data\r\n    })\r\n  }\r\n  \r\n  changeEveryYear1(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      everyYear1: data\r\n    })\r\n  }\r\n  \r\n  changeTimeStart2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeStart2: data\r\n    })\r\n  }\r\n  \r\n  changeTimeEnd2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeEnd2: data\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      date: this.state.chooseDay.full_day,\r\n      point_id: this.state.eventPoint1,\r\n      event: this.state.chooseEvent,\r\n      every_year: this.state.everyYear1 === true ? 1 : 0,\r\n      \r\n      time_start: this.state.timeStart2,\r\n      time_end: this.state.timeEnd2,\r\n    };\r\n    \r\n    let res = await this.getData('save_event', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  handleChange(data){\r\n    this.setState({\r\n      expanded: data\r\n    })\r\n  }\r\n  \r\n  async delEvent(event){\r\n    console.log( 'delEvent', event )\r\n    \r\n    if (confirm('Удалить событие \"'+event.title+' '+event.date+'\" ?')) {\r\n      let data = {\r\n        del_id: event.id\r\n      };\r\n      \r\n      let res = await this.getData('del_event', data);\r\n      \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    } else {\r\n      \r\n    }\r\n    \r\n\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.chooseDay ? this.state.chooseDay.full_day : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                {this.state.chooseDayHoly.length == 0 ? null :\r\n                  <Grid item xs={12} sm={12}>\r\n                    <Typography component=\"span\">{this.state.chooseDayHoly}</Typography>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect classes={this.state.classes} data={this.state.events} value={this.state.chooseEvent} func={ this.changeEvent.bind(this) } label='Событие' />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect classes={this.state.classes} data={this.state.points} value={ this.state.eventPoint1 } func={ this.changePoint1.bind(this) } label='Точка' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.chooseEvent) !== 2 ? null :\r\n                  <>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker classes={this.state.classes} value={ this.state.timeStart2 } func={ this.changeTimeStart2.bind(this) } label='Время начала работы' />\r\n                    </Grid>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker classes={this.state.classes} value={ this.state.timeEnd2 } func={ this.changeTimeEnd2.bind(this) } label='Время окончания работы' />\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyCheckBox classes={this.state.classes} value={ this.state.everyYear1 } func={ this.changeEveryYear1.bind(this) } label='Каждый год' />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n              \r\n              <List component=\"nav\">\r\n                { this.state.dayEvents.map( (item, key) => \r\n                  <ListItem key={key}>\r\n                    <ListItemText primary={item.title} />\r\n                    { parseInt(item.type) == 4 ? null :\r\n                      <CloseIcon color=\"primary\" onClick={this.delEvent.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                    }\r\n                  </ListItem>\r\n                )}\r\n              </List>\r\n              \r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List component=\"nav\">\r\n                    { this.state.events_hist.map( (item, key) => \r\n                      <ListItem key={key}>\r\n                        <ListItemText primary={item.title} />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.save.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.mounths} value={this.state.mounth} func={ this.changeMounth.bind(this) } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.years} value={this.state.year} func={ this.changeYear.bind(this) } label='Год' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }}>\r\n            \r\n            { this.state.calendar.map( (item, key) =>\r\n            \r\n              <Grid item xs={12} sm={4} key={key} style={{ padding: 20 }}>\r\n                <h1 style={{ textAlign: 'center' }}>{ item[0][0].mounth }</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" style={{ overflow: 'hidden' }}>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Пн</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Вт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Ср</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Чт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Пт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Сб</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Вс</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { item.map( (mounth, m_key) =>\r\n                        <TableRow key={m_key}>\r\n                          { mounth.map( (day, k) =>\r\n                            <TableCell \r\n                              key={k} \r\n                              onClick={ this.chooseDay.bind(this, day) } \r\n                              \r\n                              style={{ color: day.dir ? 'yellow' : day.holy ? '#c03' : '#000' }}\r\n                              \r\n                              className={ day.event ? this.state.classes.customCel : this.state.classes.tableCel }\r\n                            > { day.day } </TableCell>\r\n                          ) }\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            )}\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Events () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Events_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n});\r\n\r\nclass Home_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      module: 'home',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} style={{ height: '100vh' }}>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Home () {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <Home_ classes={classes} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Live_Orders extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'live_orders',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          { this.state.points.length > 0 ?\r\n            <>\r\n              <Grid item xs={6} sm={6}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n              </Grid>\r\n              <Grid item xs={6} sm={6}>\r\n                <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyCheckBox value={this.state.showReady} func={ this.changeCheckOrders.bind(this) } label='Показывать готовые' />\r\n              </Grid>\r\n            </>\r\n              :\r\n            null\r\n          }\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Тип</TableCell>\r\n                    <TableCell>Время заказа</TableCell>\r\n                    <TableCell>Время предзакза</TableCell>\r\n                    \r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Во сколько собрали</TableCell>\r\n                    <TableCell>Закрыли</TableCell>\r\n                    \r\n                    <TableCell>Приготовили</TableCell>\r\n                    <TableCell>Отдали</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                    \r\n                    <TableCell>Статус</TableCell>\r\n                    <TableCell>Стол</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.read.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell>{item.give_data_time_}</TableCell>\r\n                      <TableCell>{item.close_date_time_order}</TableCell>\r\n                      \r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) == 1 ? '' : item.color}}>{item.time_}</TableCell>\r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) != 1 ? '' : item.color}}>{item.test_time}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                  {this.state.onstol.map( (item, key) => (\r\n                    <TableRow key={key} style = {{backgroundColor: 'yellow'}}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      \r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Пред</TableCell>\r\n                    <TableCell>Время оформления</TableCell>\r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Время закрытия</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.ordersQueue.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 1 ? item.date_time_preorder : '' }</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.date_time_order : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.time_start_order}</TableCell>\r\n                      <TableCell>{item.time_end_order}</TableCell>\r\n                      \r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function LiveOrders () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Live_Orders history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite, MyDaterange } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasByBill_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'ras_by_bill',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      points: [],\r\n      point: [],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      items: [],\r\n      cats: [],\r\n      items_cat: [],\r\n      item_cat: 0,\r\n      \r\n      myItems: [],\r\n      \r\n      calendar: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      \r\n      items: data.items,\r\n      cats: data.cats,\r\n      items_cat: data.items_cat\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n  \r\n  changeItems(event, data){\r\n    this.setState({\r\n      myItems: data\r\n    })\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      item_cat: this.state.item_cat,\r\n      start_date: this.state.rangeDate[0],\r\n      end_date: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev', data);\r\n    \r\n    let summ = 0;\r\n    \r\n    res.items_ras.map( (item, key) => {\r\n      summ += parseFloat(item.sum);\r\n    } )\r\n    \r\n    this.setState({\r\n      resItems: {\r\n        items_ras: res.items_ras,\r\n        pf_ras: res.pf_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      catItems: null\r\n    })\r\n  }\r\n  \r\n  async getCats(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      start_date: this.state.rangeDate[0],\r\n      end_date: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev_cat', data);\r\n    \r\n    \r\n    let summ = 0;\r\n    \r\n    res.rec_ras.map( (item, key) => {\r\n      summ += parseFloat(item.this_price);\r\n    } )\r\n    \r\n    this.setState({\r\n      catItems: {\r\n        count_pos: res.count_pos,\r\n        items_ras: res.items_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      resItems: null\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd]\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">  </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => {} } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} multiple={true} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={4} className=\"MyDaterange\">\r\n            <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={5}>\r\n            <MySelect classes={this.state.classes} data={this.state.items_cat} multiple={false} value={this.state.item_cat} func={ (event) => {this.setState({ item_cat: event.target.value })} } label='Категория товара' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.items} multiple={true} value={this.state.myItems} func={ this.changeItems.bind(this) } label='Заготовки' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getItems.bind(this)}>Показать заготовки</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getCats.bind(this)}>Показать категории</Button>\r\n          </Grid>\r\n        \r\n        \r\n          { this.state.resItems && this.state.resItems.items_ras ?\r\n              \r\n            <>\r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Куплено по наклданым</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование товара</TableCell>\r\n                        <TableCell>Объем товра</TableCell>\r\n                        <TableCell>Объем заготовки</TableCell>\r\n                        <TableCell>Сумма</TableCell>\r\n                        <TableCell>Кол-во наклданых</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.items_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.name } </TableCell>\r\n                          <TableCell> { item.count_item + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name_pf } </TableCell>\r\n                          <TableCell> { item.sum } </TableCell>\r\n                          <TableCell> { item.count_bill } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                      <TableRow>\r\n                        <TableCell> Всего: </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> { this.state.resItems.full_sum } </TableCell>\r\n                        <TableCell> </TableCell>\r\n                      </TableRow>\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход заготовок (включая рецепты)</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                        <TableCell>Сумма роллов (примерно)</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.pf_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                          <TableCell> { item.price_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход рецептов</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.rec_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            </>\r\n              :\r\n            null              \r\n          }\r\n          \r\n          { this.state.catItems && this.state.catItems.rec_ras ?\r\n            <Grid item xs={12}>\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '50%' }}>Роллов: {this.state.catItems.count_pos.count_rolls}</Typography>\r\n                  <Typography style={{ width: '50%' }}>Пиццы: {this.state.catItems.count_pos.count_pizza}</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n              { this.state.catItems.rec_ras.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                  >\r\n                    <Typography style={{ width: '60%' }}>{item.name}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.this_price}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.price_by_items}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                    { item.parent_cat.map( (it, k) =>\r\n                      <Accordion key={k}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                        >\r\n                          <Typography style={{ width: '60%', paddingLeft: 20 }}>{it.name}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.this_price}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.price_by_items}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          <Accordion disabled={true}>\r\n                            <AccordionSummary>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товар</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товара</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Заготовок</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Накладных</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Сумма</Typography>\r\n                            </AccordionSummary>\r\n                          </Accordion>\r\n                          \r\n                          { it.items.map( (parent_items, parent_key) =>\r\n                            <Accordion key={parent_key} disabled={true}>\r\n                              <AccordionSummary>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_item} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_pf} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_bill}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.sum}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                          \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    ) }\r\n                    \r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) }\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '60%', marginRight: -15 }}>Всего:</Typography>\r\n                  <Typography style={{ width: '40%' }}>{ this.state.catItems.full_sum }</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n            </Grid>\r\n              :\r\n            null              \r\n          }\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasByBill () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RasByBill_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 150,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  avatar2: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 130,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  backButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  textLink: {\r\n    color: '#c03'\r\n  }\r\n});\r\n\r\nclass Reg_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: '',\r\n      \r\n      activeStep: 0,\r\n      steps: ['Телефон', 'Подтверждение', 'Новый пароль'],\r\n      \r\n      phone: '',\r\n      code: '',\r\n      pwd: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        this.state.history.push(\"/auth\");\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async nextStep(){\r\n    if( this.state.activeStep == 0 ){\r\n      let data = {\r\n        login: document.getElementById('phone').value\r\n      }\r\n      \r\n      let res = await this.getData('check_phone', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          phone: data.login\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 1 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n\t\t\t  code: document.getElementById('code').value\r\n      }\r\n      \r\n      let res = await this.getData('check_code', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          code: data.code\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 2 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n        code: this.state.code,\r\n        pwd: document.getElementById('password').value\r\n      }\r\n      \r\n      let res = await this.getData('save_new_pwd', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        localStorage.setItem('token', res.token)\r\n      \r\n        setTimeout( () => {\r\n          window.location.pathname = '/'\r\n        }, 300)\r\n      }\r\n    }\r\n  }\r\n  \r\n  enterNextStep(event){\r\n    if( event.charCode == 13 ){\r\n      this.nextStep();\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div className={this.state.classes.paper}>\r\n              <Avatar className={this.state.classes.avatar}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              \r\n              <Stepper activeStep={this.state.activeStep} alternativeLabel style={{ width: '100%' }}>\r\n                {this.state.steps.map((label) => (\r\n                  <Step key={label}>\r\n                    <StepLabel>{label}</StepLabel>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n              <div className={this.state.classes.form} style={{ width: '100%' }}>\r\n                \r\n                { this.state.activeStep == 0 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"phone\"\r\n                    label=\"Номер телефона\"\r\n                    name=\"phone\"\r\n                    autoComplete=\"phone\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 1 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"code\"\r\n                    label=\"Код из смс\"\r\n                    name=\"code\"\r\n                    autoComplete=\"code\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 2 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />\r\n                    :\r\n                  null\r\n                }\r\n                                  \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={this.state.classes.submit}\r\n                  onClick={ this.nextStep.bind(this) }\r\n                >\r\n                  Дальше\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/auth\" className={this.state.classes.textLink}>Вернуться к авторизации</a>\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                \r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Reg () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Reg_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport RestoreIcon from '@mui/icons-material/Restore';\r\nimport SaveIcon from '@mui/icons-material/SaveAs';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport Paper from '@mui/material/Paper';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n}));\r\n\r\n// главная страница\r\nclass Revizion_ extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      search: '',\r\n\r\n      items: [],\r\n      pf: [],\r\n      rec: [],\r\n      items_b: [],\r\n      pf_b: [],\r\n      rec_b: [],\r\n      all_data: [],\r\n        \r\n      chooseTab: 0,\r\n      \r\n    };\r\n    }\r\n\r\n  // переменные для фильтра\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name,\r\n\t  all_data: data.get_data_for_new_rev\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n   // смена точки\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n       point: data,\r\n       search: ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getRevList();\r\n    }, 50 )\r\n    }\r\n\r\n  // смена ревизии\r\n  changeRev(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n        chooseRev: data,\r\n        search : ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n\r\n   // поиск\r\n   async search(event){\r\n\t    \r\n\t\tlet data = {\r\n\t\t\tpoint_id: this.state.point,\r\n\t\t\tshowReady: this.state.showReady === true ? 1 : 0\r\n\t\t};\r\n    \r\n        // дергаем товары, полуфабрикаты, рецпеты\r\n        let res = this.state;\r\n        let items, rec, pf, text;\r\n        text = event.target.value.toLowerCase();\r\n\r\n        // Фильтрация\r\n        items = this.state.items_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        rec = this.state.rec_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        pf = this.state.pf_b.filter((item) => item.name.toLowerCase().includes(text));\r\n\r\n        this.setState({\r\n            items  : items,\r\n            rec    : rec,\r\n            pf     : pf,\r\n            search : text\r\n         })\r\n\t\r\n  }\r\n\r\n   // метод обновления данных\r\n  async updateData(){\r\n\t  \r\n    let data = {\r\n      rev_id\t: this.state.chooseRev,\r\n      point_id\t: this.state.point,\r\n    };\r\n\t\r\n\t// to do переписать\r\n    let res = await this.getData('get_data_rev', data);\r\n          \r\n\t// отрисовка\r\n\tthis.setState({\r\n      items     : res.item,\r\n      rec       : res.rec,\r\n      pf        : res.pf,\r\n      items_b   : res.item,\r\n      rec_b     : res.rec,\r\n      pf_b      : res.pf,\r\n    })\r\n  }\r\n\r\n   // получение списка ревизий\r\n  async getRevList(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n    \r\n    this.setState({\r\n      revList: res,\r\n      chooseRev: res.length > 0 ? res[0]['id'] : ''\r\n    })\r\n    \r\n    if( res.length > 0 ){\r\n      setTimeout( () => {\r\n        this.getDataRev();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n   // получение данных ревизии\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      rev_id: this.state.chooseRev\r\n    };\r\n    \r\n    let res = await this.getData('get_data_rev', data);\r\n    \r\n    this.setState({\r\n        items: res.item,\r\n        rec: res.rec,\r\n        pf: res.pf,\r\n        items_b: res.item,\r\n        rec_b: res.rec,\r\n        pf_b: res.pf,\r\n    })\r\n    }\r\n\r\n\r\n   // рендер главная\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Link to={\"/revizion/new\"}>Новая ревизия</Link>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.revList} value={this.state.chooseRev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\t\t  <Grid item xs={12} sm={6}>\r\n\t\t\t<MyTextInput  classes={this.state.classes} func={ this.search.bind(this) } label='Поиск' value={this.state.search} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Товар</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.items.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Заготовка</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.pf.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// Данные для страницы новая ревизия\r\nclass RevizionNewItem extends React.Component{\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        item    : this.props.item,\r\n        pf      : this.props.pf,\r\n        change  : this.props.change,\r\n        type    : this.props.type,\r\n    };\r\n   }\r\n\r\n    // to do del\r\n    componentWillMount() {\r\n        //console.log('Will type=' + this.state.type);\r\n    }\r\n    componentDidMount() {\r\n        //console.log('type=' + this.state.type);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n        this.state.change !== nextState.change ||\r\n        this.state.change !== nextProps.change\r\n    );\r\n    }\r\n  \r\n  render(){\r\n    return (\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          //aria-controls=\"panel1a-content\"\r\n          //id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{ width: '60%' }}>{this.state.item.name} </Typography>\r\n          <Typography style={{ width: '40%' }}>{this.state.item.value} {this.state.item.ei_name} </Typography>\r\n        </AccordionSummary>\r\n\r\n            {/* Товары */}\r\n            {this.state.type != 'item'  ? null :\r\n                <AccordionDetails>\r\n                    {this.state.item.counts.map((it, k) =>\r\n                        \r\n                        <Grid container spacing={3} key={k} style={{ paddingTop: 10, paddingBottom: 10 }}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <MySelect data={this.state.item.size} value={it.need_pq} func={this.props.func.bind(this, 'item', this.props.itemKey, 'need_pq', k)} label='Объем упаковки' />\r\n                            </Grid>\r\n                            <Grid item xs={k == 0 ? 12 : 9} sm={5}>\r\n                                <TextField value={it.value} onChange={this.props.func.bind(this, 'item', this.props.itemKey, 'value', k)} fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                            </Grid>\r\n                            {k == 0 ? null :\r\n                                <Grid item xs={3} sm={1}>\r\n                                    <Button onClick={this.props.clear.bind(this, 'item', this.props.itemKey, k)} variant=\"contained\"> <CloseIcon /> </Button>\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        \r\n                    ) }\r\n          \r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button variant=\"contained\" onClick={this.props.copy.bind(this, 'item', this.props.itemKey)}>Дублировать</Button>\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n            { /* Заготовки */}\r\n            {this.state.type != 'pf' ? null :\r\n                <AccordionDetails> \r\n                    <Grid item sm={5}> \r\n                        <TextField value={this.state.pf.value} onChange={ this.props.func.bind(this, 'pf', this.props.itemKey, 'value', 0) }  fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n      </Accordion>\r\n    )\r\n  }\r\n}\r\n\r\n// Новая ревизия\r\nclass RevizionNew_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      storages: [],\r\n      items: [],\r\n      rec: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      modalDialog: false,\r\n      open: false\r\n    };\r\n    }\r\n\r\n\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n\r\n    // измение точки подгрузка данных\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300)\r\n\r\n    }\r\n\r\n  // метод получения данных\r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n\t  \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n    // получаем данные\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_data_for_new_rev', data);\r\n      \r\n    this.setState({\r\n      storages: res['storages'],\r\n      items: res['items'],\r\n      rec: res['rec'],\r\n      pf: res['pf']\r\n    })\r\n\r\n  }\r\n\r\n  // предварительное сохранение\r\n  saveData(type, key_item, data, key_data, event){\r\n      console.log('saveData');\r\n\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'][key_data][ [data] ] = event.target.value;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n      }\r\n\r\n      if (type == 'pf') {\r\n\r\n          let pf = this.state.pf;\r\n         \r\n          pf[key_item]['value'] = event.target.value;\r\n          pf[key_item]['change']++;\r\n\r\n          this.setState({\r\n              pf: pf\r\n          })\r\n          console.log('pf', pf);\r\n      }\r\n    \r\n  }\r\n\r\n   // проверка полей, отображения модального окна\r\n   checkData() {\r\n       console.log('checkData');\r\n       let items = this.state.items;\r\n       let pf = this.state.pf;\r\n\r\n       // проверка заполнения полей товаров, скрываем не заполненные\r\n       items.map((item, key) =>  {\r\n            if(item.value != 0){\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('item=', item, ' key ', key);\r\n       })\r\n\r\n       pf.map((item, key) => {\r\n            if (item.value != 0) {\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('pf=', item, ' pf ', key);\r\n       })\r\n\r\n       this.setState({\r\n           items: items,\r\n           pf   : pf\r\n       })\r\n\r\n       this.setState({\r\n           modalDialog: true,\r\n           titleDialog: 'Ты уверен в правильности этих позиций ?'\r\n       })\r\n   }\r\n\r\n  // копируем\r\n  copyData(type, key_item){\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'].push({ need_pq: items[key_item]['counts'][0]['need_pq'], value: 0 })\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n  }\r\n\r\n  // очищаем\r\n  clearData(type, key_item, key_data){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      let new_counts = [];\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        if( key != key_data ){\r\n          new_counts.push( item )\r\n        }\r\n      } )\r\n      \r\n      items[key_item]['counts'] = new_counts;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  // получение данных ревизии\r\n  async saveRev() {\r\n    let data = {\r\n        point_id: this.state.point,\r\n        item: this.state.item,\r\n        rec: this.state.rec,\r\n        pf: this.state.pf,\r\n    };\r\n    console.log('saveRev ', data);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новая ревизии</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.checkData.bind(this)} >Сохранить</Button>\r\n           </Grid>\r\n\r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n\r\n            {/* Товары * to do меняем TabPanel на div и в стилях скрываем style: this.state.chooseTab == 1 ? {display: blovk} : {display: monr} */}\r\n            <div style = { this.state.chooseTab == 0 ? {display: 'block'} : {display: 'none'} } >\r\n              \r\n              {this.state.items.map((item, key) => \r\n                parseInt(item.is_show) == 0 ? null :\r\n                   <RevizionNewItem key={key} type=\"item\" itemKey={key} item={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this)} />\r\n              )} \r\n              \r\n            </div>\r\n\r\n            {/* Заготовки */}\r\n            <div style={this.state.chooseTab == 1 ? { display: 'block' } : { display: 'none' }} >\r\n\r\n                {this.state.pf.map((item, key) =>\r\n                   parseInt(item.is_show) == 0 ? null :\r\n                    <RevizionNewItem key={key} type=\"pf\" itemKey={key} item={item} pf={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this) } />\r\n                )}\r\n              \r\n            </div>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.storages.map( (item, key) =>\r\n                <ListItem button key={key}>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        { this.state.storages.length == 0 ? null :\r\n          <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n            <BottomNavigation\r\n              showLabels\r\n             \r\n            >\r\n              <BottomNavigationAction onClick={(event, newValue) => {\r\n                            this.setState({ open: true })\r\n                        }}  label=\"Recents\" icon={<RestoreIcon />} />\r\n                        <BottomNavigationAction onClick={this.checkData.bind(this)} label=\"Save\" icon={<SaveIcon />} />\r\n            </BottomNavigation>\r\n          </Paper>\r\n         }\r\n\r\n        <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={() => { this.setState({ modalDialog: false }) }}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{this.state.titleDialog}</DialogTitle>\r\n                <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <Grid container spacing={3}>Не все поля заполнены </Grid>\r\n                    </DialogContentText>\r\n\r\n                    <Grid container spacing={3}>\r\n                        <Grid item>Позиция </Grid>\r\n                        <Grid item>Кол-во </Grid>\r\n                        <Grid item>Ед. измер. </Grid>\r\n                    </Grid>\r\n                        \r\n                    \r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\">Хорошо</Button>\r\n                <Button color=\"primary\">Сохранить</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Revizion () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Revizion_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function RevizionNew () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RevizionNew_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nclass MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSale2_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new');\r\n    \r\n    let date = new Date();\r\n    let fullDate = '';\r\n    \r\n    let Y = date.getFullYear();\r\n    let M = date.getMonth()+1;\r\n    let D = date.getDate();\r\n    \r\n    fullDate = Y + '-' + ( parseInt(M) > 9 ? M : '0'+M ) + '-' + ( parseInt(D) > 9 ? D : '0'+D );\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      date_start: fullDate,\r\n      date_end: fullDate,\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n\r\n            <br />\r\n\r\n            <Typography>Созданыне промокоды: { this.state.createdPromo.join(', ') }</Typography>\r\n\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { this.state.generate_new === true ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.promo_name} func={ this.changeData.bind(this, 'promo_name') } label='Название промокода' />\r\n              </Grid>\r\n            }\r\n            { this.state.generate_new === false ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox classes={this.state.classes} value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect classes={this.state.classes} data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            \r\n            }\r\n            \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox classes={this.state.classes} value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n            \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass SiteSale2_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: 0,\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_2/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_2/stat\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Статистика</Button>\r\n              </Link>\r\n\r\n              <Link to={\"/site_sale_2/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_2/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_Stat_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      spam_list: [],\r\n      spam_id: 0,\r\n      findPromoList: [],\r\n      \r\n      spam_list_data: [],\r\n      spam_list_data_stat: {\r\n        true: 0,\r\n        all: 0,\r\n        percent: 0\r\n      },\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n  \r\n  changeSpam(event){\r\n    this.setState({spam_id: event.target.value})\r\n    \r\n    setTimeout( () => {\r\n      this.show()\r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.spam_list} value={this.state.spam_id} func={ this.changeSpam.bind(this) } label='Рассылка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Всего</TableCell>\r\n                    <TableCell>Использовали</TableCell>\r\n                    <TableCell>%</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  <TableRow>\r\n                    <TableCell>{this.state.spam_list_data_stat.all}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.true}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.percent}</TableCell>\r\n                  </TableRow>\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Номер</TableCell>\r\n                    <TableCell>Ост активаций</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.spam_list_data.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>{item.number}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      \r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users', data);\r\n    \r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSale2_New () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_new_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Edit () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSale2_edit_ promoId={promoId} classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2 () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Stat () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_Stat_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_StatList () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_StatList_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\n//import * as am5 from \"@amcharts/amcharts5\";\r\n//import * as am5xy from \"@amcharts/amcharts5/xy\";\r\n//import am5themes_Animated from \"@amcharts/amcharts5/themes/Animated\";\r\n\r\n//import * as am4core from \"@amcharts/amcharts4/core\";\r\n//import * as am4charts from \"@amcharts/amcharts4/charts\";\r\n\r\nimport { MyTextInput, MySelect, MyAutocomplite, MyDaterange, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteStatMarc_ extends React.Component {\r\n  chartnewusers = null;\r\n  chartorders = null;\r\n  chartavgsumm = null;\r\n  chartcountpos = null;\r\n\r\n  chartnewusersD = null;\r\n  chartordersD = null;\r\n  chartavgsummD = null;\r\n  chartcountposD = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_stat_marc',\r\n      module_name: '',\r\n      is_load: false,\r\n      is_show_adv: false,\r\n\r\n      show_stat_roll:   false,\r\n      show_stat_set:    false,\r\n      show_stat_pizza:  false,\r\n      \r\n      choosePoint: [],\r\n      points: [],\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      promoName: '',\r\n\r\n      newUsersTable: [],\r\n      countOrdersTable: [],\r\n      avgSumm: [],\r\n      countPos: [],\r\n      fakeUsers: [],\r\n\r\n      roll_stat:    [],\r\n      set_stat:     [],\r\n      pizza_stat:   [],\r\n\r\n      typesShow: [\r\n        {id: 1, name: 'Итоговый результат'},\r\n        {id: 2, name: 'График по месяцам'},\r\n        {id: 3, name: 'График по дням'},\r\n      ],\r\n      typeShow: 1\r\n    };\r\n    }\r\n\r\n   \r\n\r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n    changeChekBox(type, event) {\r\n        this.setState({\r\n            [type]: event.target.checked\r\n        })\r\n    }\r\n\r\n  async show() {\r\n    let data = {\r\n      points: this.state.choosePoint,\r\n      dateStart: this.state.rangeDate[0],\r\n      dateEnd: this.state.rangeDate[1],\r\n      typeShow: this.state.typeShow,\r\n      promoName: this.state.promoName,\r\n      advData: this.state.advData,\r\n    };\r\n\r\n    let res = await this.getData('show', data);\r\n\r\n      console.log(res);\r\n\r\n    // Итоговый результат\r\n      if (parseInt(this.state.typeShow) == 1) {\r\n         \r\n          this.setState({\r\n            newUsersTable: res.new_users,\r\n            countOrdersTable: res.count_orders,\r\n            avgSumm: res.avg_summ,\r\n            countPos: res.count_pos,\r\n            fakeUsers: res.fake_users,\r\n            roll_stat: res.roll_stat,\r\n            set_stat: res.set_stat,\r\n            pizza_stat: res.pizza_stat,\r\n          })\r\n      }\r\n\r\n    // графики по месяцам\r\n    if( parseInt( this.state.typeShow ) == 2 ){\r\n      this.renderGraphNewUsers(res.new_users);\r\n      this.renderGraphOrders(res.count_orders);\r\n      this.renderGraphAvgSumm(res.avg_summ);\r\n      this.renderCountPos(res.count_pos);\r\n      }\r\n\r\n     // графики по дням\r\n      if (parseInt(this.state.typeShow) == 3) {\r\n          console.log('res.count_orders',res.count_orders);\r\n        this.renderGraphNewUsersD(res.new_users);\r\n        this.renderGraphOrdersD(res.count_orders);\r\n        this.renderGraphAvgSummD(res.avg_summ);\r\n        this.renderCountPosD(res.count_pos);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  renderGraphNewUsers(MyData){\r\n    if( this.chartnewusers ){\r\n      this.chartnewusers.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusers\");\r\n    this.chartnewusers = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n\r\n    MyData.site.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 1 Новые клиенты по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      // правка radius: 5->3\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphNewUsersD(MyData){\r\n    if( this.chartnewusersD ){\r\n      this.chartnewusersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusersD\");\r\n    this.chartnewusersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n   \r\n\r\n    MyData.site.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series\r\n    function createSeries(name, field, data) {\r\n\r\n      // новые клиенты по дням правка 2\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n         //stacked: true,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n        series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n        series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n        series.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n   \r\n\r\n    // Add cursor\r\n    \r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n    \r\n  }\r\n\r\n  renderGraphOrders(MyData){\r\n    if( this.chartorders ){\r\n      this.chartorders.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartorders\"); \r\n\r\n    this.chartorders = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n    var data_adv = [];\r\n     \r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    console.log('adv_data=', MyData.adv_data);\r\n    //MyData.adv_data.map((item) => {\r\n    //    let date = item.date.split('-');\r\n    //    data_adv.push({\r\n    //        date: new Date(date[0], parseInt(date[1]) - 1, parseInt(date[2])).getTime(),\r\n    //        value: parseInt(item.count),\r\n    //        name: item.name\r\n    //    })\r\n    //})\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series Правка 3 Заказы по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    function createSeries2(name, field, data) {\r\n\r\n        // вытаскиваем название акции\r\n        let adv1 = [], adv2 = [];\r\n        let lKey = 0, newArr = false;\r\n\r\n        // разделяем на два массива\r\n        for (const [key, value] of data.entries()) {\r\n            lKey = key == 0 ? 1 : key - 1;\r\n            if (key == 0) {\r\n                adv1.push(value);\r\n            } else if (data[lKey]['name'] != value['name']) {\r\n                adv2.push(value);\r\n                newArr = true;\r\n            } else if (newArr) {\r\n                adv2.push(value);\r\n            } else {\r\n                adv1.push(value);\r\n            }\r\n        }\r\n\r\n        // инцилизация первого массива на графике\r\n        if (adv1.length != 0) {\r\n            var series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv1[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv1[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DC),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series2.set(\"fill\", am5.color(0x6794DC));\r\n            series2.data.setAll(adv1);\r\n        }\r\n\r\n        // инцилизация второго массива на графике\r\n        if (adv2.length != 0) {\r\n            var series3 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv2[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv2[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series3.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DA),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series3.set(\"fill\", am5.color(0x6794DA));\r\n            series3.data.setAll(adv2);\r\n        }\r\n    }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n    if (this.state.is_show_adv) {\r\n        createSeries2(\"Акция\", \"value\", data_adv)\r\n    }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n   // заказы по дням\r\n  renderGraphOrdersD(MyData){\r\n    if( this.chartordersD ){\r\n      this.chartordersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartordersD\"); \r\n\r\n    this.chartordersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n      root.dateFormatter.setAll({\r\n          dateFormat: \"yyyy-MM-dd\", // not-ok\r\n          dateFields: [\"valueX\", \"openValueX\"] // no\r\n      });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n \r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n     \r\n     // Create Y-axis\r\n      var yAxis = chart.yAxes.push(\r\n          am5xy.ValueAxis.new(root, {\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, {})\r\n          })\r\n      );\r\n\r\n    // Create X-Axis\r\n      let xAxis = chart.xAxes.push(\r\n          am5xy.DateAxis.new(root, {\r\n            baseInterval: { timeUnit: \"day\", count: 1 },\r\n            startLocation: 0.5,\r\n            endLocation: 0.5,\r\n            renderer: am5xy.AxisRendererX.new(root, {})\r\n          })\r\n      );\r\n\r\n      xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n      xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n    // Create series правка 4 Заказы по дням\r\n    function createSeries(name, field, data) {\r\n     \r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field,\r\n          //fill: chart.get(\"colors\").getIndex(13),\r\n          strokeWidth: 5,\r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n        );\r\n\r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n      if (name == 'Всего') {\r\n          //series.strokes.template.set(\"stroke\", 'red');\r\n          series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n       \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    // Новый графи со столбиками \r\n    function createSeries2(name, field, data) {\r\n        let cat = [];\r\n        data.map((item) => {\r\n            cat.push( { 'category': item['category'] } );\r\n        })\r\n       \r\n        yAxis2.data.setAll(cat);\r\n         \r\n        // проверка  на пустой массив\r\n        if (data.length != 0) {\r\n            console.log('data=', data);\r\n            var series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis2,\r\n                    openValueXField: \"fromDate\",\r\n                    valueXField: \"toDate\",\r\n                    categoryYField: \"category\",\r\n                    sequencedInterpolation: true,\r\n                    fill: am5.color(0x6794DA)\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n            });\r\n\r\n            series2.data.processor = am5.DataProcessor.new(root, {\r\n                dateFields: [\"fromDate\", \"toDate\"],\r\n                dateFormat: \"yyyy-MM-dd HH:mm\"\r\n            });\r\n\r\n            series2.data.setAll(data);\r\n        }\r\n    }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n    // правка от 08.04 показываем столбики\r\n    if (this.state.is_show_adv) {\r\n        console.log('adv_data=', MyData.adv_data);;\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n    }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphAvgSumm(MyData){\r\n    if( this.chartavgsumm ){\r\n      this.chartavgsumm.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsumm\"); \r\n\r\n    this.chartavgsumm = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          //if (name == 'Всего') {\r\n          //    series.strokes.template.set(\"strokeWidth\", 8)\r\n          //}\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\");\r\n         \r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый графи со столбиками \r\n      function createSeries2(name, field, data) {\r\n          let cat = [];\r\n          data.map((item) => {\r\n              cat.push({ 'category': item['category'] });\r\n          })\r\n\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // проверка  на пустой массив\r\n          if (data.length != 0) {\r\n              console.log('data=', data);\r\n              var series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, {\r\n                      xAxis: xAxis,\r\n                      yAxis: yAxis2,\r\n                      openValueXField: \"fromDate\",\r\n                      valueXField: \"toDate\",\r\n                      categoryYField: \"category\",\r\n                      sequencedInterpolation: true,\r\n                      fill: am5.color(0x6794DA)\r\n                  })\r\n              );\r\n\r\n              series2.columns.template.setAll({\r\n                  opacity: 0.5,\r\n              });\r\n\r\n              series2.data.processor = am5.DataProcessor.new(root, {\r\n                  dateFields: [\"fromDate\", \"toDate\"],\r\n                  dateFormat: \"yyyy-MM-dd HH:mm\"\r\n              });\r\n              console.log('series2 setAll- ', data);\r\n              series2.data.setAll(data);\r\n          }\r\n      }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n     // правка от 08.04 показываем столбики\r\n    if (this.state.is_show_adv) {\r\n       // createSeries2(\"Акция\", \"value\", MyData.adv_data)\r\n    }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n   // график средний суммы за день\r\n  renderGraphAvgSummD(MyData){\r\n    if( this.chartavgsummD ){\r\n      this.chartavgsummD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsummD\"); \r\n\r\n    this.chartavgsummD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              //series.strokes.template.set(\"stroke\", 'red');\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый графи со столбиками \r\n      function createSeries2(name, field, data) {\r\n          let cat = [];\r\n          data.map((item) => {\r\n              cat.push({ 'category': item['category'] });\r\n          })\r\n\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // проверка  на пустой массив\r\n          if (data.length != 0) {\r\n              console.log('data=', data);\r\n              var series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, {\r\n                      xAxis: xAxis,\r\n                      yAxis: yAxis2,\r\n                      openValueXField: \"fromDate\",\r\n                      valueXField: \"toDate\",\r\n                      categoryYField: \"category\",\r\n                      sequencedInterpolation: true,\r\n                      fill: am5.color(0x6794DA)\r\n                  })\r\n              );\r\n\r\n              series2.columns.template.setAll({\r\n                  opacity: 0.5,\r\n              });\r\n\r\n              series2.data.processor = am5.DataProcessor.new(root, {\r\n                  dateFields: [\"fromDate\", \"toDate\"],\r\n                  dateFormat: \"yyyy-MM-dd HH:mm\"\r\n              });\r\n\r\n              series2.data.setAll(data);\r\n          }\r\n      }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n    if (this.state.is_show_adv) {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n    }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderCountPos(MyData){\r\n    if( this.chartcountpos ){\r\n      this.chartcountpos.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountpos\"); \r\n\r\n    this.chartcountpos = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    var data_adv = [];\r\n\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 7 Позиций по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n          am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n    function createSeries2(name, field, data) {\r\n\r\n        // вытаскиваем название акции\r\n        let adv1 = [], adv2 = [];\r\n        let lKey = 0, newArr = false;\r\n\r\n        // разделяем на два массива\r\n        for (const [key, value] of data.entries()) {\r\n            lKey = key == 0 ? 1 : key - 1;\r\n            if (key == 0) {\r\n                adv1.push(value);\r\n            } else if (data[lKey]['name'] != value['name']) {\r\n                adv2.push(value);\r\n                newArr = true;\r\n            } else if (newArr) {\r\n                adv2.push(value);\r\n            } else {\r\n                adv1.push(value);\r\n            }\r\n        }\r\n\r\n        // инцилизация первого массива на графике\r\n        if (adv1.length != 0) {\r\n            var series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv1[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv1[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DC),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series2.set(\"fill\", am5.color(0x6794DC));\r\n            series2.data.setAll(adv1);\r\n        }\r\n\r\n        // инцилизация второго массива на графике\r\n        if (adv2.length != 0) {\r\n            var series3 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv2[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv2[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series3.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DA),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series3.set(\"fill\", am5.color(0x6794DA));\r\n            series3.data.setAll(adv2);\r\n        }\r\n    }\r\n    createSeries(\"Роллов\", \"value\", data_rolls);\r\n    createSeries(\"Пиццы\", \"value\", data_pizza);\r\n    if (this.state.is_show_adv) {\r\n        createSeries2(\"Акция\", \"value\", data_adv)\r\n    }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderCountPosD(MyData){\r\n    if( this.chartcountposD ){\r\n      this.chartcountposD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountposD\"); \r\n\r\n    this.chartcountposD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              //series.strokes.template.set(\"stroke\", 'red');\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый графи со столбиками \r\n      function createSeries2(name, field, data) {\r\n          let cat = [];\r\n          data.map((item) => {\r\n              cat.push({ 'category': item['category'] });\r\n          })\r\n\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // проверка  на пустой массив\r\n          if (data.length != 0) {\r\n              console.log('data=', data);\r\n              var series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, {\r\n                      xAxis: xAxis,\r\n                      yAxis: yAxis2,\r\n                      openValueXField: \"fromDate\",\r\n                      valueXField: \"toDate\",\r\n                      categoryYField: \"category\",\r\n                      sequencedInterpolation: true,\r\n                      fill: am5.color(0x6794DA)\r\n                  })\r\n              );\r\n\r\n              series2.columns.template.setAll({\r\n                  opacity: 0.5,\r\n              });\r\n\r\n              series2.data.processor = am5.DataProcessor.new(root, {\r\n                  dateFields: [\"fromDate\", \"toDate\"],\r\n                  dateFormat: \"yyyy-MM-dd HH:mm\"\r\n              });\r\n\r\n              series2.data.setAll(data);\r\n          }\r\n      }\r\n\r\n    createSeries(\"Роллов\", \"value\", data_rolls);\r\n    createSeries(\"Пиццы\", \"value\", data_pizza);\r\n    if (this.state.is_show_adv) {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data)\r\n    }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd]\r\n    })\r\n  }\r\n\r\n    showStat(type) {\r\n        let val;\r\n        switch (type) {\r\n            case 'roll':\r\n                val = this.state.show_stat_roll ? false : true;\r\n                this.setState({ show_stat_roll: val })\r\n            break;\r\n            case 'set':\r\n                val = this.state.show_stat_set ? false : true;\r\n                this.setState({ show_stat_set: val });\r\n                \r\n            break;\r\n            case 'pizza':\r\n                val = this.state.show_stat_pizza ? false : true;\r\n                this.setState({ show_stat_pizza: val });\r\n            break;\r\n        }\r\n    }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n            <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.points} value={this.state.choosePoint} func={ (event, data) => { this.setState({ choosePoint: data }) } } multiple={true} label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({ promoName: event.target.value }) } } label='Промокод' />\r\n          </Grid>\r\n                <Grid item xs={6} sm={3}> \r\n              <MySelect data={this.state.typesShow} value={this.state.typeShow} func={ (event) => { this.setState({ typeShow: event.target.value }) } } label='Как показать' />\r\n            </Grid>\r\n                <Grid item xs={12} sm={1}> \r\n                    <MyCheckBox label='Показать акции' value={this.state.is_show_adv} func={this.changeChekBox.bind(this, 'is_show_adv') }   />\r\n            </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n           \r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Контакт-центр</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Сайт</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.all ? this.state.newUsersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.center ? this.state.newUsersTable.center : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.site ? this.state.newUsersTable.site : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставок</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.all ? this.state.countOrdersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.dev ? this.state.countOrdersTable.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.hall ? this.state.countOrdersTable.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.pic ? this.state.countOrdersTable.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставка</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.all ? this.state.avgSumm.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.dev ? this.state.avgSumm.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.hall ? this.state.avgSumm.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.pic ? this.state.avgSumm.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' } }>Позиций итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Роллов</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Пиццы</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_rolls ? this.state.countPos.count_rolls : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_pizza ? this.state.countPos.count_pizza : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Ушедшие клиенты</h2>\r\n              <h5 style={{ textAlign: 'center' }}>ушли - заказывали за 90 дней до указанного периода и больше не заказывали</h5>\r\n              <h5 style={{ textAlign: 'center' }}>вернулись - не заказывали 90 дней до указанного периода, сделали заказ в указанный период</h5>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Ушли</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Вернулись</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.lost_users ? this.state.fakeUsers.lost_users : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.ret_users ? this.state.fakeUsers.ret_users : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n\r\n                 <Grid container spacing={3}>\r\n                   \r\n                     <Grid style={{ marginTop: 20}} item xs={12} sm={4}>\r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг роллов </h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'roll')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_roll != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.roll_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid style={{ marginTop: 20 }} item xs={12} sm={4}>\r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг сетов</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'set')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_set != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.set_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid style={{ marginTop: 20 }} item  xs={12} sm={4}>\r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг Пиццы</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'pizza')}>Показать/Скрыть</h5>\r\n                        {this.state.show_stat_pizza != true ? null :\r\n                             <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.pizza_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                             </TableContainer>\r\n                         }\r\n                    </Grid>\r\n               </Grid>\r\n             </Grid>\r\n            }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по месяцам</h2>\r\n              <div id=\"chartnewusers\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по месяцам</h2>\r\n              <div id=\"chartorders\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по месяцам</h2>\r\n              <div id=\"chartavgsumm\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по месяцам</h2>\r\n              <div id=\"chartcountpos\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по дням</h2>\r\n              <div id=\"chartnewusersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по дням</h2>\r\n              <div id=\"chartordersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по дням</h2>\r\n              <div id=\"chartavgsummD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по дням</h2>\r\n              <div id=\"chartcountposD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteStatMarc () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteStatMarc_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput } from '../../stores/elements';\r\n\r\nimport axios from 'axios';\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass SocialNetwork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'socialnetwork',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cityList: [],\r\n      city_id: 0,\r\n\r\n      dataInfo: null,\r\n      file: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cityList: data.cities,\r\n      city_id: data.cities[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      city_id: data,\r\n      dataInfo: null,\r\n      file: null\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n\r\n  async updateData(){\r\n    let data = {\r\n      city_id: this.state.city_id\r\n    };\r\n\r\n    let res = await this.getData('get_data', data);\r\n\r\n    this.setState({\r\n      dataInfo: res,\r\n      file: null\r\n    })\r\n  }\r\n\r\n  changeData(type, event){\r\n    let data = event.target.value;\r\n    let info = this.state.dataInfo;\r\n    \r\n    info[ [type] ] = data;\r\n\r\n    this.setState({\r\n      dataInfo: info\r\n    })\r\n  }\r\n\r\n  async saveData(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      vk: this.state.dataInfo.vk,\r\n      inst: this.state.dataInfo.inst,\r\n      ok: this.state.dataInfo.ok,\r\n      tg: this.state.dataInfo.tg,\r\n      fb: this.state.dataInfo.fb,\r\n      file1: this.state.file ? this.state.file.name : ''\r\n    };\r\n\r\n    let res = await this.getData('save_data', data);\r\n    \r\n    if( this.state.file ){\r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: true\r\n        })\r\n      }, 350 )\r\n      \r\n      \r\n      \r\n      const formData = new FormData(); \r\n    \r\n      formData.append( \r\n        \"file\", \r\n        this.state.file, \r\n        this.state.file.name \r\n      ); \r\n    \r\n      //console.log(this.state.file); \r\n    \r\n      axios.post('https://jacochef.ru/api/files/v2/upload/upload.php', formData)\r\n        .then( (response) => {\r\n          console.log(response);\r\n          this.setState({\r\n            is_load: false,\r\n            file: null\r\n          })\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  handleFileInput(event){\r\n    let data = event.target.files[0];\r\n\r\n    console.log( data )\r\n\r\n    this.setState({\r\n      file: data\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.cityList} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          {this.state.dataInfo == null ? null :\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Вконтакте\" value={this.state.dataInfo ? this.state.dataInfo.vk : ''} func={this.changeData.bind(this, 'vk')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Инстаграм\" value={this.state.dataInfo ? this.state.dataInfo.inst : ''} func={this.changeData.bind(this, 'inst')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Одноклассники\" value={this.state.dataInfo ? this.state.dataInfo.ok : ''} func={this.changeData.bind(this, 'ok')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Телеграм\" value={this.state.dataInfo ? this.state.dataInfo.tg : ''} func={this.changeData.bind(this, 'tg')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Facebook\" value={this.state.dataInfo ? this.state.dataInfo.fb : ''} func={this.changeData.bind(this, 'fb')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput type=\"file\" label=\"\" func={this.handleFileInput.bind(this)} />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <Button variant=\"contained\" onClick={this.saveData.bind(this)}>Обновить данные</Button>\r\n                </Grid>\r\n\r\n              </Grid>\r\n            </Grid>\r\n          }\r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SocialNetwork () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SocialNetwork_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyAutocomplite } from '../../stores/elements';\r\n\r\nimport {AgGridColumn, AgGridReact} from 'ag-grid-react';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst dynamicCellStyle = params => {\r\n  if( params.colDef.headerName == 'Цена' ){\r\n    return { borderRight: '1px solid #bababa' };\r\n  }\r\n  return null;\r\n};\r\n\r\nclass Tender_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'tender',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      testTable: [],\r\n      vendors: [],\r\n      myVendors: [],\r\n      showVendors: [],\r\n      \r\n      params_api: null,\r\n      params_columnApi: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let table = [];\r\n    \r\n    data.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          data['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = data.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) );\r\n            \r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = data.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      testTable: table,\r\n      vendors: data['vendors'],\r\n      showVendors: data['vendors']\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n  \r\n  onCellClicked(event){\r\n    console.log( event.data );\r\n    console.log( event.colDef.field );\r\n  }\r\n  \r\n  onGridReady(params){\r\n    this.setState({\r\n      params_api: params.api,\r\n      params_columnApi: params.columnApi\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      vendors: this.state.myVendors\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    let table = [];\r\n    \r\n    res.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          res['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = res.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) )\r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = res.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      testTable: table,\r\n      showVendors: res['vendors']\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            \r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button  color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.vendors} multiple={true} value={this.state.myVendors} func={ (event, val) => { this.setState({ myVendors: val }) } } label='Поставщики' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Показать</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <div className=\"ag-theme-alpine\" style={{height: 600, width: '100%'}}>\r\n              <AgGridReact\r\n                  onGridReady={this.onGridReady.bind(this)}\r\n                  onCellClicked={this.onCellClicked}\r\n                  rowData={ this.state.testTable }\r\n                  \r\n                  >\r\n                  <AgGridColumn field=\"ras\" width={120} pinned=\"left\"></AgGridColumn>\r\n                  <AgGridColumn field=\"item\" width={300} pinned=\"left\" cellClassRules={{'cell-span': \"data.section==='big-title'\"}}></AgGridColumn>\r\n                  <AgGridColumn hide={true}></AgGridColumn>\r\n                    \r\n                  { this.state.showVendors.map( (item, key) => \r\n                    <AgGridColumn key={key} headerName={item.name} resizable={true} width={180}>\r\n                      <AgGridColumn field={'vend_city_'+item.id} headerName={'Город'} resizable={true} width={90}></AgGridColumn>\r\n                      <AgGridColumn field={'vend_price_'+item.id} headerName={'Цена'} resizable={true} width={90} cellStyle={dynamicCellStyle}></AgGridColumn>\r\n                    </AgGridColumn>\r\n                  ) }\r\n                  \r\n                  \r\n              </AgGridReact>\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n          \r\n          </Grid>    \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Tender () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Tender_ history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VendorItemPrice_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'vendor_item_price',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      vendors: [],\r\n      vendor: 0,\r\n      \r\n      items: [],\r\n      \r\n      cities: [],\r\n      city: -1,\r\n      allCity: false,\r\n      isPrioriti: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value,\r\n      vendor: 0,\r\n      items: []\r\n    })\r\n  }\r\n  \r\n  async changeVendor(event){\r\n    let data = {\r\n      city: this.state.city,\r\n      vendor_id: event.target.value,\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      items: res,\r\n      vendor: event.target.value,\r\n    })\r\n  }\r\n  \r\n  update(item_id, data, event){\r\n    let this_items = this.state.items;\r\n    \r\n    \r\n    \r\n    this_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        this_items[key][data] = event.target.value;\r\n        \r\n        this_items[key]['price'] = (parseFloat(this_items[key]['full_price']) / parseFloat(this_items[key]['rec_pq'])).toFixed(2);\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      items: this_items\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      vendor_id: this.state.vendor,\r\n      items: this.state.items,\r\n      city_id: this.state.city,\r\n      all_city: this.state.allCity === true ? 1 : 0,\r\n      is_prioriti: this.state.isPrioriti === true ? 1 : 0,\r\n    }\r\n    \r\n    if( data.all_city == 1 ){\r\n      if( confirm(\"Точно сохранить на все города поставщика ?\") ){\r\n        let res = await this.getData('save_price', data);\r\n      }\r\n    }else{\r\n      let res = await this.getData('save_price', data);\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.vendors} value={this.state.vendor} func={ this.changeVendor.bind(this) } label='Поставщик' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyCheckBox classes={this.state.classes} value={this.state.allCity} func={ (event) => { this.setState({ allCity: event.target.checked }) } } label='На все города поставщика' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox classes={this.state.classes} value={this.state.isPrioriti} func={ (event) => { this.setState({ isPrioriti: event.target.checked }) } } label='Приоритетный постащик' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Button onClick={this.save.bind(this)} variant=\"contained\">Сохранить</Button>\r\n          </Grid>\r\n          \r\n          \r\n          <Grid item xs={12}>\r\n              \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Позиция</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>Комментарий</TableCell>\r\n                    <TableCell>Цена за упаковку</TableCell>\r\n                    <TableCell>Объем упаковки</TableCell>\r\n                    <TableCell>Цена за 1 ед.</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.items.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.name_for_vendor}</TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.comment} func={ this.update.bind(this, item.item_id, 'comment') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.full_price} func={ this.update.bind(this, item.item_id, 'full_price') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MySelect classes={this.state.classes} data={item.pqs} value={item.rec_pq} func={ this.update.bind(this, item.item_id, 'rec_pq') } label='' />\r\n                      </TableCell>\r\n                      <TableCell>{item.price} / {item.ei_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n            \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorItemPrice () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <VendorItemPrice_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VendorModule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'vendor_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalItems: false,\r\n      modalVendor: false,\r\n      modalVendorNew: false,\r\n      \r\n      vendors: [],\r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n      openVendor: null,\r\n      customAdd: 0,\r\n      \r\n      vendorCities: [],\r\n      allCities: [],\r\n      \r\n      nds: [\r\n        { id: -1, name: 'Без НДС' },\r\n        { id: 10, name: '10% НДС' },\r\n        { id: 20, name: '20% НДС' },\r\n      ],\r\n      nds_: [\r\n        -1, 10, 20\r\n      ],\r\n      \r\n      cities: [],\r\n      city: -1\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      vendors: data.vendors,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeNDS(item_id, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        item.nds = event.target.value;\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  async openModalItems(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: true,\r\n      allItems: res.all_items,\r\n      vendor_items: res.vendor_items,\r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async openModalVendor(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendor: true,\r\n      openVendor: res.vendor,\r\n      vendorCities: res.vendor_cities,\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async openModalVendorNew(){\r\n    let data = {\r\n      vendor_id: 0\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendorNew: true,\r\n      openVendor: {\r\n        addr: \"\",\r\n        bill_ex: \"0\",\r\n        email: \"\",\r\n        email_2: \"\",\r\n        inn: \"\",\r\n        min_price: \"\",\r\n        name: \"\",\r\n        need_img_bill_ex: \"0\",\r\n        ogrn: \"\",\r\n        phone: \"\",\r\n        text: \"\",\r\n      },\r\n      vendorCities: [],\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async saveVendorItems(){\r\n    let data = {\r\n      vendor_id: this.state.openVendor.id,\r\n      items: this.state.vendor_items\r\n    }\r\n    \r\n    let check = data.items.filter( (item, key) => !this.state.nds_.includes( parseInt(item.nds) ) );\r\n    \r\n    if( check.length > 0 ){\r\n      alert('У одной или нескольких позиций не заполнен НДС')\r\n      \r\n      return ;\r\n    }\r\n    \r\n    let res = await this.getData('save_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: false,\r\n      vendor_items: [],\r\n      openVendor: null\r\n    })\r\n  }\r\n  \r\n  async saveVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('update_vendor', data);\r\n    \r\n    this.setState({\r\n      modalVendor: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  async addVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('new_vendor', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      modalVendorNew: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  delItem(item_id){\r\n    let items = this.state.vendor_items;\r\n    \r\n    items = items.filter( (item) => parseInt(item.item_id) != parseInt(item_id) );\r\n    \r\n    this.setState({\r\n      vendor_items: items\r\n    })\r\n  }\r\n  \r\n  addItem(item){\r\n    let this_items = this.state.vendor_items;\r\n    let check = this_items.find( (it) => parseInt(it.item_id) == parseInt(item.id) );\r\n    \r\n    if( !check ){\r\n      this_items.push({\r\n        item_id: item.id,\r\n        item_name: item.name,\r\n        nds: -2\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      vendor_items: this_items\r\n    })\r\n  }\r\n  \r\n  addItemCustom(){\r\n    let item = this.state.allItems.find( (item1) => parseInt(item1.id) == parseInt(this.state.customAdd) );\r\n    \r\n    this.addItem(item);\r\n  }\r\n  \r\n  testChange(data, event){\r\n    let vendor = this.state.openVendor;\r\n    \r\n    if( data == 'bill_ex' || data == 'need_img_bill_ex' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItems}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItems: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Товары поставщика {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container style={{ paddingTop: 20 }}>\r\n              \r\n              <Grid item xs={12} sm={5} style={{ paddingRight: 10 }}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow style={{ height: 75 }}>\r\n                      <TableCell>\r\n                        <MySelect classes={this.state.classes} data={this.state.allItems} value={this.state.customAdd} func={ (event) => { this.setState({ customAdd: event.target.value }) } } />\r\n                      </TableCell>\r\n                      <TableCell><AddIcon onClick={this.addItemCustom.bind(this)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                    </TableRow>\r\n                    \r\n                    { this.state.allItems.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell><AddIcon onClick={this.addItem.bind(this, item)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              <Grid item xs={12} sm={7}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    { this.state.vendor_items.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.item_name}</TableCell>\r\n                        <TableCell>\r\n                          <MyTextInput label=\"\" value={ item.sort } func={ this.changeSort.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <MySelect classes={this.state.classes} data={this.state.nds} value={item.nds} func={ this.changeNDS.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell><CloseIcon onClick={ this.delItem.bind(this, item.item_id) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              \r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendorItems.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendor}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendor: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Поставщик {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } disabled={true} />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite multiple={true} label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { console.log(value); this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendorNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendorNew: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новый поставщик</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.addVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalVendorNew.bind(this)} variant=\"contained\">Добавить поставщика</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell component=\"th\">Название</TableCell>\r\n                    <TableCell component=\"th\">Назначенные товары</TableCell>\r\n                    <TableCell component=\"th\"><VisibilityIcon /></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.vendors.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell><Typography onClick={ this.openModalVendor.bind(this, item) } style={{ cursor: 'pointer', width: 'max-content' }}>{item.name}</Typography></TableCell>\r\n                      <TableCell><DirectionsCarIcon onClick={ this.openModalItems.bind(this, item) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      <TableCell>{ parseInt(item.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> }</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorModule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <VendorModule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport { blue } from '@mui/material/colors';\r\n\r\nimport HomeWorkIcon from '@mui/icons-material/HomeWork';\r\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\r\n\r\nimport LooksOneIcon from '@mui/icons-material/LooksOne';\r\nimport LooksTwoIcon from '@mui/icons-material/LooksTwo';\r\nimport Looks3Icon from '@mui/icons-material/Looks3';\r\n\r\nimport AssessmentIcon from '@mui/icons-material/Assessment';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction SimpleDialog(props) {\r\n  const { onClose, selectedValue, open } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose(selectedValue);\r\n  };\r\n\r\n  const handleListItemClick = (value) => {\r\n    onClose(value);\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <List sx={{ pt: 0 }}>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <AccessTimeIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить часы на месяц\" />\r\n        </ListItem>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <SyncAltIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить смену\" />\r\n        </ListItem>\r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <HomeWorkIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить точку\" />\r\n        </ListItem>\r\n        \r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nSimpleDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.string.isRequired,\r\n};\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass HeaderItem extends React.Component {\r\n  render(){\r\n    return (\r\n      <>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Ур. кафе: {this.props.lv_cafe}</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Число месяца</TableCell>\r\n\r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.date}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell></TableCell>\r\n              \r\n              { this.props.dataKey > 0 ? \r\n                <>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                </>\r\n                  :\r\n                <>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeDopBonus}>{ !this.props.bonus_other ? '+ / -' : parseInt(this.props.bonus_other) == 1 ? <AddIcon style={{ fontSize: 30, color: 'green' }} /> : <CloseIcon style={{ fontSize: 30, color: 'red' }} /> }</TableCell>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeLVDir}>Ур. дира: {this.props.lv_dir}</TableCell>\r\n                </>\r\n              }\r\n                  \r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n            </>\r\n          }\r\n\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Сотрудник</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Должность</TableCell>\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.day}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell style={{ textAlign: 'center' }}>За 1ч</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Командный бонус</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>За часы</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Ошибки</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Бонус</TableCell>\r\n              { this.props.show_zp == 1 || this.props.show_zp == 0 ?\r\n                <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                  :\r\n                null\r\n              }\r\n              <TableCell style={{ textAlign: 'center' }}>Выдано</TableCell>\r\n            </>\r\n          }\r\n        </TableRow>\r\n        \r\n        <TableRow style={{ backgroundColor: '#e5e5e5' }}>\r\n          <TableCell style={{ textAlign: 'center' }} colSpan={ this.props.days.length + 3 + 7 }>{this.props.item.data}</TableCell>\r\n        </TableRow>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass WorkSchedule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'work_schedule',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      mounths: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      \r\n      one: null,\r\n      two: null,\r\n      test_one: [],\r\n      test_two: [],\r\n      \r\n      isOpenModalH: false,\r\n      \r\n      userInfo: null,\r\n      \r\n      hList: [],\r\n      mList: [],\r\n      \r\n      newTimeStart: '10:00',\r\n      newTimeEnd: '22:00',\r\n      \r\n      openNewTimeAdd: false,\r\n      \r\n      otherAppList: [],\r\n      otherApp: '',\r\n      \r\n      testVal: '',\r\n      testOpen: false,\r\n      \r\n      mainMenu: false,\r\n      mainMenuH: false,\r\n      mainMenuSmena: false,\r\n      show_bonus: false,\r\n      mainMenuPrice: false,\r\n      mainMenuLVDIR: false,\r\n      mainMenuDopBonus: false,\r\n\r\n      show_zp_one: 0,\r\n      show_zp_two: 0,\r\n      kind: '',\r\n\r\n      myOtherSmens: [],\r\n      \r\n      chooseUser: null,\r\n\r\n      tabTable: 1,\r\n\r\n      lv_cafe: 0,\r\n      lv_dir: 0,\r\n      arr_dir_lv: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = {\r\n      \r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n    \r\n    let hList = [];\r\n    let mList = [];\r\n    \r\n    for(let h = 0; h <= 23; h ++){\r\n      hList.push({\r\n        id: h,\r\n        name: h\r\n      })\r\n    }\r\n    \r\n    for(let m = 0; m <= 50; m += 10){\r\n      mList.push({\r\n        id: m,\r\n        name: m\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      points: res.point_list,\r\n      point: res.point_list[0].id,\r\n      \r\n      mounths: res.mounths,\r\n      mounth: res.mounths.find( (item) => parseInt( item.is_active ) == 1 )['id'],\r\n      \r\n      hList: hList,\r\n      mList: mList,\r\n      \r\n      module_name: res.module_info.name\r\n    })\r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    let arr_dir_lv = [];\r\n\r\n    for(let i = 1; i <= 20; i ++){\r\n      arr_dir_lv.push(i);\r\n    }\r\n\r\n    this.setState({\r\n      arr_dir_lv: arr_dir_lv\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      mounth: this.state.mounth\r\n    };\r\n    \r\n    let res = await this.getData('get_graph', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      one: res.date.one,\r\n      two: res.date.two,\r\n      \r\n      test_one: res.one,\r\n      test_two: res.two,\r\n\r\n      show_zp_one: res.show_zp_one,\r\n      show_zp_two: res.show_zp_two,\r\n      kind: res.kind,\r\n\r\n      lv_cafe: res.lv_cafe,\r\n      lv_dir: res.lv_dir\r\n    })\r\n  }\r\n  \r\n  async openH(item, this_date){\r\n    console.log( item )\r\n    \r\n    let data = {\r\n      smena_id: item.smena_id,\r\n      app_id: item.app_id,\r\n      user_id: item.id,\r\n      date: this_date,\r\n      date_start: item.date\r\n    };\r\n    \r\n    let res = await this.getData('get_user_day', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      isOpenModalH: true,\r\n      userInfo: res.h_info,\r\n      otherAppList: res.other_app,\r\n      show_bonus: res.show_bonus\r\n    })\r\n  }\r\n  \r\n  delTime(key_time){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours = userInfo.hours.filter( (item, key) => parseInt(key) != parseInt(key_time) );\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  changeHourse(type, key, event){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours[ key ][ [type] ] = event.target.value;\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  async saveDayHourse(){\r\n    let data = {\r\n      date: this.state.userInfo.date,\r\n      user_id: this.state.userInfo.user_id,\r\n      smena_id: this.state.userInfo.smena_id,\r\n      app_id: this.state.userInfo.app_id,\r\n      hours: this.state.userInfo.hours,\r\n      new_app: this.state.userInfo.new_app,\r\n      mentor_id: this.state.userInfo.mentor_id\r\n    }\r\n    \r\n    let res = await this.getData('save_user_day', data);\r\n    \r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n  \r\n  addTime(){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    let check = userInfo.hours.find( (item) => item.time_start == this.state.newTimeStart && item.time_end == this.state.newTimeEnd );\r\n    \r\n    if( check ){\r\n      this.setState({\r\n        openNewTimeAdd: false\r\n      })\r\n      \r\n      return ;\r\n    }\r\n    \r\n    userInfo.hours.push({\r\n      time_start: this.state.newTimeStart,\r\n      time_end: this.state.newTimeEnd\r\n    })\r\n    \r\n    this.setState({\r\n      userInfo: userInfo,\r\n      openNewTimeAdd: false\r\n    })\r\n  }\r\n  \r\n  async fastTime(type){\r\n    let data = {\r\n      type: type,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth\r\n    }\r\n    \r\n    let res = await this.getData('save_fastTime', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async fastSmena(smena_id){\r\n    let data = {\r\n      new_smena_id: smena_id,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_fastSmena', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async changePriceH(price){\r\n    let data = {\r\n      price: price,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_userPriceH', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuPrice: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeLVDir(){\r\n    this.setState({\r\n      mainMenuLVDIR: true\r\n    })\r\n  }\r\n\r\n  async newLvDir(LV){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      point_id: this.state.point,\r\n      dir_lv: LV\r\n    }\r\n    \r\n    let res = await this.getData('save_dir_lv', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuLVDIR: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeDopBonus(){\r\n    this.setState({\r\n      mainMenuDopBonus: true\r\n    })\r\n  }\r\n\r\n  async dop_bonus(type){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable,\r\n      point_id: this.state.point,\r\n      type: type\r\n    }\r\n    \r\n    let res = await this.getData('save_dop_bonus', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuDopBonus: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenu: false }) } } open={this.state.mainMenu}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.full_app_name} {this.state.chooseUser.user_name} {this.state.mounth}</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuH: true }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <AccessTimeIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить часы на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuSmena: true, myOtherSmens: this.state.chooseUser.other_smens }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <SyncAltIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить смену\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <HomeWorkIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить точку\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuH: false }) } } open={this.state.mainMenuH}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часы</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 1)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksOneIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 1 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 2)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksTwoIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Со 2 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 3)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 3 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 4)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 4 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuSmena: false }) } } open={this.state.mainMenuSmena}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Смена</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.myOtherSmens.map( (item, key) =>\r\n              <ListItem key={key} button onClick={this.fastSmena.bind(this, item.id)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ) }\r\n        \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuPrice: false }) } } open={this.state.mainMenuPrice}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часовая ставка</DialogTitle>\r\n          }\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <List sx={{ pt: 0 }}>\r\n              \r\n              { this.state.chooseUser.price_arr.map( (item, key) =>\r\n                <ListItem key={key} button onClick={this.changePriceH.bind(this, item)} style={ parseFloat(this.state.chooseUser.price_p_h) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} }>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                      <AssessmentIcon />\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText primary={item} />\r\n                </ListItem>\r\n              ) }\r\n          \r\n            </List>\r\n          }\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuLVDIR: false }) } } open={this.state.mainMenuLVDIR}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Уровень директора</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.arr_dir_lv.map( (item, key) =>\r\n              <ListItem key={key} button style={ parseFloat(this.state.lv_dir) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} } onClick={this.newLvDir.bind(this, item)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item+' уровень'} />\r\n              </ListItem>\r\n            ) }\r\n          </List>\r\n          \r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuDopBonus: false }) } } open={this.state.mainMenuDopBonus}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Командный бонус</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'green' }}>\r\n                  <CheckIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Выдать'} />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'red' }}>\r\n                  <CloseIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Отказать'} />\r\n            </ListItem>\r\n            \r\n          </List>\r\n          \r\n        </Dialog>\r\n        \r\n        { !this.state.userInfo ? null :\r\n          <Dialog\r\n            open={this.state.isOpenModalH}\r\n            onClose={ () => { this.setState({ isOpenModalH: false }) } }\r\n            scroll='paper'\r\n            aria-labelledby=\"scroll-dialog-title\"\r\n            aria-describedby=\"scroll-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"scroll-dialog-title\">{this.state.userInfo.user.app_name + ' ' + this.state.userInfo.user.user_name + ' ' + this.state.userInfo.date}</DialogTitle>\r\n            <DialogContent dividers={true}>\r\n              \r\n              <Typography style={{ marginBottom: 10 }}>{'Моя нагрузка: ' + this.state.userInfo.user.my_load_h + ' / Средняя нагрузка: ' + this.state.userInfo.user.all_load_h}</Typography>\r\n              { this.state.show_bonus === false ? null :\r\n                <Typography style={{ marginBottom: 20 }}>{'Бонус: ' + this.state.userInfo.user.bonus}</Typography>\r\n              }\r\n              \r\n              { this.state.otherAppList.length == 0 ? null :\r\n                <MySelect data={this.state.otherAppList} value={this.state.userInfo.new_app} func={ (event) => { let userInfo = this.state.userInfo; userInfo.new_app = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              { this.state.userInfo.mentor_list.length == 0 ? null :\r\n                <MySelect data={this.state.userInfo.mentor_list} value={this.state.userInfo.mentor_id} func={ (event) => { let userInfo = this.state.userInfo; userInfo.mentor_id = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              <Accordion \r\n                style={{ marginTop: 10 }} \r\n                expanded={this.state.openNewTimeAdd} \r\n                onChange={ () => { this.setState({ openNewTimeAdd: !this.state.openNewTimeAdd }) } }>\r\n                  \r\n                <AccordionSummary\r\n                  expandIcon={<AddIcon />}\r\n                >\r\n                  <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                  <Typography>Добавить время</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  \r\n                  <MyTimePicker value={this.state.newTimeStart} func={ (event) => { this.setState({ newTimeStart: event.target.value }) } } classes={this.state.classes} label='Время начала работы' />\r\n                  <MyTimePicker value={this.state.newTimeEnd} func={ (event) => { this.setState({ newTimeEnd: event.target.value }) } } classes={this.state.classes} label='Время окончания работы' />\r\n                  \r\n                  <AddIcon style={{ minWidth: 50, minHeight: 38, cursor: 'pointer' }} onClick={ this.addTime.bind(this) } />\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hours.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<CloseIcon onClick={ this.delTime.bind(this, key) } />}\r\n                  >\r\n                    <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                    <Typography>{item.time_start + ' - ' + item.time_end}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                    <MyTimePicker value={item.time_start} func={ this.changeHourse.bind(this, 'time_start', key) } classes={this.state.classes} label='Время начала работы' />\r\n                    <MyTimePicker value={item.time_end} func={ this.changeHourse.bind(this, 'time_end', key) } classes={this.state.classes} label='Время окончания работы' />\r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n              \r\n              <Accordion style={{ marginTop: 50 }} disabled>\r\n                <AccordionSummary>\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hist.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary>\r\n                    <Typography>{item.date + ' - ' + item.user_name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    \r\n                    { item.items.map( (it, k) =>\r\n                      <Typography key={k}>{it.time_start + ' - ' + it.time_end} {it.app_name == '' ? '' : ' - ' + it.app_name} </Typography>\r\n                    ) }\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n            </DialogContent>\r\n            <DialogActions style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Button style={{ backgroundColor: 'green', color: '#fff' }} onClick={this.saveDayHourse.bind(this)}>Сохранить</Button>\r\n              <Button style={{ backgroundColor: 'red', color: '#fff' }} onClick={() => { this.setState({ isOpenModalH: false }) }}>Отмена</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ (event) => { this.setState({ point: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.mounths} value={this.state.mounth} func={ (event) => { this.setState({ mounth: event.target.value }) } } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n            \r\n              \r\n          <Box sx={{ width: '100%' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={this.state.tabTable} onChange={ (event, data) => { this.setState({ tabTable: data }) } } centered >\r\n                <Tab label=\"С 1 по 15 числа\" {...a11yProps(0)} />\r\n                <Tab label=\"С 16 по конец месяца\" {...a11yProps(1)} />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={this.state.tabTable} index={0}>\r\n              { !this.state.one ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_one\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_one.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem key={key} bonus_other={this.state.one.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} kind={this.state.kind} show_zp={this.state.show_zp_one} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.one.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n\r\n                                { this.state.show_zp_one == 1 || this.state.show_zp_one == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n\r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            <TabPanel value={this.state.tabTable} index={1}>\r\n              { !this.state.two ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_two\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_two.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem bonus_other={this.state.two.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} key={key} kind={this.state.kind} show_zp={this.state.show_zp_two} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.two.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n                                \r\n                                { this.state.show_zp_two == 1 || this.state.show_zp_two == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            \r\n          </Box>\r\n          \r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function WorkSchedule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <WorkSchedule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@mui/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport Container from '@mui/material/Container';\r\nimport Grid from '@mui/material/Grid';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport routes from '../../../server/routes';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#c03',\r\n      },\r\n      def: {\r\n        main: '#353b48',\r\n        secondary: '#fff'\r\n      },\r\n    },\r\n});\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      \r\n      module: 'header',\r\n      \r\n      open: false,\r\n      menu: [],\r\n      full_menu: [],\r\n      \r\n      left: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      menu: data.info.left_menu,\r\n      full_menu: data.info.full_menu,\r\n    })\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      console.log( json )\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  handleDrawerOpen(){\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  \r\n  handleDrawerClose(){\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <AppBar className={clsx(this.state.classes.appBar, this.state.open && this.state.classes.appBarShift)}>\r\n          <Toolbar className={this.state.classes.toolbar}>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleDrawerOpen.bind(this)}\r\n              className={clsx(this.state.classes.menuButton, this.state.open && this.state.classes.menuButtonHidden)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={this.state.classes.title}>\r\n              Dashboard\r\n            </Typography>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        \r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <div className={this.state.classes.toolbarIcon}>\r\n            \r\n              <Autocomplete\r\n                size=\"small\"\r\n                options={this.state.full_menu}\r\n                getOptionLabel={(option) => option.name}\r\n                onChange={(event, newValue) => {\r\n                  if( newValue ){\r\n                    this.state.history.push(\"/\"+newValue.key_query+\"/\");\r\n                  }\r\n                }}\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <TextField {...params} label=\"Поиск\" variant=\"outlined\" />}\r\n              />\r\n              \r\n              <IconButton onClick={this.handleDrawerClose.bind(this)}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            \r\n            { this.state.menu.map( (item, key) =>\r\n              <Accordion key={key} >\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography className={this.state.classes.heading}>{ item.parent.name }</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  \r\n                  <List style={{ width: '100%' }}>\r\n                  \r\n                    { item.chaild.map( (it, k) =>\r\n                      <ListItem button key={k}>\r\n                        <Link to={\"/\"+it.key_query+\"/\"}>\r\n                          <ListItemText primary={ it.name } />\r\n                        </Link>\r\n                      </ListItem>\r\n                    ) }\r\n                  \r\n                  </List>\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Status({ code, children }) {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function NotFound() {\r\n  return (\r\n    <Status code={404}>\r\n        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n    </Status>\r\n  );\r\n}\r\n\r\nexport function App () {\r\n    const classes = useStyles();\r\n    let history = useHistory();\r\n    \r\n    let check_header = true;\r\n    \r\n    if( \r\n      history.location.pathname == '/auth/' || \r\n      history.location.pathname == '/auth' || \r\n      history.location.pathname == '/registration/' ||\r\n      history.location.pathname == '/registration'\r\n    ){\r\n      check_header = false;\r\n    }\r\n    \r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div className={classes.root}>\r\n          { !check_header ? null :\r\n            <>\r\n              <CssBaseline />\r\n              <Header classes={classes} history={history} />\r\n            </>\r\n          }\r\n          <main className={classes.content}>\r\n            <div className={classes.appBarSpacer} />\r\n            <Container maxWidth={false} className={classes.container}>\r\n        \r\n              <Switch>\r\n                { routes.map( (item, key) =>\r\n                  <Route\r\n                    key={key}\r\n                    path={item.path}\r\n                    exact={ item.exact }\r\n                    component={ item.component }\r\n                  />\r\n                ) }\r\n                \r\n                <Route\r\n                  component={ () =>\r\n                    <Status code={404}>\r\n                      <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n                        <Grid item xs={12}>\r\n                          <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Status>\r\n                  }\r\n                />\r\n              </Switch>\r\n        \r\n            </Container>\r\n          </main>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n// import App components\r\nimport { App } from './components/app';\r\n\r\n// compile App component in `#app` HTML element\r\nReactDOM.render( <BrowserRouter><App/></BrowserRouter>, document.getElementById( 'app' ) );\r\n//ReactDOM.hydrate( <BrowserRouter><App/></BrowserRouter>, document.getElementById( 'app' ) );\r\n","import React from 'react';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Stack from '@mui/material/Stack';\r\n\r\n//import Grid from '@mui/material/Grid';\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n\r\n/*import DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';*/\r\n\r\nimport DateRangePicker from '@mui/lab/DateRangePicker';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\n//import DatePicker from '@mui/lab/DatePicker';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport DatePicker from '@mui/lab/DatePicker';\r\n\r\nexport class MyDaterange extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale} size=\"small\">\r\n        <DateRangePicker\r\n          \r\n          allowSameDateSelection={true}\r\n          showTodayButton={true}\r\n          startText={this.props.startText}\r\n          endText={this.props.endText}\r\n          value={this.props.value}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          //mask=\"____-__-__\"\r\n          onChange={this.props.func}\r\n          renderInput={(startProps, endProps) => (\r\n            <React.Fragment>\r\n              <TextField style={{ width: '100%' }} {...startProps} />\r\n              <TextField style={{ width: '100%' }} {...endProps} />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          disableCloseOnSelect={true}\r\n          //multiple={true}\r\n          id={ this.props.id ?? null }\r\n          options={this.props.data}\r\n          getOptionLabel={(option) => option.name}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => parseInt(option.id) === parseInt(value.id) }\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MySelect extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n        <InputLabel>{this.props.label}</InputLabel>\r\n        <Select\r\n          value={this.props.value}\r\n          label={this.props.label}\r\n          onChange={ this.props.func }\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n        >\r\n          <MenuItem value=\"\"><em>None</em></MenuItem>\r\n          { this.props.data.map( (item, key) =>\r\n            <MenuItem key={key} value={item.id}>{item.name}</MenuItem>\r\n          ) }\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTextInput extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      type: 'text'\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField \r\n        label={this.props.label}\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n        onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n        disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n        variant=\"outlined\" \r\n        size={'small'} \r\n        color='primary'\r\n        multiline={this.props.multiline ? this.props.multiline : false}\r\n        maxRows={this.props.maxRows ? this.props.maxRows : 1}\r\n        type={ this.props.type ? this.props.type : this.state.type }\r\n        style={{ width: '100%' }} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTimePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      thisVal: ''\r\n    };\r\n  }\r\n  \r\n  onChange(event){\r\n    this.setState({\r\n      thisVal: event.target.value\r\n    })\r\n  }\r\n\r\n  onBlur(){\r\n    this.setState({\r\n      thisVal: ''\r\n    })\r\n\r\n    this.props.onBlur();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={this.props.label}\r\n        type=\"time\"\r\n        id={ this.props.id ? this.props.id : null }\r\n        value={ this.props.func ? this.props.value : this.state.thisVal }\r\n        className={this.state.classes.timePicker}\r\n        onChange={this.props.func ? this.props.func : this.onChange.bind(this)}\r\n        onBlur={this.props.onBlur ? this.onBlur.bind(this) : null}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        step={600}\r\n        inputProps={{\r\n          step: 600, // 5 min\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerNew extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale}>\r\n        <DatePicker\r\n          multiple={true}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          renderInput={(params) => <TextField variant=\"outlined\" size={'small'} color='primary' style={{ width: '100%' }} {...params} />}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerTest extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <DatePicker \r\n        multiple\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyCheckBox extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormGroup row>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              checked={this.props.value}\r\n              onChange={this.props.func}\r\n              color=\"primary\"\r\n            />\r\n          }\r\n          label={this.props.label}\r\n        />\r\n      </FormGroup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class TextEditor extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <tinymce-editor\r\n        apiKey=\"r0ihgs4ukfpmudzw7aexxgb88tnx5jw26h1xx9x6409ji3gx\"\r\n        id={this.props.id}\r\n        menubar={true}\r\n        plugins=\"advlist autolink lists link image charmap print preview anchor\r\n        searchreplace visualblocks code fullscreen\r\n        insertdatetime media table paste code help wordcount\"\r\n        toolbar=\"undo redo | formatselect | bold italic backcolor |\r\n        alignleft aligncenter alignright alignjustify |\r\n        bullist numlist outdent indent | removeformat | help\"\r\n        content_style=\"body\r\n        {\r\n          font-family:Helvetica,Arial,sans-serif;\r\n          font-size:14px\r\n        }\"\r\n        >\r\n\r\n        {this.props.text}\r\n\r\n      </tinymce-editor>\r\n    )\r\n  }\r\n}"],"names":["Home","require","Auth","Reg","LiveOrders","Events","RasByBill","CategoryItems","VendorModule","VendorItemPrice","Tender","Revizion","RevizionNew","WorkSchedule","SiteSale2","SiteSale2_New","SiteSale2_Edit","SiteSale2_Stat","SiteSale2_StatList","DriveMapStatAll","DriverStat","Concenter","SocialNetwork","CatWork","AppWorkPoint","AppWork","AppWorkShow","SiteStatMarc","AdvertisingCompany","module","exports","path","exact","component","title","code","queryString","theme","createTheme","palette","primary","main","def","secondary","useStyles","makeStyles","formControl","width","selectEmpty","marginTop","spacing","tableCel","textAlign","borderRight","padding","cursor","backgroundColor","tableCelHead","customCel","timePicker","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","AdvertisingCompany_","props","method","data","setState","is_load","fetch","headers","body","stringify","state","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","history","push","err","console","log","classes","module_name","description","cats","modalDialog","modalDialogNew","rangeDate","point_id","points","choosePoint","points_filter","is_active","id","nameCat","editText","name","editTextNew","config","readonly","showItem","this","getData","module_info","document","item","date_start","date_end","alert","text","event","target","checked","dateStart","dateEnd","value","getAdvList","Backdrop","className","backdrop","open","CircularProgress","color","Dialog","onClose","DialogTitle","DialogContent","style","paddingTop","Grid","container","xs","sm","func","label","startText","endText","changeDateRange","bind","multiple","changeChekBox","DialogActions","Button","onClick","save","saveNew","variant","changePoint","List","map","key","ListItem","button","openCat","marginLeft","ListItemIcon","Visibility","VisibilityOff","ListItemText","React","useHistory","AppWork_","items","items_min","dows","types","itemsEdit","nameWork","itemsNew","chengeItem1","chengeItemNew1","find","it","parseInt","dow","showCat","work","times_add","times_close","work_id","time_action","newArr","k","getElementById","maxWidth","chengeItem","type_new","time_min","max_count","multiline","maxRows","apps","app_id","type_time","borderBottom","chengeTime","Close","delTime","onBlur","addTime","chengeTimeClose","saveEdit","chengeItemNew","chengeTimeNew","delTimeNew","addTimeNew","chengeTimeCloseNew","openNewWork","Table","TableHead","TableRow","TableCell","TableBody","openWork","fontWeight","work_name","app_name","dow_name","times_open","is_not_del","changeCheck","is_need","AppWorkPoint_","allList","allListRender","thisList","getWorks","all_work","this_work","checkList","Titem","Aitem","check","thisItem","dop_time","new_arr","fake_item","list","isNaN","changeApp","Send","add","size","changeDopTime","del","a11yProps","index","PropTypes","AppWorkShow_","showItems","activeTab","filter","val","Typography","cat_name","show_time","dangerouslySetInnerHTML","__html","text_work","Paper","Tabs","onChange","changeTab","Tab","need_work_name","paper","display","flexDirection","alignItems","avatar","borderRadius","height","margin","avatar2","form","submit","textLink","Auth_","dialogTitle","dialogText","point","showReady","read","onstol","ordersQueue","prestol_new","pwd","setItem","token","DialogContentText","autoFocus","direction","justifyContent","md","lg","xl","Avatar","alt","src","noValidate","TextField","required","fullWidth","autoComplete","auth","href","CatWork_","nameCatNew","cat_id","CategoryItems_","modalDialog2","modalDialog3","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","editCat","allCats","allItems","thisValItems","thisDataItems","thisCatId","myVal","cat","parent_id","paddingBottom","changeCatMain","changeNameMain","saveCat","saveItems","changeCatMainEdit","changeNameMainEdit","saveEditCat","createCat","main_cat","main_key","Accordion","AccordionSummary","expandIcon","ExpandMore","Menu","marginRight","AccordionDetails","parent_cat","parent_key","addItems","Concenter_","typeDel","modalDialogDel","cities","city_id","point_list","need_point_list","indexTab","orders","ordersRender","showOrder","radiogroup_options","textDel","number","addr","need_points","getOrders","split","filterNumber","order_id","deltype","confirm","order","typeCreate","ans","type_check","check_pos","prompt","renderOrders","indexOf","street","home","toLowerCase","type_order","type_order_addr_new","time_order_name","time_order","delete_reason","date_time_delete","is_preorder","text_time","time_to_client","textTime","promo_name","promo_text","comment","sdacha","sum_order","check_pos_drive","order_items","count","price","TableFooter","order_items_","ready","is_delete","status_order","ButtonGroup","disableElevation","disableRipple","closeOrder","type_order_","fakeUser","FormControl","RadioGroup","changeAddr","FormControlLabel","control","Radio","onFocus","changeText","delOrder","closeOrderTrue","changeCity","changeDate","changeNumber","changeAddrSt","btnGetOrders","dist","type_user","date_time_order","need_time","give_data_time","close_order","to_time","unix_time_to_client","status","order_price","type_pay","driver","DriveMapStatAll_","drivers","updateData","objectManager","ymaps","ObjectManager","features","options","preset","iconColor","geometry","coordinates","latitude","longitude","point_color","properties","iconCaption","point_text","xy","positions","pos","parse","iconContent","geoObjects","removeAll","Map","center","zoom","searchControlProvider","myGeoObject","GeoObject","driver_name","DriverStat_","drive_stat_full","drive_stat_date","summ","choose_driver_id","check_cash","getSumm","modalDialogGetSumm","getSummDriverId","getSummComment","modalDialogStatSumm","modalDialogStatSummMain","statSumm","statSummMain","stat_drive_date","driver_id","click","changeSumm","saveGivePrice","saveGetPrice","date_time","user_name","my_cash","give","TableContainer","full_sum","full_cash","full_bank","count_cash","count_bank","give_by_date","getStatDop","dop_price","err_summ","my_price","getStatDopMain","my_orders","my","ost_cash","giveCash","getCash","colSpan","unic_users","short_name","order_k","Events_","mounth","mounths","years","calendar","chooseDayHoly","events","chooseEvent","eventPoint1","everyYear1","timeStart2","timeEnd2","expanded","dayEvents","events_hist","this_m","this_y","m","y","full_day","chooseDay","holy","hist","this_events","every_year","time_start","time_end","del_id","changeEvent","changePoint1","changeTimeStart2","changeTimeEnd2","changeEveryYear1","delEvent","changeMounth","changeYear","overflow","m_key","dir","zIndex","drawer","Home_","Live_Orders","changeCheckOrders","preorder","date_time_preorder_","unix_start_stol_or","give_data_time_","close_date_time_order","type_","time_","test_time","stol_sborki","date_time_preorder","time_start_order","time_end_order","RasByBill_","items_cat","item_cat","myItems","start_date","end_date","items_ras","parseFloat","sum","resItems","pf_ras","rec_ras","toFixed","catItems","this_price","count_pos","changeItems","getItems","getCats","count_item","ei_name","count_pf","ei_name_pf","count_bill","pf_name","count_rolls","price_rolls","disabled","count_pizza","price_by_items","paddingLeft","parent_items","backButton","instructions","marginBottom","Reg_","activeStep","steps","phone","charCode","nextStep","Stepper","alternativeLabel","Step","StepLabel","onKeyPress","enterNextStep","TabPanel","children","other","role","hidden","Box","sx","p","propTypes","Revizion_","revList","chooseRev","search","pf","rec","items_b","pf_b","rec_b","all_data","chooseTab","get_data_for_new_rev","getRevList","getDataRev","includes","rev_id","to","changeRev","textColor","indicatorColor","centered","RevizionNewItem","change","nextProps","nextState","counts","need_pq","itemKey","clear","copy","RevizionNew_","storages","key_item","key_data","allVal","is_show","titleDialog","new_counts","checkData","saveData","copyData","clearData","SwipeableDrawer","anchor","onOpen","position","bottom","left","right","elevation","BottomNavigation","showLabels","BottomNavigationAction","newValue","icon","Restore","MyDatePicker","format","sort","formatDateDot","formatDateName","SiteSale2_new_","modalText","city","modalLink","where_promo_list","promo_action_list","sale_list","promo_conditions_list","promo_sale_list","type_sale_list","date_promo_list","type_order_list","where_order_list","promo_prizw_vk","spamNameSMS","auto_text","where_promo","generate_new","count_action","promo_action","type_sale","promo_sale","sale_type","promo_conditions","price_start","price_end","date_promo","promo_length","promo_count","day_1","day_2","day_3","day_4","day_5","day_6","day_7","where_order","numberList","promo_desc_true","promo_desc_false","textSMS","addItem","addItemCount","addItemPrice","addItemAllPrice","itemsAdd","itemsAddPrice","saleCat","saleItem","priceItem","conditionItems","testDate","createdPromo","Y","M","D","fullDate","generateTextDescFalse","generateTextDescTrue","count_promo","promo_items","promo_cat","dateList","toISOString","promo_vk_prize","cert_text","promo_len","generate","promo_in_count","promo_type_sale","promo_type","promo_summ","promo_summ_to","promo_when","promo_type_order","promo_where","promo_city","promo_point","about_promo_text","condition_promo_text","promo_items_add","promo_items_sale","promo_conditions_items","date_between","text_err","link","thisDay","nextDay","setDate","textTrue","substring","itemText","dop_text","slice","textFalse","thisItems","item_id","newItems","changeData","changeDataCheck","Divider","changeDataData","addItemAdd","delItemAdd","priceItemAdd","delItemPrice","TextareaAutosize","placeholder","minRows","SiteSale2_edit_","promo_id","promoId","promo","findItem","limDate","limit","date1","date2","time1","time2","d1","d2","d3","d4","d5","d6","d7","coment","condition_text","SiteSale2_","city_list","promoName","findPromoList","all_city_list","showPromoList","city_name","def_count","delPromo","SiteSale2_Stat_","spam_list","spam_id","spam_list_data","spam_list_data_stat","true","all","percent","stat","show","changeSpam","SiteSale2_StatList_","promo_list","getUsers","Check","useParams","SiteStatMarc_","is_show_adv","show_stat_roll","show_stat_set","show_stat_pizza","newUsersTable","countOrdersTable","avgSumm","countPos","fakeUsers","roll_stat","set_stat","pizza_stat","typesShow","typeShow","advData","new_users","count_orders","avg_summ","fake_users","renderGraphNewUsers","renderGraphOrders","renderGraphAvgSumm","renderCountPos","renderGraphNewUsersD","renderGraphOrdersD","renderGraphAvgSummD","renderCountPosD","MyData","chartnewusers","dispose","root","am5","Root","setThemes","am5themes_Animated","chart","am5xy","XYChart","panY","wheelY","layout","verticalLayout","data_site","data_center","data_all","site","getTime","yAxis","yAxes","ValueAxis","extraTooltipPrecision","renderer","AxisRendererY","xAxis","xAxes","DateAxis","baseInterval","timeUnit","startLocation","endLocation","AxisRendererX","minGridDistance","createSeries","field","series","SmoothedXLineSeries","valueYField","valueXField","tooltip","Tooltip","maskBullets","bullets","Bullet","sprite","Circle","radius","fill","get","strokes","template","set","setAll","XYCursor","behavior","themeTags","chartnewusersD","date_new","chartorders","data_pic","data_dev","data_hall","pic","dev","hall","adv_data","adv1","adv2","lKey","entries","series2","ColumnSeries","categoryXField","clustered","pointerOrientation","labelText","columns","opacity","templateField","series3","createSeries2","chartordersD","dateFormatter","dateFormat","dateFields","yAxis2","CategoryAxis","categoryField","inversed","animationDuration","strokeWidth","openValueXField","categoryYField","sequencedInterpolation","processor","DataProcessor","chartavgsumm","chartavgsummD","chartcountpos","data_pizza","data_rolls","chartcountposD","lost_users","ret_users","showStat","SocialNetwork_","cityList","dataInfo","file","info","vk","inst","ok","tg","fb","file1","formData","FormData","append","axios","response","error","files","handleFileInput","dynamicCellStyle","params","colDef","headerName","Tender_","testTable","vendors","myVendors","showVendors","params_api","params_columnApi","table","k1","section","k2","k3","tableItem","k4","item_price","vendor_price","vendor_id","item_ras","ras","api","columnApi","AgGridReact","onGridReady","onCellClicked","rowData","AgGridColumn","pinned","cellClassRules","hide","resizable","cellStyle","VendorItemPrice_","vendor","allCity","isPrioriti","this_items","all_city","is_prioriti","changeVendor","name_for_vendor","update","full_price","pqs","rec_pq","VendorModule_","modalItems","modalVendor","modalVendorNew","vendor_items","openVendor","customAdd","vendorCities","allCities","nds","nds_","all_items","vendor_cities","all_cities","bill_ex","email","email_2","inn","min_price","need_img_bill_ex","ogrn","item_name","item1","paddingRight","Add","addItemCustom","changeSort","changeNDS","delItem","saveVendorItems","testChange","user","saveVendor","addVendor","openModalVendorNew","openModalVendor","DirectionsCar","openModalItems","HeaderItem","minWidth","minHeight","lv_cafe","kind","days","dataKey","changeDopBonus","bonus_other","fontSize","changeLVDir","lv_dir","show_zp","WorkSchedule_","one","two","test_one","test_two","isOpenModalH","userInfo","hList","mList","newTimeStart","newTimeEnd","openNewTimeAdd","otherAppList","otherApp","testVal","testOpen","mainMenu","mainMenuH","mainMenuSmena","show_bonus","mainMenuPrice","mainMenuLVDIR","mainMenuDopBonus","show_zp_one","show_zp_two","myOtherSmens","chooseUser","tabTable","arr_dir_lv","h","i","this_date","smena_id","user_id","h_info","other_app","key_time","hours","new_app","mentor_id","new_smena_id","part","LV","dir_lv","full_app_name","pt","ListItemAvatar","AccessTime","other_smens","SyncAlt","HomeWork","fastTime","LooksOne","LooksTwo","Looks3","fastSmena","Assessment","price_arr","changePriceH","price_p_h","newLvDir","scroll","dividers","my_load_h","all_load_h","bonus","mentor_list","changeHourse","saveDayHourse","borderColor","row","dates","date_k","openH","dop_bonus","h_price","err_price","my_bonus","dir_price_dop","given","order_stat","count_false","toolbar","toolbarIcon","mixins","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","fixedHeight","heading","typography","pxToRem","fontWeightRegular","Header","menu","full_menu","left_menu","AppBar","clsx","Toolbar","IconButton","edge","handleDrawerOpen","noWrap","Badge","badgeContent","Notifications","Autocomplete","getOptionLabel","option","key_query","renderInput","handleDrawerClose","ChevronLeft","parent","chaild","Status","render","staticContext","App","check_header","ThemeProvider","CssBaseline","Container","routes","ReactDOM","MyDaterange","dateAdapter","AdapterDateFns","locale","ruLocale","allowSameDateSelection","showTodayButton","inputFormat","startProps","endProps","MyAutocomplite","disableCloseOnSelect","filterSelectedOptions","isOptionEqualToValue","MySelect","MyTextInput","MyTimePicker","thisVal","InputLabelProps","shrink","step","inputProps","MyDatePickerNew","MyCheckBox","TextEditor","apiKey","menubar","plugins","content_style"],"sourceRoot":""}