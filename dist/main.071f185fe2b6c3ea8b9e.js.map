{"version":3,"file":"main.071f185fe2b6c3ea8b9e.js","mappings":"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","sources":["webpack://package.json/./server/routes.js","webpack://package.json/./src/components/advertising_company/advertising_company.component.jsx","webpack://package.json/./src/components/app_work/app_work.component.jsx","webpack://package.json/./src/components/app_work_point/app_work_point.component.jsx","webpack://package.json/./src/components/app_work_show/app_work_show.component.jsx","webpack://package.json/./src/components/auth/auth.component.jsx","webpack://package.json/./src/components/cat_work/cat_work.component.jsx","webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/concenter/concenter.component.jsx","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.component.jsx","webpack://package.json/./src/components/driver_stat/driver_stat.component.jsx","webpack://package.json/./src/components/events/events.component.jsx","webpack://package.json/./src/components/home/home.component.jsx","webpack://package.json/./src/components/live_orders/live_orders.component.jsx","webpack://package.json/./src/components/promo_items_stat/promo_items_stat.component.jsx","webpack://package.json/./src/components/ras_bill_and_cook/ras_bill_and_cook.component.jsx","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.component.jsx","webpack://package.json/./src/components/registration/registration.component.jsx","webpack://package.json/./src/components/revizion/revizion.component.jsx","webpack://package.json/./src/components/site_items/site_items.component.jsx","webpack://package.json/./src/components/site_sale_2/site_sale_2.component.jsx","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.component.jsx","webpack://package.json/./src/components/site_user_manager/site_user_manager.component.jsx","webpack://package.json/./src/components/sklad_items_module/sklad_items_module.component.jsx","webpack://package.json/./src/components/socialnetwork/socialnetwork.component.jsx","webpack://package.json/./src/components/tender/tender.component.jsx","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.component.jsx","webpack://package.json/./src/components/vendor_module/vendor_module.component.jsx","webpack://package.json/./src/components/work_schedule/work_schedule.component.jsx","webpack://package.json/./src/components/app/app.component.jsx","webpack://package.json/./src/index.prod.js","webpack://package.json/./src/stores/elements.js","webpack://package.json/./src/components/advertising_company/advertising_company.style.scss","webpack://package.json/./src/components/app/app.style.scss?aab7","webpack://package.json/./src/components/app_work/app_work.style.scss","webpack://package.json/./src/components/app_work_point/app_work_point.style.scss","webpack://package.json/./src/components/app_work_show/app_work_show.style.scss","webpack://package.json/./src/components/auth/auth.style.scss","webpack://package.json/./src/components/cat_work/cat_work.style.scss","webpack://package.json/./src/components/category_items/category_items.style.scss","webpack://package.json/./src/components/concenter/concenter.style.scss","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.style.scss","webpack://package.json/./src/components/driver_stat/driver_stat.style.scss","webpack://package.json/./src/components/events/events.style.scss?0175","webpack://package.json/./src/components/home/home.style.scss","webpack://package.json/./src/components/live_orders/live_orders.style.scss","webpack://package.json/./src/components/promo_items_stat/promo_items_stat.style.scss","webpack://package.json/./src/components/ras_bill_and_cook/ras_bill_and_cook.style.scss","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.style.scss","webpack://package.json/./src/components/registration/registration.style.scss","webpack://package.json/./src/components/revizion/revizion.style.scss?88b3","webpack://package.json/./src/components/site_items/site_items.style.scss","webpack://package.json/./src/components/site_sale_2/site_sale_2.style.scss","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.style.scss","webpack://package.json/./src/components/site_user_manager/site_user_manager.style.scss","webpack://package.json/./src/components/sklad_items_module/sklad_items_module.style.scss","webpack://package.json/./src/components/socialnetwork/socialnetwork.style.scss","webpack://package.json/./src/components/tender/tender.style.scss?9070","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.style.scss","webpack://package.json/./src/components/vendor_module/vendor_module.style.scss","webpack://package.json/./src/components/work_schedule/work_schedule.style.scss?55ba"],"sourcesContent":["const { Home } = require( '../src/components/home' );\r\nconst { Auth } = require( '../src/components/auth' );\r\nconst { Reg } = require( '../src/components/registration' );\r\n\r\nconst { LiveOrders } = require( '../src/components/live_orders' );\r\nconst { Events } = require( '../src/components/events' );\r\nconst { RasByBill } = require( '../src/components/ras_by_bill' );\r\nconst { CategoryItems } = require( '../src/components/category_items' );\r\nconst { VendorModule } = require( '../src/components/vendor_module' );\r\nconst { VendorItemPrice } = require( '../src/components/vendor_item_price' );\r\nconst { Tender } = require( '../src/components/tender' );\r\nconst { Revizion, RevizionNew } = require( '../src/components/revizion' );\r\nconst { WorkSchedule } = require( '../src/components/work_schedule' );\r\nconst { SiteSale2, SiteSale2_New, SiteSale2_Edit, SiteSale2_Stat, SiteSale2_StatList } = require( '../src/components/site_sale_2' );\r\nconst { DriveMapStatAll } = require( '../src/components/drive_map_stat_all' );\r\nconst { DriverStat } = require( '../src/components/driver_stat' );\r\nconst { Concenter } = require( '../src/components/concenter' );\r\nconst { SocialNetwork } = require( '../src/components/socialnetwork' );\r\nconst { CatWork } = require( '../src/components/cat_work' );\r\nconst { AppWorkPoint } = require( '../src/components/app_work_point' );\r\nconst { AppWork } = require( '../src/components/app_work' );\r\nconst { AppWorkShow } = require( '../src/components/app_work_show' );\r\nconst { SiteStatMarc } = require( '../src/components/site_stat_marc' );\r\nconst { AdvertisingCompany } = require( '../src/components/advertising_company' );\r\nconst { RasBillAndCook } = require( '../src/components/ras_bill_and_cook' );\r\nconst { SkladItemsModule } = require( '../src/components/sklad_items_module' );\r\nconst { SiteUserManager } = require( '../src/components/site_user_manager' );\r\nconst { PromoItemsStat } = require( '../src/components/promo_items_stat' );\r\nconst { SiteItems } = require( '../src/components/site_items' );\r\n\r\n//\r\n\r\nmodule.exports = [\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: Home,\r\n        title: 'Главная',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/auth',\r\n        exact: true,\r\n        component: Auth,\r\n        title: 'Авторизация',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/registration',\r\n        exact: true,\r\n        component: Reg,\r\n        title: 'Регистрация',\r\n        code: 200\r\n    },\r\n    \r\n    {\r\n        path: '/live_orders',\r\n        exact: true,\r\n        component: LiveOrders,\r\n        title: 'Оформленные заказы',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/events',\r\n        exact: true,\r\n        component: Events,\r\n        title: 'События',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/ras_by_bill',\r\n        exact: true,\r\n        component: RasByBill,\r\n        title: 'Расход по накладным',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/category_items',\r\n        exact: true,\r\n        component: CategoryItems,\r\n        title: 'Категории товаров',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/vendor_module',\r\n        exact: true,\r\n        component: VendorModule,\r\n        title: 'Поставщики',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/vendor_item_price',\r\n        exact: true,\r\n        component: VendorItemPrice,\r\n        title: 'Цены на товары поставщика',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/tender',\r\n        exact: true,\r\n        component: Tender,\r\n        title: 'Цены на товары поставщика',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/revizion',\r\n        exact: true,\r\n        component: Revizion,\r\n        title: 'Ревизия',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/revizion/new',\r\n        exact: true,\r\n        component: RevizionNew,\r\n        title: 'Новая ревизия',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/work_schedule',\r\n        exact: true,\r\n        component: WorkSchedule,\r\n        title: 'График работы',\r\n        code: 200\r\n    },\r\n    \r\n    {\r\n        path: '/site_sale_2',\r\n        exact: true,\r\n        component: SiteSale2,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/new',\r\n        exact: true,\r\n        component: SiteSale2_New,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/edit/:promoId',\r\n        exact: true,\r\n        component: SiteSale2_Edit,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/stat',\r\n        exact: true,\r\n        component: SiteSale2_Stat,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/stat_list',\r\n        exact: true,\r\n        component: SiteSale2_StatList,\r\n        title: 'Выписанные промики',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/drive_map_stat_all',\r\n        exact: true,\r\n        component: DriveMapStatAll,\r\n        title: 'Курьеры на карте',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/driver_stat',\r\n        exact: true,\r\n        component: DriverStat,\r\n        title: 'Статистика курьеров',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/concenter',\r\n        exact: true,\r\n        component: Concenter,\r\n        title: 'Контакт-центр',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/socialnetwork',\r\n        exact: true,\r\n        component: SocialNetwork,\r\n        title: 'Социальные сети',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/cat_work',\r\n        exact: true,\r\n        component: CatWork,\r\n        title: 'Категории уборок',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/app_work_point',\r\n        exact: true,\r\n        component: AppWorkPoint,\r\n        title: 'Уборки на точке',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/app_work',\r\n        exact: true,\r\n        component: AppWork,\r\n        title: 'Время уборок',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/app_work_show',\r\n        exact: true,\r\n        component: AppWorkShow,\r\n        title: 'Просмотр уборок',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_stat_marc',\r\n        exact: true,\r\n        component: SiteStatMarc,\r\n        title: 'Статистика маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/advertising_company',\r\n        exact: true,\r\n        component: AdvertisingCompany,\r\n        title: 'Рекламные компании',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/ras_bill_and_cook',\r\n        exact: true,\r\n        component: RasBillAndCook,\r\n        title: 'Расход от ревизии до числа',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/sklad_items_module',\r\n        exact: true,\r\n        component: SkladItemsModule,\r\n        title: 'Товары склада',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_user_manager',\r\n        exact: true,\r\n        component: SiteUserManager,\r\n        title: 'Сотрудники',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/promo_items_stat',\r\n        exact: true,\r\n        component: PromoItemsStat,\r\n        title: 'Анализ промокодов',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_items',\r\n        exact: true,\r\n        component: SiteItems,\r\n        title: 'Товары Сайта',\r\n        code: 200\r\n    },\r\n    \r\n];","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\n\r\nimport { MyTextInput, MyDatePickerNew, MySelect, MyAutocomplite, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n        month = '0' + month;\r\n    if (day.length < 2)\r\n        day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}\r\n    \r\nclass AdvertisingCompany_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'advertising_company',\r\n      module_name: '',\r\n      description: '',\r\n      is_load: false,\r\n      \r\n      adv_actual: [],\r\n      adv_old: [],\r\n      \r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n\r\n      point_id: 0,\r\n      points: [],\r\n      choosePoint: [],\r\n      points_filter: [],\r\n\r\n      is_active: 1,\r\n      id: 0,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      name: '',\r\n      editTextNew: '',\r\n\r\n      showItem: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n        module_name     : data.module_info.name,\r\n        adv_actual      : data.adv_actual,\r\n        adv_old         : data.adv_old,\r\n        points          : data.points,\r\n        points_filter   : data.points,\r\n        point_id        : data.points[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item) {\r\n    this.setState({\r\n      modalDialog     : true,\r\n      showItem        : true,\r\n      name            : item.name,\r\n      date_start      : item.date_start,\r\n      date_end        : item.date_end,\r\n      is_active       : item.is_active,\r\n      id              : item.id,\r\n      description     : item.description,\r\n      choosePoint     : item.choosePoint,\r\n    })\r\n    \r\n  }\r\n\r\n  // сохранение после редактирования\r\n  async save(){\r\n     let data = {\r\n        id          : this.state.id,\r\n        points      : this.state.choosePoint,\r\n        name        : this.state.name,\r\n        //rangeDate   : this.state.rangeDate,\r\n        date_start  : this.state.date_start,\r\n        date_end    : this.state.date_end,\r\n        is_active   : this.state.is_active,\r\n        id          : this.state.id,\r\n        description : this.state.description,\r\n     };\r\n\r\n      let res = await this.getData('save_edit', data);\r\n\r\n      if (res.st === false) {\r\n            alert(res.text)\r\n      } else {\r\n            this.setState({ \r\n                 modalDialog: false, \r\n                 // showItem: null, \r\n                 name: '',\r\n                 date_start: formatDate(new Date()),\r\n                 date_end: formatDate(new Date())\r\n            })\r\n\r\n          res = await this.getData('get_adv_point', { point_id: this.state.point_id } );\r\n\r\n           // оновляем список \r\n          this.setState({\r\n              adv_actual : res.adv_actual,\r\n              adv_old    : res.adv_old\r\n          })\r\n\r\n      }   \r\n  }\r\n     \r\n  async saveNew(){\r\n      let data = {\r\n          points        : this.state.choosePoint,\r\n          name          : this.state.name,\r\n          date_start    : this.state.date_start,\r\n          date_end      : this.state.date_end,\r\n          is_active     : this.state.is_active,\r\n          description   : this.state.description\r\n      };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n      if (res.st === false) {\r\n          alert(res.text)\r\n      } else {\r\n          this.setState({ \r\n              modalDialogNew: false,\r\n              name: '',\r\n              date_start: formatDate(new Date()),\r\n              date_end: formatDate(new Date())\r\n          })\r\n\r\n          res = await this.getData('get_adv_point', {point_id: this.state.point_id} );\r\n    \r\n          this.setState({\r\n              adv_actual : res.adv_actual,\r\n              adv_old    : res.adv_old,\r\n          })\r\n      }\r\n    }\r\n\r\n  changeChekBox(type, event) {\r\n      this.setState({\r\n          [type]: event.target.checked\r\n      })\r\n  }\r\n\r\n  changeDateRange(data, val) {\r\n    this.setState({\r\n      [data]: formatDate(val)\r\n    })\r\n  }\r\n\r\n  // смена точки\r\n  changePoint(event) {\r\n    this.setState({\r\n        point_id: event.target.value\r\n    })\r\n\r\n    setTimeout(() => {\r\n        this.getAdvList();\r\n    }, 50)\r\n  }\r\n\r\n  // получение спиок рек. компаний по точки\r\n  async getAdvList() {\r\n      let data = {\r\n          point_id: this.state.point_id,\r\n      };\r\n\r\n      let res = await this.getData('get_adv_point', data);\r\n\r\n      this.setState({\r\n          adv_actual: res.adv_actual,\r\n          adv_old   : res.adv_old,\r\n      })\r\n    }\r\n\r\n    // удаление РК\r\n    async delAdv(id) {\r\n        let data = {\r\n            point_id: this.state.point_id,\r\n        };\r\n\r\n        if (confirm('Вы действительно хотите удалить рекламную компанию?')) {\r\n           \r\n\r\n            let del = await this.getData('delete_adv', {id : id} );\r\n            if (!del['st']) {\r\n                alert('При удалении произошла ошибка');\r\n            }\r\n\r\n            let res = await this.getData('get_adv_point', data);\r\n\r\n            this.setState({\r\n                adv_actual: res.adv_actual,\r\n                adv_old: res.adv_old,\r\n            })\r\n\r\n        } \r\n        \r\n    }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showItem ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n                    onClose={() => { this.setState({ modalDialog: false,  description: '', name: '', choosePoint: [], date_start: formatDate(new Date()), date_end: formatDate(new Date()) }) } }\r\n          >\r\n            <DialogTitle>Компания \"{this.state.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                    <MyTextInput classes={this.state.classes} value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) }} label='Название акции' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyAutocomplite classes={this.state.classes} data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput classes={this.state.classes} value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n                 \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n                onClose={() => { this.setState({ modalDialogNew: false, description: '', name: '', choosePoint: [], date_start: formatDate(new Date()), date_end: formatDate(new Date()) }) } }\r\n        >\r\n          <DialogTitle>Новая акция</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n               <Grid item xs={12} sm={12}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) } } label='Название компании' />\r\n               </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyAutocomplite classes={this.state.classes} data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n               \r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput classes={this.state.classes} value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание'  />\r\n                 </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                     <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить акцию</Button>\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={6}>\r\n               <MySelect data={this.state.points_filter} value={this.state.point_id} func={this.changePoint.bind(this)} label='Точка' />\r\n            </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Grid item xs={12} sm={12}>\r\n                        <h2 style={{ textAlign: 'center' }}>Актвные</h2>\r\n                    </Grid>\r\n                    \r\n                    <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n                      <Table>\r\n                        <TableHead>\r\n                          <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }}>#</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Название</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Дата начало</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Дата окончания</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Точки</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                          </TableRow>\r\n                        </TableHead>\r\n\r\n                        <TableBody>\r\n                        {!this.state.adv_actual ? null :\r\n                           this.state.adv_actual.map((item, key) =>\r\n                                <TableRow key={key}  >\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ key + 1 } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.openCat.bind(this, item)} >{ item.name } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ item.date_start } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ item.date_end } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{item.choosePoint.map((it, k) => <React.Fragment key={k}> {it.name} </React.Fragment> )}</TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}> <CloseIcon onClick={this.delAdv.bind(this, item.id)} /> </TableCell>\r\n                               </TableRow>\r\n                         )}\r\n                        </TableBody>\r\n                     </Table>\r\n                    </TableContainer>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={12}>\r\n                            <h2 style={{ textAlign: 'center' }}>Не Актвные</h2>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12}>\r\n                            <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Название</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Дата начало</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Дата окончания</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Точки</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n\r\n                                    <TableBody>\r\n                                        {!this.state.adv_old ? null :\r\n                                            this.state.adv_old.map((item, key) =>\r\n                                                <TableRow key={key}  >\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{key + 1} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.openCat.bind(this, item)} >{item.name} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.date_start} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.date_end} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.choosePoint.map((it, k) => <React.Fragment key={k}> {it.name} </React.Fragment>)}</TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}> <CloseIcon onClick={this.delAdv.bind(this, item.id )} /> </TableCell>\r\n                                                </TableRow>\r\n                                            )}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AdvertisingCompany () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AdvertisingCompany_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nimport { MyTextInput, MyCheckBox, MySelect, MyTimePicker, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass AppWork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'app_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    data.items.map( (item, key) => {\r\n      data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      items: data.items,\r\n      items_min: data.items_min\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async saveEdit(){\r\n    let data = {\r\n      work: this.state.itemsEdit.item,\r\n      times_add: this.state.itemsEdit.times_add,\r\n      times_close: this.state.itemsEdit.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        itemsEdit: null,\r\n        nameWork: ''\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      work: this.state.itemsNew.item,\r\n      times_add: this.state.itemsNew.times_add,\r\n      times_close: this.state.itemsNew.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        itemsNew: null\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n      nameWork: res.item.name,\r\n      chengeItem1: this.state.items_min.find( (item, key) => parseInt( item.id ) == parseInt( res.item.work_id ) )\r\n    })\r\n  }\r\n\r\n  async openNewWork(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsNew: res,\r\n      modalDialogNew: true\r\n    })\r\n  }\r\n\r\n  chengeItem(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeItem1(type, event, data){\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsEdit: item,\r\n      chengeItem1: data\r\n    })\r\n  }\r\n\r\n  chengeItemNew(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  chengeItemNew1(type, event, data){\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsNew: item,\r\n      chengeItemNew1: data\r\n    })\r\n  }\r\n\r\n  chengeTime(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeNew(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  delTime(key){\r\n    let item = this.state.itemsEdit;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  delTimeNew(key){\r\n    let item = this.state.itemsNew;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  addTime(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n\r\n      this.setState({\r\n        itemsEdit: item\r\n      })\r\n    }\r\n  }\r\n\r\n  addTimeNew(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsNew;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n  \r\n      this.setState({\r\n        itemsNew: item\r\n      })\r\n    }\r\n  }\r\n\r\n  chengeTimeClose(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeCloseNew(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  async changeCheck(key, type, event){\r\n    let items = this.state.items;\r\n\r\n    items[ key ][ [type] ] = event.target.checked ? 1 : 0;\r\n\r\n    let data = {\r\n      type: type,\r\n      value: event.target.checked ? 1 : 0,\r\n      id: items[ key ].id\r\n    };\r\n\r\n    let res = await this.getData('save_check', data);\r\n    \r\n\r\n    this.setState({\r\n      items: items\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.itemsEdit ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n          >\r\n            <DialogTitle>Уборка \"{this.state.nameWork}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsEdit.item.name } func={ this.chengeItem.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsEdit.cats} value={this.state.itemsEdit.item.type_new} func={ this.chengeItem.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsEdit.item.time_min } func={ this.chengeItem.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsEdit.item.max_count } func={ this.chengeItem.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} classes={this.state.classes} value={this.state.itemsEdit.item.description} func={ this.chengeItem.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsEdit.apps} value={this.state.itemsEdit.item.app_id} func={ this.chengeItem.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.dows} value={this.state.itemsEdit.item.dow} func={ this.chengeItem.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.types} value={this.state.itemsEdit.item.type_time} func={ this.chengeItem.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsEdit.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite classes={this.state.classes} data={this.state.items_min} value={this.state.chengeItem1} func={ this.chengeItem1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsEdit.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker classes={this.state.classes} label={''} value={item.time_action} func={ this.chengeTime.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTime.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" classes={this.state.classes} label={''} value={'00:00'} onBlur={ this.addTime.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker classes={this.state.classes} label={''} value={this.state.itemsEdit.times_close} func={ this.chengeTimeClose.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveEdit.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.itemsNew ? null :\r\n          <Dialog\r\n            open={this.state.modalDialogNew}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialogNew: false }) } }\r\n          >\r\n            <DialogTitle>Новая уборка</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsNew.item.name } func={ this.chengeItemNew.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsNew.cats} value={this.state.itemsNew.item.type_new} func={ this.chengeItemNew.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsNew.item.time_min } func={ this.chengeItemNew.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.itemsNew.item.max_count } func={ this.chengeItemNew.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} classes={this.state.classes} value={this.state.itemsNew.item.description} func={ this.chengeItemNew.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.itemsNew.apps} value={this.state.itemsNew.item.app_id} func={ this.chengeItemNew.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.dows} value={this.state.itemsNew.item.dow} func={ this.chengeItemNew.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect classes={this.state.classes} data={this.state.types} value={this.state.itemsNew.item.type_time} func={ this.chengeItemNew.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsNew.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite classes={this.state.classes} data={this.state.items_min} value={this.state.chengeItemNew1} func={ this.chengeItemNew1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsNew.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker classes={this.state.classes} label={''} value={item.time_action} func={ this.chengeTimeNew.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTimeNew.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" classes={this.state.classes} label={''} value={'00:00'} onBlur={ this.addTimeNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker classes={this.state.classes} label={''} value={this.state.itemsNew.times_close} func={ this.chengeTimeCloseNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ this.openNewWork.bind(this) }>Добавить уборку</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>Должность</TableCell>\r\n                  <TableCell>Время</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  \r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                  <TableCell>Не удалять в конце смены</TableCell>\r\n                  <TableCell>Обязательна к выполнению в особый день</TableCell>\r\n                  <TableCell><VisibilityIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.items.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.app_name}</TableCell>\r\n                    <TableCell>{item.time_min ? item.time_min + 'мин.' : ''}</TableCell>\r\n                    <TableCell>{item.dow_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n\r\n                    <TableCell>{item.times_close}</TableCell>\r\n\r\n                    <TableCell>\r\n                      <MyCheckBox classes={this.state.classes} value={ parseInt(item.is_not_del) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_not_del') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox classes={this.state.classes} value={ parseInt(item.is_need) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_need') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox classes={this.state.classes} value={ parseInt(item.is_active) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_active') } label='' />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWork () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AppWork_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nimport { MyTextInput, MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass AppWorkPoint_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'app_work_point',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point_id: 0,\r\n\r\n      apps: [],\r\n      app_id: 0,\r\n\r\n      allList: [],\r\n      allListRender: [],\r\n      thisList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      point_id: data.points[0].id,\r\n      apps: data.apps,\r\n      app_id: data.apps[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeApp(event){\r\n    this.setState({\r\n      app_id: event.target.value\r\n    });\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n\r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('get_works', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      allList: res.all_work,\r\n      thisList: res.this_work,\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  checkList(){\r\n    let allList = this.state.allList;\r\n    let thisList = this.state.thisList;\r\n\r\n    thisList.map( (Titem) => {\r\n      let newArr = [];\r\n\r\n        allList.map( (Aitem) => {\r\n          if( parseInt(Aitem.id) != parseInt(Titem.id) ){\r\n            newArr.push(Aitem);\r\n          }\r\n        })\r\n\r\n        allList = newArr;\r\n    } )\r\n\r\n    this.setState({\r\n      allListRender: allList\r\n    })\r\n  }\r\n\r\n  add(id, name){\r\n    let thisList = this.state.thisList;\r\n    let allList = this.state.allList;\r\n\r\n    let check = thisList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n    let thisItem = allList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n\r\n\t\tif( !check ){\r\n\t\t\tthisList.push({id: id, name: name, time_min: 0, dop_time: 0, time_min: thisItem.time_min})\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n      thisList: thisList\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  del(id, name){\r\n    let new_arr = [];\r\n    let thisList = this.state.thisList;\r\n\r\n\t\tthisList.map(function(item, key){\r\n\t\t\tif( parseInt(item['id']) != parseInt(id) ){\r\n\t\t\t\tnew_arr.push( item )\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n      thisList: new_arr\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n\t}\r\n\r\n  async save(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id,\r\n      items: this.state.thisList\r\n    };\r\n\r\n    let fake_item = null;\r\n\r\n    this.state.thisList.map( (item, key) => {\r\n      if( item.dop_time.length == 0 ){\r\n        fake_item = item;\r\n      }\r\n    } )\r\n\r\n    console.log(fake_item  )\r\n\r\n    if( fake_item ){\r\n      alert('У позиции \"'+fake_item.name+'\" не указано доп время');\r\n\r\n      return ;\r\n    }\r\n\r\n    let res = await this.getData('save', data);\r\n\r\n    console.log( res )\r\n\r\n    alert(res.text)\r\n  }\r\n\r\n  changeDopTime(key, event){\r\n    let data = event.target.value;\r\n    let list = this.state.thisList;\r\n\r\n    if( !isNaN(data) || data == ''  ){\r\n      list[ key ]['dop_time'] = data == '' ? '' : parseInt(data);\r\n\r\n      this.setState({\r\n        thisList: list\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.apps} value={this.state.app_id} func={ this.changeApp.bind(this) } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getWorks.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.allListRender.map( (item, key) =>\r\n                <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                  <ListItemText primary={ item.name } />\r\n                  <SendIcon onClick={this.add.bind(this, item.id, item.name)} />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Table size='small'>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Наименование</TableCell>\r\n                  <TableCell>Основное время</TableCell>\r\n                  <TableCell>Доп время (в минутах)</TableCell>\r\n                  <TableCell><CloseIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.thisList.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.name}</TableCell>\r\n                    <TableCell>{item.time_min} мин.</TableCell>\r\n                    <TableCell>\r\n                      <MyTextInput classes={this.state.classes} value={ item.dop_time } func={ this.changeDopTime.bind(this, key) } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <CloseIcon onClick={this.del.bind(this, item.id, item.name)} style={{cursor: 'pointer'}} />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n          </Grid>\r\n        \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWorkPoint(){\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AppWorkPoint_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { MyTextInput, MyCheckBox, MySelect, MyTimePicker, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass AppWorkShow_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'app_work_show',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      showItems: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      activeTab: 0,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null,\r\n\r\n      points: [],\r\n      point_id: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let points = await this.getData('get_points');\r\n    \r\n    this.setState({\r\n      points: points,\r\n      point_id: points[0]['id']\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_all', data);\r\n\r\n    res.items.map( (item, key) => {\r\n      res.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    let activeTab = parseInt(this.state.activeTab);\r\n\r\n    if( activeTab == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( activeTab == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( activeTab == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      module_name: res.module_info.name,\r\n      items: res.items,\r\n      showItems: res.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) ),\r\n      items_min: res.items_min\r\n    })\r\n\r\n    document.title = res.module_info.name;\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id,\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n    })\r\n  }\r\n\r\n  changeTab(event, val){\r\n    let activeTab = parseInt(val);\r\n\r\n    if( val == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( val == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( val == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      activeTab: val,\r\n      showItems: this.state.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) )\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        \r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n\r\n          { !this.state.itemsEdit ? null :\r\n            <Dialog\r\n              open={this.state.modalDialog}\r\n              maxWidth={'md'}\r\n              onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n            >\r\n              <DialogTitle>Уборка \"{this.state.itemsEdit.item.name}\"</DialogTitle>\r\n              <DialogContent>\r\n                \r\n                <Grid container spacing={0}>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>{this.state.itemsEdit.item.cat_name}</Typography>\r\n                  </Grid>\r\n\r\n                  { this.state.itemsEdit.item.show_time == false ? null :\r\n                    <Grid item xs={12}>\r\n                      <Typography>Время за уборку: {this.state.itemsEdit.item.time_min} мин.</Typography>\r\n                    </Grid>\r\n                  }\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>Описание процесса уборки: </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography dangerouslySetInnerHTML={{__html: this.state.itemsEdit.item.text_work}}></Typography>\r\n                  </Grid>\r\n                  \r\n                </Grid>\r\n\r\n              </DialogContent>\r\n            </Dialog>\r\n          }\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Paper>\r\n              <Tabs value={this.state.activeTab} onChange={ this.changeTab.bind(this) }>\r\n                <Tab label=\"Повар\" {...a11yProps(0)} />\r\n                <Tab label=\"Кассир\" {...a11yProps(1)} />\r\n                <Tab label=\"Кухонный работник\" {...a11yProps(2)} />\r\n              </Tabs>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.showItems.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.dow_name} {item.need_work_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n                    <TableCell>{item.times_close}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function AppWorkShow () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <AppWorkShow_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 150,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  avatar2: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 130,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  textLink: {\r\n    color: '#c03'\r\n  }\r\n});\r\n\r\nclass Auth_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        this.state.history.push(\"/auth\");\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async auth(){\r\n    let data = {\r\n      login: document.getElementById('phone').value,\r\n      pwd: document.getElementById('password').value\r\n    };\r\n    \r\n    let res = await this.getData('auth', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      setTimeout( () => {\r\n        this.setState({ \r\n          modalDialog: true,\r\n          dialogTitle: 'Предупреждение',\r\n          dialogText: res.text\r\n        })\r\n      }, 500 )\r\n    }else{\r\n      localStorage.setItem('token', res.token)\r\n      \r\n      setTimeout( () => {\r\n        window.location.pathname = '/'\r\n      }, 300)\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div className={this.state.classes.paper}>\r\n              <Avatar className={this.state.classes.avatar}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              <form className={this.state.classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"phone\"\r\n                  label=\"Номер телефона\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"phone\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Пароль\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={this.state.classes.submit}\r\n                  onClick={ this.auth.bind(this) }\r\n                >\r\n                  Войти\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/registration\" className={this.state.classes.textLink}>Восстановить пароль</a>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Auth () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Auth_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport { MyTextInput, TextEditor } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass CatWork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'cat_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      nameCatNew: '',\r\n      editTextNew: '',\r\n\r\n      config: {\r\n        readonly: false // all options from https://xdsoft.net/jodit/doc/\r\n      },\r\n\r\n      showCat: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async save(){\r\n    let data = {\r\n      cat_id: this.state.showCat.id,\r\n      name: this.state.nameCat,\r\n      text: document.getElementById('EditorEdit').value\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        showCat: null, \r\n        nameCat: '' \r\n      })\r\n\r\n      document.getElementById('EditorEdit').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      name: this.state.nameCatNew,\r\n      text: document.getElementById('EditorNew').value\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        editTextNew: '', \r\n        nameCatNew: '' \r\n      })\r\n\r\n      document.getElementById('EditorNew').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showCat ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false, showCat: null, editText: '', nameCat: '' }) } }\r\n          >\r\n            <DialogTitle>Категория уборки \"{this.state.showCat.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyTextInput classes={this.state.classes} value={ this.state.nameCat } func={ (event) => { this.setState({ nameCat: event.target.value }) } } label='Название категории' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                  <TextEditor id=\"EditorEdit\" text={this.state.showCat.text} />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n          onClose={ () => { this.setState({ modalDialogNew: false, editTextNew: '', nameCatNew: '' }) } }\r\n        >\r\n          <DialogTitle>Новая категория уборки</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={ this.state.nameCatNew } func={ (event) => { this.setState({ nameCatNew: event.target.value }) } } label='Название категории' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <TextEditor id=\"EditorNew\" text={''} />\r\n              </Grid>\r\n              \r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.cats.map( (item, key) =>\r\n                <ListItem button key={key} onClick={ this.openCat.bind(this, item) }>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CatWork () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <CatWork_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass CategoryItems_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'category_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialog2: false,\r\n      modalDialog3: false,\r\n      \r\n      newMainCatMy: 0,\r\n      editMainCatMy: 0,\r\n      newMainNameMy: '',\r\n      editMainNameMy: '',\r\n      \r\n      editCat: null,\r\n      \r\n      allCats: [],\r\n      allItems: [],\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0,\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      allCats: data.cats,\r\n      allItems: data.items,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  createCat(){\r\n    this.setState({\r\n      modalDialog: true,\r\n      newMainCatMy: 0,\r\n      newMainNameMy: ''\r\n    })\r\n  }\r\n  \r\n  changeCatMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeCatMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  async saveCat(){\r\n    let data = {\r\n      name: this.state.newMainNameMy,\r\n      cat_id: this.state.newMainCatMy\r\n    };\r\n    \r\n    let res = await this.getData('save_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  addItems(cat_id){\r\n    \r\n    let myVal = this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(cat_id) );\r\n    let data = this.state.allItems.filter( (item) => parseInt(item.cat_id) == 0 );\r\n    \r\n    this.setState({\r\n      modalDialog2: true,\r\n      thisValItems: myVal,\r\n      thisDataItems: data,\r\n      thisCatId: cat_id\r\n    })\r\n  }\r\n  \r\n  async saveItems(){\r\n    let data = {\r\n      cat_id: this.state.thisCatId,\r\n      items: this.state.thisValItems\r\n    };\r\n    \r\n    let res = await this.getData('save_items_cat', data);\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      allItems: res.items,\r\n      modalDialog2: false,\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0\r\n    })\r\n  }\r\n  \r\n  editCat(cat){\r\n    this.setState({\r\n      modalDialog3: true,\r\n      editMainCatMy: cat.parent_id,\r\n      editMainNameMy: cat.name,\r\n      editCat: cat\r\n    })\r\n  }\r\n  \r\n  async saveEditCat(){\r\n    let data = {\r\n      name: this.state.editMainNameMy,\r\n      cat_id: this.state.editMainCatMy,\r\n      id: this.state.editCat.id\r\n    };\r\n    \r\n    let res = await this.getData('edit_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  classes={this.state.classes} \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) }\r\n                  value={this.state.newMainCatMy} \r\n                  func={ this.changeCatMain.bind(this) } />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField label=\"Название категории\" size=\"small\" variant=\"outlined\" style={{ width: '100%' }} color=\"primary\" value={this.state.newMainNameMy} onChange={this.changeNameMain.bind(this)} />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog2}\r\n          onClose={ () => { this.setState({ modalDialog2: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Позиции категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyAutocomplite \r\n                  label=\"Выбранные позиции\" \r\n                  multiple={true}\r\n                  func={ (event, val) => { this.setState({ thisValItems: val }) } }\r\n                  data={ this.state.thisDataItems } \r\n                  value={ this.state.thisValItems } />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveItems.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog3}\r\n          onClose={ () => { this.setState({ modalDialog3: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Редактирование категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  classes={this.state.classes} \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) } \r\n                  value={this.state.editMainCatMy} \r\n                  func={ this.changeCatMainEdit.bind(this) } \r\n                />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField \r\n                  label=\"Название категории\" \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                  style={{ width: '100%' }} \r\n                  color=\"primary\" \r\n                  value={this.state.editMainNameMy} \r\n                  onChange={ this.changeNameMainEdit.bind(this) }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveEditCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.createCat.bind(this)}>Создать категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.allCats.map( (main_cat, main_key) =>\r\n              parseInt(main_cat.parent_id) != -1 ? null :\r\n                <Accordion key={main_key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                  >\r\n                    <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, main_cat) } />\r\n                    <Typography>{main_cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                  { this.state.allCats.map( (parent_cat, parent_key) =>\r\n                    parseInt(main_cat.id) != parseInt(parent_cat.parent_id) ? null :\r\n                      <Accordion key={main_key+'_'+parent_key}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1a-content\"\r\n                        >\r\n                          <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, parent_cat) } />\r\n                          <Typography>{parent_cat.name}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          { this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(parent_cat.id) ).map( (item, key) =>\r\n                            <Accordion key={main_key+'_'+parent_key+'_'+key}>\r\n                              <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                              >\r\n                                <Typography>{item.name}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                            \r\n                          <Button onClick={this.addItems.bind(this, parseInt(parent_cat.id))}>Добавить</Button>\r\n                            \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                  )}\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n            ) }\r\n          </Grid>\r\n          \r\n          \r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CategoryItems () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <CategoryItems_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass Concenter_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'concenter',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialogDel: false,\r\n      \r\n      cities: [],\r\n      city_id: 1,\r\n      date: formatDate(new Date()),\r\n      point_list: [],\r\n      need_point_list: [],\r\n      point_id: 0,\r\n      indexTab: 0,\r\n\r\n      orders: [],\r\n      ordersRender: [],\r\n      showOrder: null,\r\n\r\n      radiogroup_options: [\r\n        {id: '0', label: 'Решили отредактировать заказ', value: 0 },\r\n        {id: '1', label: 'Не устраивает время ожидания', value: 0 },\r\n        {id: '2', label: 'Изменились планы', value: 0 },\r\n        {id: '3', label: 'Недостаточно средств', value: 0 },\r\n        {id: '4', label: 'Другое', value: 0 },\r\n      ],\r\n      textDel: '',\r\n      typeDel: -1,\r\n\r\n      number: '',\r\n      addr: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let need_points = data.points.filter( (item, key) => parseInt(item.city_id) == parseInt(data.cities[0].id) );\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities,\r\n      point_list: data.points,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id)\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    let data = event.target.value;\r\n    \r\n    let need_points = this.state.point_list.filter( (item, key) => parseInt(item.city_id) == parseInt(data) );\r\n\r\n    this.setState({\r\n      city_id: data,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id),\r\n      indexTab: 0\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  async changePoint(point_id, index){\r\n    //let point_id = event.target.id;\r\n    //point_id = point_id.split('-')[2]\r\n\r\n    this.setState({\r\n      point_id: point_id,\r\n      indexTab: index\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n    \r\n  }\r\n\r\n  async getOrders(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      date: this.state.date\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      orders: res.orders\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  btnGetOrders(){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    this.getOrders();\r\n  }\r\n\r\n  async showOrder(order_id){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      order_id: order_id\r\n    };\r\n\r\n    let res = await this.getData('get_order_new', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialog: true,\r\n      showOrder: res\r\n    })\r\n  }\r\n\r\n  closeOrder(){\r\n    this.setState({ modalDialogDel: true })\r\n  }\r\n\r\n  async closeOrderTrue(){\r\n    let deltype = this.state.radiogroup_options.find( (item) => item.id == this.state.typeDel );\r\n        \r\n    if( deltype.id == '4' ){\r\n      deltype.label = this.state.textDel;\r\n    }\r\n    \r\n    if (confirm(\"Отменить заказ #\"+this.state.showOrder.order.order_id)) {\r\n      let data = {\r\n        typeCreate: 'center',\r\n        order_id: this.state.showOrder.order.order_id,\r\n        point_id: this.state.showOrder.order.point_id,\r\n        ans: deltype.label\r\n      };\r\n  \r\n      let res = await this.getData('close_order_center', data);\r\n\r\n      //setTimeout(() => {\r\n        if( res['st'] === true ){\r\n          this.setState({\r\n            modalDialogDel: false,\r\n            modalDialog: false,\r\n          });\r\n          \r\n          this.getOrders();\r\n        }else{\r\n          alert( res['text'] );\r\n        }\r\n      //}, 300);\r\n    }\r\n  }\r\n\r\n  async fakeUser(){\r\n    let type_check = 0;\r\n\r\n    if( parseInt(this.state.showOrder.order.check_pos) >= 0 ){\r\n      if( parseInt(this.state.showOrder.order.check_pos) <= 100 ){\r\n        type_check = 1;\r\n      }else{\r\n        type_check = 2;\r\n      }\r\n    }else{\r\n      type_check = 0;\r\n    }\r\n\r\n    //0 - не активно\r\n    //1 - сразу\r\n    //2 - уточнить\r\n\r\n    \r\n    if( parseInt(type_check) == 0 ){\r\n      alert('Создать обращение не возможно')\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(type_check) == 1 ){\r\n      let text = prompt('Комментарий к ситуации', '');\r\n\r\n      if(text.length > 0){\r\n        let data = {\r\n          text: text,\r\n          point_id: parseInt(this.state.showOrder.order.point_id),\r\n          order_id: parseInt(this.state.showOrder.order.order_id),\r\n        };\r\n    \r\n        let res = await this.getData('fake_user', data);\r\n  \r\n        if(res['st'] == true){\r\n          alert('Обращение зафиксировано')\r\n          this.setState({ modalDialog: false })\r\n        }else{\r\n          alert(res['text'])\r\n        }\r\n\r\n      }else{\r\n        alert('надо указать комментарий')\r\n      }\r\n    }\r\n\r\n    if( parseInt(type_check) == 2 ){\r\n      const result = confirm('Курьер, предположительно, находиться далеко от клиента, точно оформить довоз ?');\r\n\r\n      if (result) {\r\n        var text = prompt('Комментарий к ситуации', '');\r\n\r\n        if(text.length > 0){\r\n          let data = {\r\n            text: text,\r\n            point_id: parseInt(this.state.showOrder.order.point_id),\r\n            order_id: parseInt(this.state.showOrder.order.order_id),\r\n          };\r\n      \r\n          let res = await this.getData('fake_user', data);\r\n\r\n          if(res['st'] == true){\r\n            alert('Обращение зафиксировано')\r\n            this.setState({ modalDialog: false })\r\n          }else{\r\n            alert(res['text'])\r\n          }\r\n        }else{\r\n          alert('надо указать комментарий')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  changeText(event){\r\n    this.setState({ textDel: event.target.value })\r\n  }\r\n\r\n  changeAddr = (event) => {\r\n    this.setState({\r\n      typeDel: event.target.value,\r\n    })\r\n  }\r\n\r\n  changeDate(val){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n    \r\n    this.setState({\r\n      date: formatDate(val)\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n\r\n  changeNumber(event){\r\n    let value = event.target.value;\r\n    \r\n    if( isNaN(value) ){\r\n      return ;\r\n    }\r\n\r\n    this.setState({ number: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  changeAddrSt(event){\r\n    let value = event.target.value;\r\n    \r\n    this.setState({ addr: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  filterNumber(){\r\n    let renderOrders = this.state.orders;\r\n\r\n    if( this.state.number.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => item.number.indexOf(this.state.number) !== -1 );\r\n    }\r\n\r\n    if( this.state.addr.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => (item.street + ' ' + item.home).toLowerCase() .indexOf(this.state.addr.toLowerCase()) !== -1 );\r\n    }\r\n\r\n    this.setState({\r\n      ordersRender: renderOrders\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Заказ #{this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <Grid container spacing={0}>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.type_order}: {this.state.showOrder.order.type_order_addr_new}</span>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.time_order_name}: {this.state.showOrder.order.time_order}</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.number.length > 1 ? \r\n                  <Grid item xs={12}>\r\n                    <b>Телефон: </b> \r\n                    <span>{this.state.showOrder.order.number}</span> \r\n                  </Grid>\r\n                    : \r\n                  null\r\n                }\r\n\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>Удален: {this.state.showOrder.order.date_time_delete}</span></Grid> : null}\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>{this.state.showOrder.order.delete_reason}</span></Grid> : null}\r\n                \r\n                { parseInt(this.state.showOrder.order.is_preorder) == 1 ? null :\r\n                  <Grid item xs={12}><span>{this.state.showOrder.order.text_time}{this.state.showOrder.order.time_to_client}</span></Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}><span>{this.state.showOrder.order.textTime}</span></Grid>\r\n                \r\n                \r\n                { this.state.showOrder.order.promo_name == null || this.state.showOrder.order.promo_name.length == 0 ? null :\r\n                  <>\r\n                    <Grid item xs={12}>\r\n                      <b>Промокод: </b>\r\n                      <span>{this.state.showOrder.order.promo_name}</span>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <span className=\"noSpace\">{this.state.showOrder.order.promo_text}</span>\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                { this.state.showOrder.order.comment == null || this.state.showOrder.order.comment.length == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Комментарий: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                { this.state.showOrder.order.sdacha == null || parseInt(this.state.showOrder.order.sdacha) == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Сдача: </b>\r\n                    <span>{this.state.showOrder.order.sdacha}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}>\r\n                  <b>Сумма заказа: </b>\r\n                  <span>{this.state.showOrder.order.sum_order} р</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.check_pos_drive == null || !this.state.showOrder.order.check_pos_drive ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Довоз оформлен: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12}>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { this.state.showOrder.order_items.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell>{item.name}</TableCell>\r\n                          <TableCell>{item.count}</TableCell>\r\n                          <TableCell>{item.price} р</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>Сумма закза</TableCell>\r\n                        <TableCell></TableCell>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>{this.state.showOrder.order.sum_order} р</TableCell>\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>\r\n                </Grid>\r\n\r\n                <Accordion style={{ width: '100%' }}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>Расформировка</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <Table size={'small'} style={{ marginTop: 15 }}>\r\n                      <TableBody>\r\n                        { this.state.showOrder.order_items_.map( (item, key) =>\r\n                          <TableRow key={key}>\r\n                            <TableCell>{item.name}</TableCell>\r\n                            <TableCell style={{ backgroundColor: parseInt(item.ready) > 0 ? '#6ab04c' : '#eb4d4b' }}></TableCell>\r\n                          </TableRow>\r\n                        ) }\r\n                      </TableBody>\r\n                    </Table>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n\r\n            { parseInt( this.state.showOrder.order.is_delete ) == 0 && parseInt( this.state.showOrder.order.status_order ) !== 6 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={ this.closeOrder.bind(this) }>Отменить заказ</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n\r\n            { parseInt( this.state.showOrder.order.type_order_ ) == 1 && parseInt( this.state.showOrder.order.status_order ) > 4 && parseInt( this.state.showOrder.order.check_pos ) >= 0 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItemYellow\" onClick={ this.fakeUser.bind(this) }>Клиент не вышел на связь</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialogDel}\r\n            onClose={ () => { this.setState({ modalDialogDel: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Отмена заказа {this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup name=\"typeDel\" value={ this.state.typeDel } onChange={this.changeAddr} >\r\n                  {this.state.radiogroup_options.map((item, key) => \r\n                    <FormControlLabel key={key} value={item.id} control={<Radio />} label={item.label} />\r\n                  )}\r\n                </RadioGroup>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                //autoFocus\r\n                onFocus={ () => { this.setState({ typeDel: '4' }) } }\r\n                value={ this.state.textDel }\r\n                onChange={ this.changeText.bind(this) }\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label=\"Причина отмены\"\r\n                type=\"text\"\r\n                fullWidth\r\n              />\r\n\r\n            </DialogContent>\r\n\r\n            <DialogActions style={{ paddingBottom: 24 }}>\r\n\r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={() => { this.setState({delOrder: false}) }}>К заказу</Button>\r\n              </ButtonGroup>\r\n              \r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={this.closeOrderTrue.bind(this)}>Отменить заказ</Button>\r\n              </ButtonGroup>\r\n\r\n            </DialogActions>\r\n                \r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label={'Дата'} value={this.state.date} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Номер телефона'} value={this.state.number} func={ this.changeNumber.bind(this) } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Адрес'} value={this.state.addr} func={ this.changeAddrSt.bind(this) } />\r\n          </Grid>\r\n\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.btnGetOrders.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Tabs value={this.state.indexTab}>\r\n              { this.state.need_point_list.map( (item, key) =>\r\n                <Tab key={key} label={item.name} onClick={this.changePoint.bind(this, item.id, key)} {...a11yProps(parseInt(item.id))} />\r\n              ) }\r\n            </Tabs>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Оформил</TableCell>\r\n                  <TableCell>Номер клиента</TableCell>\r\n                  <TableCell>Адрес доставки</TableCell>\r\n                  <TableCell>Время открытия заказа</TableCell>\r\n                  \r\n                  <TableCell>Ко времени</TableCell>\r\n                  <TableCell>Закрыт на кухне</TableCell>\r\n                  <TableCell>Получен клиентом</TableCell>\r\n\r\n                  <TableCell>До просрочки</TableCell>\r\n                  <TableCell>Время обещ</TableCell>\r\n\r\n                  <TableCell>Тип</TableCell>\r\n                  <TableCell>Статус</TableCell>\r\n\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Оплата</TableCell>\r\n                  <TableCell>Водитель</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.ordersRender.map( (item, key) =>\r\n                  <TableRow key={key} style={ parseInt(item.is_delete) == 1 ? {backgroundColor: 'red', color: '#fff', fontWeight: 'bold'} : {} }>\r\n                    <TableCell style={ parseInt(item.dist) >= 0 ? {backgroundColor: 'yellow', color: '#000', cursor: 'pointer', fontWeight: 'inherit'} : {color: 'inherit', cursor: 'pointer', fontWeight: 'inherit'} } onClick={this.showOrder.bind(this, item.id)}>{item.id}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_user}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.number}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.street} {item.home}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.date_time_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit', backgroundColor: parseInt(item.is_preorder) == 1 ? '#bababa' : 'inherit' }}>{item.need_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{ item.give_data_time == '00:00:00' ? '' : item.give_data_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.close_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.to_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.unix_time_to_client == '0' || parseInt(item.is_preorder) == 1 ? '' : item.unix_time_to_client}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_order}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.status}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.order_price}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_pay}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.driver}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Concenter () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Concenter_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass DriveMapStatAll_ extends React.Component {\r\n  map = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      //classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'drive_map_stat_all',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      drivers: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.getOrders(res.orders, res.home, res.drivers)\r\n\r\n    this.setState({\r\n      drivers: res.drivers\r\n    })\r\n\r\n    console.log( res.drivers )\r\n  }\r\n  \r\n  getOrders(orders, home, drivers){\r\n    \r\n      \r\n      //setTimeout( () => {\r\n        let objectManager = new ymaps.ObjectManager();\r\n        \r\n        if( !this.map ){\r\n          ymaps.ready(() => {\r\n            this.map = new ymaps.Map('map', {\r\n              center: [home.latitude, home.longitude],\r\n              zoom: 11\r\n            }, {\r\n              searchControlProvider: 'yandex#search'\r\n            })\r\n            \r\n            //дом\r\n            let myGeoObject = new ymaps.GeoObject({\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [home.latitude, home.longitude]\r\n              },\r\n            }, {\r\n              preset: 'islands#blackDotIcon', \r\n              iconColor: 'black'\r\n            })\r\n            \r\n            this.map.geoObjects.add(myGeoObject);\r\n            \r\n            \r\n            \r\n            let json = {\r\n              \"type\": \"FeatureCollection\",\r\n              \"features\": []\r\n            };\r\n                    \r\n            orders.map( function(item){\r\n            \r\n              json.features.push({\r\n                type: \"Feature\",\r\n                id: item.id,\r\n                options: {\r\n                  preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n                  iconColor: item.point_color ? item.point_color : item.color\r\n                },\r\n                properties: {\r\n                  iconCaption: item.point_text,\r\n                },\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [item.xy.latitude, item.xy.longitude]\r\n                },\r\n              })\r\n              \r\n            } )\r\n            \r\n            objectManager.add(json);\r\n\r\n            drivers.map( function(driver){\r\n              driver.positions.map( function(pos, key){\r\n  \r\n                pos['xy'] = JSON.parse(pos['xy'], true);\r\n  \r\n                json.features.push({\r\n                  type: \"Feature\",\r\n                  id: pos.id,\r\n                  options: {\r\n                    preset: 'islands#stretchyIcon', \r\n                    iconColor: driver.color,\r\n                  },\r\n                  properties: {\r\n                    iconContent: key\r\n                  },\r\n                  geometry: {\r\n                    type: \"Point\",\r\n                    coordinates: [pos['xy'][0], pos['xy'][1]],\r\n                  },\r\n                })\r\n  \r\n  \r\n              } )\r\n            } )\r\n  \r\n            objectManager.add(json);\r\n\r\n            this.map.geoObjects.add(objectManager);\r\n          });\r\n        }else{\r\n          \r\n          let json = {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": []\r\n          };\r\n                  \r\n          //дом\r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: 0,\r\n            options: {\r\n              preset: 'islands#blackDotIcon', \r\n              iconColor: 'black'\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [home.latitude, home.longitude]\r\n            },\r\n          })\r\n          \r\n          \r\n          orders.map( function(item){\r\n            \r\n            json.features.push({\r\n              type: \"Feature\",\r\n              id: item.id,\r\n              options: {\r\n                preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n                iconColor: item.point_color ? item.point_color : item.color\r\n              },\r\n              properties: {\r\n                iconCaption: item.point_text,\r\n                //iconCaption: parseInt(item.status_order) == 6 ? item.close_time_ : parseInt(item.is_pred) == 1 ? item.need_time : parseInt(item.is_my) == 1 ? item.time_start_mini : '',\r\n              },\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [item.xy.latitude, item.xy.longitude]\r\n              },\r\n            })\r\n            \r\n          } )\r\n          \r\n          objectManager.add(json);\r\n\r\n          drivers.map( function(driver){\r\n            driver.positions.map( function(pos, key){\r\n\r\n              pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n              json.features.push({\r\n                type: \"Feature\",\r\n                id: pos.id,\r\n                options: {\r\n                  preset: 'islands#stretchyIcon', \r\n                  iconColor: driver.color,\r\n                },\r\n                properties: {\r\n                  iconContent: key\r\n                },\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [pos['xy'][0], pos['xy'][1]],\r\n                },\r\n              })\r\n\r\n\r\n            } )\r\n          } )\r\n\r\n          objectManager.add(json);\r\n\r\n          this.map.geoObjects.removeAll()\r\n          this.map.geoObjects.add(objectManager);\r\n        }\r\n        \r\n        /*objectManager.objects.events.add(['click'], (e) => {\r\n          let order_id = e.get('objectId');\r\n          let order = this.state.orders.find( (item) => parseInt(item.id) == parseInt(order_id) );\r\n          \r\n          if( order ){\r\n            this.showOrder(order);\r\n          }\r\n        });*/\r\n        \r\n      //}, 300 )\r\n    \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.drivers.map( (item, key) =>\r\n              <div key={key} style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                <div style={{ width: 50, height: 20, backgroundColor: item.color }}></div>\r\n                <div>{item.driver_name}</div>\r\n              </div>\r\n            ) }\r\n          </Grid>       \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <div id=\"map\" name=\"map\" style={{ width: '100%', height: 700, paddingTop: 10 }} />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriveMapStatAll () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <DriveMapStatAll_ history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput, MyDaterange, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass DriverStat_ extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'driver_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      modalDialog: false,\r\n\r\n      drive_stat_full: [],\r\n      drive_stat_date: null,\r\n      summ: 0,\r\n      choose_driver_id: 0,\r\n      check_cash: 0,\r\n\r\n      getSumm: 0,\r\n      modalDialogGetSumm: false,\r\n      getSummDriverId: null,\r\n      getSummComment: '',\r\n\r\n      modalDialogStatSumm: false,\r\n      modalDialogStatSummMain: false,\r\n      statSumm: [],\r\n      statSummMain: [],\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      drive_stat_full: res.drive_stat_full,\r\n      drive_stat_date: res.stat_drive_date\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd]\r\n    })\r\n  }\r\n\r\n  changeDate(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n\r\n  giveCash(driver_id, check_cash){\r\n    this.setState({\r\n      modalDialog: true,\r\n      choose_driver_id: driver_id,\r\n      check_cash: check_cash\r\n    })\r\n  }\r\n\r\n  changeSumm(event){\r\n    this.setState({\r\n      summ: event.target.value,\r\n    })\r\n  }\r\n\r\n  async saveGivePrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.summ ) > parseInt( this.state.check_cash ) ){\r\n      alert('Нельзя сдать денег больше, чем есть у курьера');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.summ,\r\n      driver_id: this.state.choose_driver_id,\r\n    };\r\n    \r\n    let res = await this.getData('save_give', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialog: false,\r\n        check_cash: 0,\r\n        choose_driver_id: 0,\r\n        summ: 0\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  getCash(driver){\r\n    this.setState({\r\n      modalDialogGetSumm: true,\r\n      getSumm: 0,\r\n      getSummDriverId: driver,\r\n      getSummComment: ''\r\n    })\r\n  }\r\n\r\n  async saveGetPrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.getSumm ) > 1000 ){\r\n      alert('Нельзя выдать больше 1000р за раз');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.getSumm,\r\n      driver_id: this.state.getSummDriverId.driver_id,\r\n      comment: this.state.getSummComment\r\n    };\r\n    \r\n    let res = await this.getData('save_get', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialogGetSumm: false,\r\n        getSumm: 0,\r\n        getSummDriverId: null,\r\n        getSummComment: ''  \r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  async getStatDop(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('getStatDop', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSumm: true,\r\n      statSumm: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  async getStatDopMain(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('getStatDopMain', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSummMain: true,\r\n      statSummMain: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, check_cash: 0, choose_driver_id: 0, summ: 0 }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Какую сумму сдает курьер</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <MyTextInput label=\"\" value={this.state.summ} func={this.changeSumm.bind(this)} />\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGivePrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogGetSumm}\r\n          onClose={ () => { this.setState({ modalDialogGetSumm: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Дополнительная выплата курьеру \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} type='number' value={ this.state.getSumm } func={ (event) => { this.setState({ getSumm: event.target.value }) } } label='Сумма' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} maxRows={2} value={ this.state.getSummComment } func={ (event) => { this.setState({ getSummComment: event.target.value }) } } label='Комментарий' />\r\n              </Grid>\r\n\r\n            </Grid>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGetPrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSumm}\r\n          onClose={ () => { this.setState({ modalDialogStatSumm: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Доп выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Кто назначил</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Комментарий</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSumm.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{item.user_name}</TableCell>\r\n                    <TableCell>{item.price}</TableCell>\r\n                    <TableCell>{item.comment}</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) > 0 ? 'Довоз' : 'Доп выплата' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSummMain}\r\n          onClose={ () => { this.setState({ modalDialogStatSummMain: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Пользователь</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSummMain.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? '' : item.order_id }</TableCell>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{ parseInt(item.my_cash) == 0 ? item.give : item.my_cash }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? item.user_name : '' }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? 'Сдал' : 'С заказа' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDate.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDate.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                \r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Вся сумма</TableCell>\r\n                    <TableCell>Сумма по налу</TableCell>\r\n                    <TableCell>Сумма по безналу</TableCell>\r\n                    <TableCell>Кол-во по налу</TableCell>\r\n                    <TableCell>Кол-во по безналу</TableCell>\r\n                    <TableCell>К сдаче</TableCell>\r\n\r\n                    <TableCell>Сдал за период</TableCell>\r\n\r\n                    <TableCell>Довозы</TableCell>\r\n                    <TableCell style={{ display: 'none' }}>Ошибки</TableCell>\r\n                    <TableCell>-</TableCell>\r\n                    <TableCell>Заказы</TableCell>\r\n                    <TableCell>Заработал</TableCell>\r\n                    <TableCell>Налички на руках</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                  \r\n                  { this.state.drive_stat_full.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.full_sum}</TableCell>\r\n                      <TableCell>{item.full_cash}</TableCell>\r\n                      <TableCell>{item.full_bank}</TableCell>\r\n                      <TableCell>{item.count_cash}</TableCell>\r\n                      <TableCell>{item.count_bank}</TableCell>\r\n                      <TableCell>{item.sdacha}</TableCell>\r\n\r\n                      <TableCell>{item.give_by_date}</TableCell>\r\n\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDop.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.dop_price ? item.dop_price : 0}</Button>\r\n                      </TableCell>\r\n\r\n                      <TableCell style={{ display: 'none' }}>{item.err_summ}</TableCell>\r\n                      <TableCell>{item.my_price ? item.my_price : 0}</TableCell>\r\n\r\n                      \r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDopMain.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.my_orders}</Button>\r\n                      </TableCell>\r\n\r\n                      \r\n                      <TableCell>{item.my}</TableCell>\r\n                      <TableCell>{item.ost_cash}</TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.giveCash.bind(this, item.driver_id, item.ost_cash)}>Сдать</Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getCash.bind(this, item)}>Доп выплата</Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                \r\n                </TableBody>\r\n              \r\n              </Table>\r\n            </TableContainer>\r\n          </Grid>\r\n\r\n          { this.state.drive_stat_date == null ? null :\r\n            <Grid item xs={12}>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  \r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Курьер</TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <TableCell key={key} colSpan={4} style={{textAlign: 'center'}}>{item.date}</TableCell>\r\n                      ) }\r\n                    </TableRow>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <React.Fragment key={key}>\r\n                          <TableCell style={{textAlign: 'center'}}>Наличка</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Безнал</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Сдача</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Заработал</TableCell>\r\n                        </React.Fragment>\r\n                      ) }\r\n\r\n                    </TableRow>\r\n                  </TableHead>\r\n\r\n                  <TableBody>\r\n                    \r\n                    { this.state.drive_stat_date.unic_users.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell style={{borderRight: '1px solid #eee'}}>{item.short_name}</TableCell>\r\n\r\n                        { this.state.drive_stat_date.orders.map( function(order, order_k){\r\n\r\n                          let check = false,\r\n                            data = {};\r\n    \r\n                          order['new_users'].map(function(it, k){\r\n                            if(parseInt(it['driver_id']) == parseInt(item['driver_id']) && it['date'] == order['date']){\r\n                              check = true;\r\n                              data = it;\r\n                            }\r\n                          })\r\n\r\n                          if(check == false){\r\n                            return (\r\n                              <TableCell key={order_k} colSpan={4} style={{borderRight: '1px solid #eee'}}></TableCell>\r\n                            )\r\n                          }else{\r\n                            return (\r\n                              <React.Fragment key={key}>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.full_cash}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.full_bank}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.sdacha}</TableCell>\r\n                                <TableCell style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{data.my}</TableCell>\r\n                              </React.Fragment>\r\n                            )\r\n                          }\r\n\r\n                        })}\r\n\r\n                      </TableRow>\r\n                    )}\r\n                  </TableBody>\r\n                \r\n                  <TableFooter>\r\n                    \r\n                    <TableRow>\r\n                      <TableCell style={{borderRight: '1px solid #eee'}}></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <React.Fragment key={key}>\r\n                          <TableCell key={key+'_1'} style={{textAlign: 'center'}}>{item.full_cash}</TableCell>\r\n                          <TableCell key={key+'_2'} style={{textAlign: 'center'}}>{item.full_bank}</TableCell>\r\n                          <TableCell key={key+'_3'} style={{textAlign: 'center'}}>{item.sdacha}</TableCell>\r\n                          <TableCell key={key+'_4'} style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{item.my}</TableCell>\r\n                        </React.Fragment>\r\n                      )}\r\n                        \r\n\r\n                    </TableRow>\r\n                    \r\n                  </TableFooter>\r\n\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriverStat () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <DriverStat_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass Events_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'events',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      mounths: [],\r\n      years: [],\r\n      year: '0',\r\n      \r\n      calendar: [],\r\n      modalDialog: false,\r\n      \r\n      chooseDayHoly: '',\r\n      events: [],\r\n      chooseEvent: 0,\r\n      \r\n      eventPoint1: 0,\r\n      everyYear1: false,\r\n      timeStart2: '10:00',\r\n      timeEnd2: '21:30',\r\n      \r\n      expanded: '',\r\n      dayEvents: [],\r\n      events_hist: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n      mounths: data.mounth,\r\n      mounth: data.this_m,\r\n      years: data.years,\r\n      year: data.this_y,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeMounth(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      mounth: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeYear(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      year: data\r\n    })\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      m: this.state.mounth,\r\n      y: this.state.year,\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_calendar', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      calendar: res.year,\r\n    })\r\n  }\r\n  \r\n  async chooseDay(day){\r\n    \r\n    if( day.full_day ){\r\n    \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false,\r\n        events_hist: []\r\n      })\r\n      \r\n      let data = {\r\n        date: day.full_day,\r\n        point_id: this.state.point\r\n      };\r\n      \r\n      let res = await this.getData('get_calendar_day', data);\r\n      \r\n      console.log( 'res', res )\r\n      \r\n      this.setState({\r\n        chooseDay: day,\r\n        chooseDayHoly: res.holy,\r\n        events: res.events,\r\n        events_hist: res.hist,\r\n        dayEvents: res.this_events,\r\n        modalDialog: true\r\n      })\r\n    }\r\n  }\r\n  \r\n  changeEvent(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      chooseEvent: data\r\n    })\r\n  }\r\n  \r\n  changePoint1(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      eventPoint1: data\r\n    })\r\n  }\r\n  \r\n  changeEveryYear1(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      everyYear1: data\r\n    })\r\n  }\r\n  \r\n  changeTimeStart2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeStart2: data\r\n    })\r\n  }\r\n  \r\n  changeTimeEnd2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeEnd2: data\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      date: this.state.chooseDay.full_day,\r\n      point_id: this.state.eventPoint1,\r\n      event: this.state.chooseEvent,\r\n      every_year: this.state.everyYear1 === true ? 1 : 0,\r\n      \r\n      time_start: this.state.timeStart2,\r\n      time_end: this.state.timeEnd2,\r\n    };\r\n    \r\n    let res = await this.getData('save_event', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  handleChange(data){\r\n    this.setState({\r\n      expanded: data\r\n    })\r\n  }\r\n  \r\n  async delEvent(event){\r\n    console.log( 'delEvent', event )\r\n    \r\n    if (confirm('Удалить событие \"'+event.title+' '+event.date+'\" ?')) {\r\n      let data = {\r\n        del_id: event.id\r\n      };\r\n      \r\n      let res = await this.getData('del_event', data);\r\n      \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    } else {\r\n      \r\n    }\r\n    \r\n\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.chooseDay ? this.state.chooseDay.full_day : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                {this.state.chooseDayHoly.length == 0 ? null :\r\n                  <Grid item xs={12} sm={12}>\r\n                    <Typography component=\"span\">{this.state.chooseDayHoly}</Typography>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect classes={this.state.classes} data={this.state.events} value={this.state.chooseEvent} func={ this.changeEvent.bind(this) } label='Событие' />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect classes={this.state.classes} data={this.state.points} value={ this.state.eventPoint1 } func={ this.changePoint1.bind(this) } label='Точка' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.chooseEvent) !== 2 ? null :\r\n                  <>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker classes={this.state.classes} value={ this.state.timeStart2 } func={ this.changeTimeStart2.bind(this) } label='Время начала работы' />\r\n                    </Grid>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker classes={this.state.classes} value={ this.state.timeEnd2 } func={ this.changeTimeEnd2.bind(this) } label='Время окончания работы' />\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyCheckBox classes={this.state.classes} value={ this.state.everyYear1 } func={ this.changeEveryYear1.bind(this) } label='Каждый год' />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n              \r\n              <List component=\"nav\">\r\n                { this.state.dayEvents.map( (item, key) => \r\n                  <ListItem key={key}>\r\n                    <ListItemText primary={item.title} />\r\n                    { parseInt(item.type) == 4 ? null :\r\n                      <CloseIcon color=\"primary\" onClick={this.delEvent.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                    }\r\n                  </ListItem>\r\n                )}\r\n              </List>\r\n              \r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List component=\"nav\">\r\n                    { this.state.events_hist.map( (item, key) => \r\n                      <ListItem key={key}>\r\n                        <ListItemText primary={item.title} />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.save.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.mounths} value={this.state.mounth} func={ this.changeMounth.bind(this) } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.years} value={this.state.year} func={ this.changeYear.bind(this) } label='Год' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }}>\r\n            \r\n            { this.state.calendar.map( (item, key) =>\r\n            \r\n              <Grid item xs={12} sm={4} key={key} style={{ padding: 20 }}>\r\n                <h1 style={{ textAlign: 'center' }}>{ item[0][0].mounth }</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" style={{ overflow: 'hidden' }}>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Пн</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Вт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Ср</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Чт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Пт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Сб</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Вс</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { item.map( (mounth, m_key) =>\r\n                        <TableRow key={m_key}>\r\n                          { mounth.map( (day, k) =>\r\n                            <TableCell \r\n                              key={k} \r\n                              onClick={ this.chooseDay.bind(this, day) } \r\n                              \r\n                              style={{ color: day.dir ? 'yellow' : day.holy ? '#c03' : '#000' }}\r\n                              \r\n                              className={ day.event ? this.state.classes.customCel : this.state.classes.tableCel }\r\n                            > { day.day } </TableCell>\r\n                          ) }\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            )}\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Events () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Events_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n});\r\n\r\nclass Home_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      module: 'home',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} style={{ height: '100vh' }}>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Home () {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <Home_ classes={classes} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Live_Orders extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'live_orders',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          { this.state.points.length > 0 ?\r\n            <>\r\n              <Grid item xs={6} sm={6}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n              </Grid>\r\n              <Grid item xs={6} sm={6}>\r\n                <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyCheckBox value={this.state.showReady} func={ this.changeCheckOrders.bind(this) } label='Показывать готовые' />\r\n              </Grid>\r\n            </>\r\n              :\r\n            null\r\n          }\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Тип</TableCell>\r\n                    <TableCell>Время заказа</TableCell>\r\n                    <TableCell>Время предзакза</TableCell>\r\n                    \r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Во сколько собрали</TableCell>\r\n                    <TableCell>Закрыли</TableCell>\r\n                    \r\n                    <TableCell>Приготовили</TableCell>\r\n                    <TableCell>Отдали</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                    \r\n                    <TableCell>Статус</TableCell>\r\n                    <TableCell>Стол</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.read.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell>{item.give_data_time_}</TableCell>\r\n                      <TableCell>{item.close_date_time_order}</TableCell>\r\n                      \r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) == 1 ? '' : item.color}}>{item.time_}</TableCell>\r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) != 1 ? '' : item.color}}>{item.test_time}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                  {this.state.onstol.map( (item, key) => (\r\n                    <TableRow key={key} style = {{backgroundColor: 'yellow'}}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      \r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Пред</TableCell>\r\n                    <TableCell>Время оформления</TableCell>\r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Время закрытия</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.ordersQueue.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 1 ? item.date_time_preorder : '' }</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.date_time_order : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.time_start_order}</TableCell>\r\n                      <TableCell>{item.time_end_order}</TableCell>\r\n                      \r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function LiveOrders () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Live_Orders history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport FormLabel from '@mui/material/FormLabel';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew, MyTextInput, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass PromoItemsStat_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'promo_items_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      point_list: [],\r\n      choosePoint: [],\r\n\r\n      stats: [],\r\n\r\n      chooseItem: null,\r\n      items_list: [],\r\n      promoName: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      point_list: data.points,\r\n      stats: data.stats,\r\n      items_list: data.items\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getStat() {\r\n      console.log('choosePoint=', this.state.choosePoint)\r\n    let data = {\r\n      choosePoint      : this.state.choosePoint,\r\n      date_start    : this.state.date_start,\r\n      date_end      : this.state.date_end,\r\n      promoName     : this.state.promoName,\r\n      chooseItem    : this.state.chooseItem,\r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n        stats: res.stats\r\n    })\r\n\r\n    //setTimeout( () => {\r\n    //  this.filterNumber();\r\n    //}, 300 )\r\n  }\r\n\r\n  choosePoint(event, data){\r\n    this.setState({\r\n      choosePoint: data\r\n    })\r\n  }\r\n\r\n  chooseData(data, val, val2){\r\n    this.setState({\r\n      [data]: data != 'promoName' && data != 'chooseItem' ? formatDate(val) : data == 'chooseItem' ? val2 : val\r\n    })\r\n  }\r\n\r\n  chooseDataNew(data, val, val2){\r\n\r\n    if( data == 'promoName' ){\r\n      this.setState({\r\n        [data]: val.target.value,\r\n        chooseItem: val.target.value.length > 0 ? null : this.state.chooseItem\r\n      })\r\n    }\r\n\r\n    if( data == 'chooseItem' ){\r\n      this.setState({\r\n        [data]: val2,\r\n        promoName: val2 ? '' : this.state.promoName\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={2}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.point_list} value={this.state.choosePoint} func={ this.choosePoint.bind(this) } multiple={true} label='Точка' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={2}>\r\n            <MyDatePickerNew label={'Дата от'} value={this.state.date_start} func={ this.chooseData.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <MyDatePickerNew label={'Дата до'} value={this.state.date_end} func={ this.chooseData.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ this.chooseDataNew.bind(this, 'promoName') } label='Промокод' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.items_list} value={this.state.chooseItem} func={ this.chooseDataNew.bind(this, 'chooseItem') } multiple={false} label='Товар' />\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getStat.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          \r\n\r\n           <Grid item xs={12} sm={6}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell></TableCell>\r\n                  <TableCell>Название</TableCell>\r\n                  <TableCell>Кол-во</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                {!this.state.stats ? null :\r\n                    this.state.stats.map((item, key) =>\r\n                        <TableRow key={key}  >\r\n                            <TableCell style={{ textAlign: 'center' }}>{key + 1} </TableCell>\r\n                            <TableCell style={{ textAlign: 'left' }}>{item.name} </TableCell>\r\n                            <TableCell style={{ textAlign: 'left' }}>{item.count} </TableCell>\r\n                        </TableRow>\r\n                    )}\r\n                \r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function PromoItemsStat () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <PromoItemsStat_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasBillAndCook_ extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'ras_bill_and_cook',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: 0,\r\n      \r\n      rev_list: [],\r\n      rev: 0,\r\n      cats: [],\r\n      \r\n      date_end: formatDate(new Date())\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.changePoint({ target: { value: data.points[0].id } });\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.rev,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('show', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      cats: res.cats\r\n    })\r\n  }\r\n  \r\n  async changePoint(event){\r\n    let point = event.target.value;\r\n    \r\n    let data = {\r\n      point_id: point\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n\r\n    this.setState({\r\n      point: point,\r\n      rev_list: res,\r\n      rev: res[0].id\r\n    })\r\n  }\r\n\r\n  async changeRev(event){\r\n    let rev = event.target.value;\r\n    \r\n    this.setState({\r\n      rev: rev\r\n    })\r\n  }\r\n\r\n  changeDate(data){\r\n    this.setState({\r\n      date_end: formatDate(data)\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={4}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <MySelect classes={this.state.classes} data={this.state.rev_list} value={this.state.rev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <MyDatePickerNew label='Дата до' value={this.state.date_end} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            \r\n            { this.state.cats.map( (item, key) =>\r\n              <Accordion key={key}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  { item.cats.map( (cat, key_cat) => \r\n                    <Accordion key={key_cat}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                      >\r\n                        <Typography>{cat.name}</Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails>\r\n                        \r\n                        <Table>\r\n                  \r\n                          <TableHead>\r\n                            <TableRow>\r\n                              <TableCell style={{ width: '5%' }}>#</TableCell>\r\n\r\n                              <TableCell style={{ width: '20%' }}>Товар</TableCell>\r\n                              <TableCell style={{ width: '20%' }}>Ревизия</TableCell>\r\n\r\n                              <TableCell style={{ width: '15%' }}>Кол-во по накладным</TableCell>\r\n                              <TableCell style={{ width: '15%' }}>Кол-во по продажам</TableCell>\r\n\r\n                              <TableCell style={{ width: '15%' }}>Разница</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>Ед. измер</TableCell>\r\n                            </TableRow>\r\n                          </TableHead>\r\n\r\n                          <TableBody>\r\n                            \r\n                            { cat.items.map( (it, k) =>\r\n                              <TableRow key={k}>\r\n                                <TableCell>{k+1}</TableCell>\r\n                                <TableCell>{it.name}</TableCell>\r\n                                <TableCell>{it.count_rev}</TableCell>\r\n                                <TableCell>{it.count_bill}</TableCell>\r\n                                <TableCell>{it.count_ras}</TableCell>\r\n                                <TableCell>{it.count_res}</TableCell>\r\n                                <TableCell>{it.ei_name}</TableCell>\r\n                              </TableRow>\r\n                            ) }\r\n                          \r\n                          </TableBody>\r\n                        \r\n                        </Table>\r\n\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  ) }\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n\r\n          </Grid>\r\n\r\n          \r\n\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasBillAndCook () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RasBillAndCook_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite, MyDaterange, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasByBill_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'ras_by_bill',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      points: [],\r\n      point: [],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      items: [],\r\n      cats: [],\r\n      items_cat: [],\r\n      item_cat: 0,\r\n      \r\n      myItems: [],\r\n      \r\n      calendar: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      \r\n      items: data.items,\r\n      cats: data.cats,\r\n      items_cat: data.items_cat\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n  \r\n  changeItems(event, data){\r\n    this.setState({\r\n      myItems: data\r\n    })\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      item_cat: this.state.item_cat,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev', data);\r\n    \r\n    let summ = 0;\r\n    \r\n    res.items_ras.map( (item, key) => {\r\n      summ += parseFloat(item.sum);\r\n    } )\r\n    \r\n    this.setState({\r\n      resItems: {\r\n        items_ras: res.items_ras,\r\n        pf_ras: res.pf_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      catItems: null\r\n    })\r\n  }\r\n  \r\n  async getCats(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev_cat', data);\r\n    \r\n    \r\n    let summ = 0;\r\n    \r\n    res.rec_ras.map( (item, key) => {\r\n      summ += parseFloat(item.this_price);\r\n    } )\r\n    \r\n    this.setState({\r\n      catItems: {\r\n        count_pos: res.count_pos,\r\n        items_ras: res.items_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      resItems: null\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">  </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => {} } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} multiple={true} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.items_cat} multiple={false} value={this.state.item_cat} func={ (event) => {this.setState({ item_cat: event.target.value })} } label='Категория товара' />\r\n          </Grid>\r\n          \r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.items} multiple={true} value={this.state.myItems} func={ this.changeItems.bind(this) } label='Заготовки' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getItems.bind(this)}>Показать заготовки</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getCats.bind(this)}>Показать категории</Button>\r\n          </Grid>\r\n        \r\n        \r\n          { this.state.resItems && this.state.resItems.items_ras ?\r\n              \r\n            <>\r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Куплено по наклданым</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование товара</TableCell>\r\n                        <TableCell>Объем товра</TableCell>\r\n                        <TableCell>Объем заготовки</TableCell>\r\n                        <TableCell>Сумма</TableCell>\r\n                        <TableCell>Кол-во наклданых</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.items_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.name } </TableCell>\r\n                          <TableCell> { item.count_item + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name_pf } </TableCell>\r\n                          <TableCell> { item.sum } </TableCell>\r\n                          <TableCell> { item.count_bill } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                      <TableRow>\r\n                        <TableCell> Всего: </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> { this.state.resItems.full_sum } </TableCell>\r\n                        <TableCell> </TableCell>\r\n                      </TableRow>\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход заготовок (включая рецепты)</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                        <TableCell>Сумма роллов (примерно)</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.pf_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                          <TableCell> { item.price_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход рецептов</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.rec_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            </>\r\n              :\r\n            null              \r\n          }\r\n          \r\n          { this.state.catItems && this.state.catItems.rec_ras ?\r\n            <Grid item xs={12}>\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '50%' }}>Роллов: {this.state.catItems.count_pos.count_rolls}</Typography>\r\n                  <Typography style={{ width: '50%' }}>Пиццы: {this.state.catItems.count_pos.count_pizza}</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n              { this.state.catItems.rec_ras.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                  >\r\n                    <Typography style={{ width: '60%' }}>{item.name}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.this_price}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.price_by_items}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                    { item.parent_cat.map( (it, k) =>\r\n                      <Accordion key={k}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                        >\r\n                          <Typography style={{ width: '60%', paddingLeft: 20 }}>{it.name}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.this_price}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.price_by_items}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          <Accordion disabled={true}>\r\n                            <AccordionSummary>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товар</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товара</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Заготовок</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Накладных</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Сумма</Typography>\r\n                            </AccordionSummary>\r\n                          </Accordion>\r\n                          \r\n                          { it.items.map( (parent_items, parent_key) =>\r\n                            <Accordion key={parent_key} disabled={true}>\r\n                              <AccordionSummary>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_item} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_pf} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_bill}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.sum}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                          \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    ) }\r\n                    \r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) }\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '60%', marginRight: -15 }}>Всего:</Typography>\r\n                  <Typography style={{ width: '40%' }}>{ this.state.catItems.full_sum }</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n            </Grid>\r\n              :\r\n            null              \r\n          }\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasByBill () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RasByBill_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 150,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  avatar2: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 130,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  backButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  textLink: {\r\n    color: '#c03'\r\n  }\r\n});\r\n\r\nclass Reg_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: '',\r\n      \r\n      activeStep: 0,\r\n      steps: ['Телефон', 'Подтверждение', 'Новый пароль'],\r\n      \r\n      phone: '',\r\n      code: '',\r\n      pwd: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        this.state.history.push(\"/auth\");\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async nextStep(){\r\n    if( this.state.activeStep == 0 ){\r\n      let data = {\r\n        login: document.getElementById('phone').value\r\n      }\r\n      \r\n      let res = await this.getData('check_phone', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          phone: data.login\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 1 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n\t\t\t  code: document.getElementById('code').value\r\n      }\r\n      \r\n      let res = await this.getData('check_code', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          code: data.code\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 2 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n        code: this.state.code,\r\n        pwd: document.getElementById('password').value\r\n      }\r\n      \r\n      let res = await this.getData('save_new_pwd', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        localStorage.setItem('token', res.token)\r\n      \r\n        setTimeout( () => {\r\n          window.location.pathname = '/'\r\n        }, 300)\r\n      }\r\n    }\r\n  }\r\n  \r\n  enterNextStep(event){\r\n    if( event.charCode == 13 ){\r\n      this.nextStep();\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div className={this.state.classes.paper}>\r\n              <Avatar className={this.state.classes.avatar}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              \r\n              <Stepper activeStep={this.state.activeStep} alternativeLabel style={{ width: '100%' }}>\r\n                {this.state.steps.map((label) => (\r\n                  <Step key={label}>\r\n                    <StepLabel>{label}</StepLabel>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n              <div className={this.state.classes.form} style={{ width: '100%' }}>\r\n                \r\n                { this.state.activeStep == 0 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"phone\"\r\n                    label=\"Номер телефона\"\r\n                    name=\"phone\"\r\n                    autoComplete=\"phone\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 1 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"code\"\r\n                    label=\"Код из смс\"\r\n                    name=\"code\"\r\n                    autoComplete=\"code\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 2 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />\r\n                    :\r\n                  null\r\n                }\r\n                                  \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={this.state.classes.submit}\r\n                  onClick={ this.nextStep.bind(this) }\r\n                >\r\n                  Дальше\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/auth\" className={this.state.classes.textLink}>Вернуться к авторизации</a>\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                \r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Reg () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Reg_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport RestoreIcon from '@mui/icons-material/Restore';\r\nimport SaveIcon from '@mui/icons-material/SaveAs';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport Paper from '@mui/material/Paper';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n}));\r\n\r\n// главная страница\r\nclass Revizion_ extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      search: '',\r\n\r\n      items: [],\r\n      pf: [],\r\n      rec: [],\r\n      items_b: [],\r\n      pf_b: [],\r\n      rec_b: [],\r\n      all_data: [],\r\n        \r\n      chooseTab: 0,\r\n      \r\n    };\r\n    }\r\n\r\n  // переменные для фильтра\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name,\r\n\t  all_data: data.get_data_for_new_rev\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n   // смена точки\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n       point: data,\r\n       search: ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getRevList();\r\n    }, 50 )\r\n    }\r\n\r\n  // смена ревизии\r\n  changeRev(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n        chooseRev: data,\r\n        search : ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n\r\n   // поиск\r\n   async search(event){\r\n\t    \r\n\t\tlet data = {\r\n\t\t\tpoint_id: this.state.point,\r\n\t\t\tshowReady: this.state.showReady === true ? 1 : 0\r\n\t\t};\r\n    \r\n        // дергаем товары, полуфабрикаты, рецпеты\r\n        let res = this.state;\r\n        let items, rec, pf, text;\r\n        text = event.target.value.toLowerCase();\r\n\r\n        // Фильтрация\r\n        items = this.state.items_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        rec = this.state.rec_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        pf = this.state.pf_b.filter((item) => item.name.toLowerCase().includes(text));\r\n\r\n        this.setState({\r\n            items  : items,\r\n            rec    : rec,\r\n            pf     : pf,\r\n            search : text\r\n         })\r\n\t\r\n  }\r\n\r\n   // метод обновления данных\r\n  async updateData(){\r\n\t  \r\n    let data = {\r\n      rev_id\t: this.state.chooseRev,\r\n      point_id\t: this.state.point,\r\n    };\r\n\t\r\n\t// to do переписать\r\n    let res = await this.getData('get_data_rev', data);\r\n          \r\n\t// отрисовка\r\n\tthis.setState({\r\n      items     : res.item,\r\n      rec       : res.rec,\r\n      pf        : res.pf,\r\n      items_b   : res.item,\r\n      rec_b     : res.rec,\r\n      pf_b      : res.pf,\r\n    })\r\n  }\r\n\r\n   // получение списка ревизий\r\n  async getRevList(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n    \r\n    this.setState({\r\n      revList: res,\r\n      chooseRev: res.length > 0 ? res[0]['id'] : ''\r\n    })\r\n    \r\n    if( res.length > 0 ){\r\n      setTimeout( () => {\r\n        this.getDataRev();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n   // получение данных ревизии\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      rev_id: this.state.chooseRev\r\n    };\r\n    \r\n    let res = await this.getData('get_data_rev', data);\r\n    \r\n    this.setState({\r\n        items: res.item,\r\n        rec: res.rec,\r\n        pf: res.pf,\r\n        items_b: res.item,\r\n        rec_b: res.rec,\r\n        pf_b: res.pf,\r\n    })\r\n    }\r\n\r\n\r\n   // рендер главная\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Link to={\"/revizion/new\"}>Новая ревизия</Link>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.revList} value={this.state.chooseRev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\t\t  <Grid item xs={12} sm={6}>\r\n\t\t\t<MyTextInput  classes={this.state.classes} func={ this.search.bind(this) } label='Поиск' value={this.state.search} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Товар</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.items.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Заготовка</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.pf.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// Данные для страницы новая ревизия\r\nclass RevizionNewItem extends React.Component{\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        item    : this.props.item,\r\n        pf      : this.props.pf,\r\n        change  : this.props.change,\r\n        type    : this.props.type,\r\n    };\r\n   }\r\n\r\n    // to do del\r\n    componentWillMount() {\r\n        //console.log('Will type=' + this.state.type);\r\n    }\r\n    componentDidMount() {\r\n        //console.log('type=' + this.state.type);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n        this.state.change !== nextState.change ||\r\n        this.state.change !== nextProps.change\r\n    );\r\n    }\r\n  \r\n  render(){\r\n    return (\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          //aria-controls=\"panel1a-content\"\r\n          //id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{ width: '60%' }}>{this.state.item.name} </Typography>\r\n          <Typography style={{ width: '40%' }}>{this.state.item.value} {this.state.item.ei_name} </Typography>\r\n        </AccordionSummary>\r\n\r\n            {/* Товары */}\r\n            {this.state.type != 'item'  ? null :\r\n                <AccordionDetails>\r\n                    {this.state.item.counts.map((it, k) =>\r\n                        \r\n                        <Grid container spacing={3} key={k} style={{ paddingTop: 10, paddingBottom: 10 }}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <MySelect data={this.state.item.size} value={it.need_pq} func={this.props.func.bind(this, 'item', this.props.itemKey, 'need_pq', k)} label='Объем упаковки' />\r\n                            </Grid>\r\n                            <Grid item xs={k == 0 ? 12 : 9} sm={5}>\r\n                                <TextField value={it.value} onChange={this.props.func.bind(this, 'item', this.props.itemKey, 'value', k)} fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                            </Grid>\r\n                            {k == 0 ? null :\r\n                                <Grid item xs={3} sm={1}>\r\n                                    <Button onClick={this.props.clear.bind(this, 'item', this.props.itemKey, k)} variant=\"contained\"> <CloseIcon /> </Button>\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        \r\n                    ) }\r\n          \r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button variant=\"contained\" onClick={this.props.copy.bind(this, 'item', this.props.itemKey)}>Дублировать</Button>\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n            { /* Заготовки */}\r\n            {this.state.type != 'pf' ? null :\r\n                <AccordionDetails> \r\n                    <Grid item sm={5}> \r\n                        <TextField value={this.state.pf.value} onChange={ this.props.func.bind(this, 'pf', this.props.itemKey, 'value', 0) }  fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n      </Accordion>\r\n    )\r\n  }\r\n}\r\n\r\n// Новая ревизия\r\nclass RevizionNew_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      storages: [],\r\n      items: [],\r\n      rec: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      modalDialog: false,\r\n      open: false\r\n    };\r\n    }\r\n\r\n\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n\r\n    // измение точки подгрузка данных\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300)\r\n\r\n    }\r\n\r\n  // метод получения данных\r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n\t  \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n    // получаем данные\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_data_for_new_rev', data);\r\n      \r\n    this.setState({\r\n      storages: res['storages'],\r\n      items: res['items'],\r\n      rec: res['rec'],\r\n      pf: res['pf']\r\n    })\r\n\r\n  }\r\n\r\n  // предварительное сохранение\r\n  saveData(type, key_item, data, key_data, event){\r\n      console.log('saveData');\r\n\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'][key_data][ [data] ] = event.target.value;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n      }\r\n\r\n      if (type == 'pf') {\r\n\r\n          let pf = this.state.pf;\r\n         \r\n          pf[key_item]['value'] = event.target.value;\r\n          pf[key_item]['change']++;\r\n\r\n          this.setState({\r\n              pf: pf\r\n          })\r\n          console.log('pf', pf);\r\n      }\r\n    \r\n  }\r\n\r\n   // проверка полей, отображения модального окна\r\n   checkData() {\r\n       console.log('checkData');\r\n       let items = this.state.items;\r\n       let pf = this.state.pf;\r\n\r\n       // проверка заполнения полей товаров, скрываем не заполненные\r\n       items.map((item, key) =>  {\r\n            if(item.value != 0){\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('item=', item, ' key ', key);\r\n       })\r\n\r\n       pf.map((item, key) => {\r\n            if (item.value != 0) {\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('pf=', item, ' pf ', key);\r\n       })\r\n\r\n       this.setState({\r\n           items: items,\r\n           pf   : pf\r\n       })\r\n\r\n       this.setState({\r\n           modalDialog: true,\r\n           titleDialog: 'Ты уверен в правильности этих позиций ?'\r\n       })\r\n   }\r\n\r\n  // копируем\r\n  copyData(type, key_item){\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'].push({ need_pq: items[key_item]['counts'][0]['need_pq'], value: 0 })\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n  }\r\n\r\n  // очищаем\r\n  clearData(type, key_item, key_data){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      let new_counts = [];\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        if( key != key_data ){\r\n          new_counts.push( item )\r\n        }\r\n      } )\r\n      \r\n      items[key_item]['counts'] = new_counts;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  // получение данных ревизии\r\n  async saveRev() {\r\n    let data = {\r\n        point_id: this.state.point,\r\n        item: this.state.item,\r\n        rec: this.state.rec,\r\n        pf: this.state.pf,\r\n    };\r\n    console.log('saveRev ', data);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новая ревизии</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.checkData.bind(this)} >Сохранить</Button>\r\n           </Grid>\r\n\r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n\r\n            {/* Товары * to do меняем TabPanel на div и в стилях скрываем style: this.state.chooseTab == 1 ? {display: blovk} : {display: monr} */}\r\n            <div style = { this.state.chooseTab == 0 ? {display: 'block'} : {display: 'none'} } >\r\n              \r\n              {this.state.items.map((item, key) => \r\n                parseInt(item.is_show) == 0 ? null :\r\n                   <RevizionNewItem key={key} type=\"item\" itemKey={key} item={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this)} />\r\n              )} \r\n              \r\n            </div>\r\n\r\n            {/* Заготовки */}\r\n            <div style={this.state.chooseTab == 1 ? { display: 'block' } : { display: 'none' }} >\r\n\r\n                {this.state.pf.map((item, key) =>\r\n                   parseInt(item.is_show) == 0 ? null :\r\n                    <RevizionNewItem key={key} type=\"pf\" itemKey={key} item={item} pf={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this) } />\r\n                )}\r\n              \r\n            </div>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.storages.map( (item, key) =>\r\n                <ListItem button key={key}>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        { this.state.storages.length == 0 ? null :\r\n          <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n            <BottomNavigation\r\n              showLabels\r\n             \r\n            >\r\n              <BottomNavigationAction onClick={(event, newValue) => {\r\n                            this.setState({ open: true })\r\n                        }}  label=\"Recents\" icon={<RestoreIcon />} />\r\n                        <BottomNavigationAction onClick={this.checkData.bind(this)} label=\"Save\" icon={<SaveIcon />} />\r\n            </BottomNavigation>\r\n          </Paper>\r\n         }\r\n\r\n        <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={() => { this.setState({ modalDialog: false }) }}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{this.state.titleDialog}</DialogTitle>\r\n                <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <Grid container spacing={3}>Не все поля заполнены </Grid>\r\n                    </DialogContentText>\r\n\r\n                    <Grid container spacing={3}>\r\n                        <Grid item>Позиция </Grid>\r\n                        <Grid item>Кол-во </Grid>\r\n                        <Grid item>Ед. измер. </Grid>\r\n                    </Grid>\r\n                        \r\n                    \r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\">Хорошо</Button>\r\n                <Button color=\"primary\">Сохранить</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Revizion () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Revizion_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function RevizionNew () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RevizionNew_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Tab from '@mui/material/Tab';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  },\r\n  backdrop: {\r\n    zIndex: 999\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteItems_ extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/users/upload.php\",\r\n  };\r\n  myDropzone = null;\r\n  isInit = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      //editItem: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0,\r\n\r\n\r\n\r\n\r\n\r\n      editItem: null,\r\n      modalEdit: false,\r\n      types: [\r\n        { id: 1, name: 'Позиция (ролл)' },\r\n        { id: 2, name: 'Набор (сет)' },\r\n        { id: 3, name: 'Доп (палочки / соевый / ...)' },\r\n        { id: 4, name: 'Напиток' },\r\n      ],\r\n      cats: [],\r\n      cat_list: [],\r\n\r\n      ItemTab: '1'\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeSort(type, event){\r\n    this.setState({\r\n      [type]: event.target.value\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getUsers();\r\n    }, 300 )\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('getUsers', data);\r\n\r\n    this.setState({\r\n      users: res\r\n    })\r\n  }\r\n\r\n  async openeditItem(user_id){\r\n    let data = {\r\n      user_id: user_id\r\n    };\r\n\r\n    let res = await this.getData('getUser', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      editItem: res,\r\n      modalUserEdit: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_edit\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNewUser(){\r\n    let res = await this.getData('getAllForNew');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      editItem: res,\r\n      modalUserNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  \r\n\r\n  sortPoint(){\r\n    let city_id = this.state.editItem.user.city_id;\r\n    let points = this.state.editItem.point_list;\r\n    let points_render = [];\r\n\r\n    if( parseInt(city_id) == -1 ){\r\n      points_render = points;\r\n    }else{\r\n      points_render = points.filter( ( item ) => parseInt(item.city_id) == parseInt(city_id) || parseInt(item.city_id) == -1 );\r\n    }\r\n\r\n    this.setState({\r\n      point_list_render: points_render\r\n    })\r\n  }\r\n\r\n  async saveeditItem(){\r\n\r\n    let is_graph = false;\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editItem.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph === true ){\r\n      this.setState({\r\n        graphModal: true\r\n      })\r\n\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(this.state.editItem.user.app_id) == 0 && this.state.textDel.length == 0 ){\r\n\r\n      this.setState({\r\n        delModal: true\r\n      })\r\n\r\n      return;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editItem.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        console.log('user_id='+user_id)\r\n\r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n        console.log('sending');\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        console.log('queuecomplete!')\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        console.log( 'queuecomplete' )\r\n        \r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editItem: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editItem,\r\n      textDel: this.state.textDel,\r\n      graphType: this.state.graphType\r\n    };\r\n\r\n    let res = await this.getData('saveeditItem', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editItem: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        this.myDropzone.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewUser(){\r\n    let is_graph = false;\r\n    let is_graph_ = false;\r\n\r\n    console.log( this.state.app_list )\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editItem.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 ){\r\n          is_graph_ = true;\r\n        }\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph_ === true && this.myDropzone['files'].length == 0 ){\r\n      alert('Необходимо фотография сотрудника');\r\n      return ;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editItem.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        console.log('user_id='+user_id)\r\n\r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n        console.log('sending');\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        console.log('queuecomplete!')\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        console.log( 'queuecomplete' )\r\n        \r\n        this.setState({ \r\n          modalUserNew: false, \r\n          editItem: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editItem,\r\n      graphType: is_graph === true ? 1 : 0\r\n    };\r\n\r\n    let res = await this.getData('saveNewUser', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( res.sms === false ){\r\n        alert('Ошибка в отправке смс');\r\n      }\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editItem: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        let user = this.state.editItem;\r\n        user.user.id = res.user_id;\r\n\r\n        this.setState({\r\n          editItem: user\r\n        })\r\n\r\n        setTimeout( () => {\r\n          this.myDropzone.processQueue();\r\n        }, 300 )\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getOrientation(file, callback) {\r\n    var reader = new FileReader();\r\n    \r\n    reader.onload = function(event) {\r\n        var view = new DataView(event.target.result);\r\n    \r\n        if (view.getUint16(0, false) != 0xFFD8) return callback(-2);\r\n    \r\n        var length = view.byteLength,\r\n          offset = 2;\r\n    \r\n        while (offset < length) {\r\n        var marker = view.getUint16(offset, false);\r\n        offset += 2;\r\n    \r\n        if (marker == 0xFFE1) {\r\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n            return callback(-1);\r\n          }\r\n            var little = view.getUint16(offset += 6, false) == 0x4949;\r\n            offset += view.getUint32(offset + 4, little);\r\n            var tags = view.getUint16(offset, little);\r\n            offset += 2;\r\n      \r\n            for (var i = 0; i < tags; i++)\r\n            if (view.getUint16(offset + (i * 12), little) == 0x0112)\r\n                return callback(view.getUint16(offset + (i * 12) + 8, little));\r\n        }else if ((marker & 0xFF00) != 0xFF00) break;\r\n        else offset += view.getUint16(offset, false);\r\n      }\r\n        \r\n        return callback(-1);\r\n    };\r\n    \r\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\r\n  };\r\n\r\n\r\n\r\n  async openItem(item){\r\n\r\n    let data = {\r\n      id: item.id,\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log(res)\r\n\r\n    /*this.setState({\r\n      editItem: item,\r\n      modalEdit: true\r\n    })*/\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editItem;\r\n    \r\n    if( data == 'category_id' ){\r\n      let val = event.target.value;\r\n      let type = 1;\r\n      let stol = vendor.stol;\r\n\r\n      //сеты\r\n      if( parseInt(val) == 4 ){\r\n        type = 2;\r\n        stol = -1;\r\n      }\r\n\r\n      //напитки\r\n      if( parseInt(val) == 6 ){\r\n        type = 4;\r\n        stol = 0;\r\n      }\r\n\r\n      //соуса\r\n      if( parseInt(val) == 7 ){\r\n        type = 3;\r\n        stol = 0;\r\n      }\r\n\r\n      vendor['type'] = type;\r\n      vendor['stol'] = stol;\r\n    }\r\n    \r\n    if( data == 'is_show' || data == 'show_site' || data == 'show_program' || data == 'is_new' || data == 'is_hit' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    \r\n    this.setState({ \r\n      editItem: vendor\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load} style={{ zIndex: 999 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog open={this.state.delModal} onClose={() => { this.setState({ delModal: false, textDel: '' }) }}>\r\n          <DialogTitle>Причина увольнения</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Увольнение происходит не сразу, а в полночь\r\n            </DialogContentText>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n              <Grid item xs={12}>\r\n                <MyTextInput label=\"Причина увольнения\" value={ this.state.textDel } func={ (event) => { this.setState({ textDel: event.target.value }) } } />\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Button variant=\"contained\" onClick={this.saveeditItem.bind(this)}>Уволить</Button>\r\n            <Button onClick={ () => { this.setState({ delModal: false, textDel: '' }) } }>Отмена</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.graphModal} onClose={() => { this.setState({ graphModal: false, graphType: 0 }) }}>\r\n          <DialogTitle>С какого периода применить изменения ?</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 1 }); this.saveeditItem() } } style={{ width: '100%' }}>С текущего периода</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 2 }); this.saveeditItem() } } style={{ width: '100%' }}>Со следующего периода</Button>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: -1 }); this.saveeditItem() } } style={{ width: '100%' }}>Без изменений</Button>\r\n              </Grid>\r\n\r\n            </Grid>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n       <Dialog\r\n          open={this.state.modalEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalEdit: false, editItem: null, ItemTab: '1' }) } }\r\n        >\r\n          <DialogTitle>Редактирвоание товара</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n            \r\n\r\n              {this.state.editItem && this.state.modalEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TabContext value={this.state.ItemTab}>\r\n                          <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                            <TabList onChange={ (event, value) => { this.setState({ ItemTab: value }) } } variant=\"fullWidth\">\r\n                              <Tab label=\"Основные\" value=\"1\" />\r\n                              <Tab label=\"Рецепты\" value=\"2\" />\r\n                              <Tab label=\"Заготовки\" value=\"3\" />\r\n                              <Tab label=\"Позиции\" value=\"4\" />\r\n                            </TabList>\r\n                          </Box>\r\n                          <TabPanel value=\"1\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Ссылка\" value={ this.state.editItem.link } func={ this.changeItem.bind(this, 'link') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect classes={this.state.classes} data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect classes={this.state.classes} data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                  </Grid>\r\n                                  { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                    </Grid>\r\n                                      :\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                    </Grid>\r\n                                  }\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              \r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (1:1) (пример: 600х600) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Маркейтинговое описание\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"2\">Item Two</TabPanel>\r\n                          <TabPanel value=\"3\">Item Three</TabPanel>\r\n                        </TabContext>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveeditItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalUserNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserNew: false, editItem: null }) } }\r\n        >\r\n          <DialogTitle>Новый сотрудник</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editItem && this.state.modalUserNew ?\r\n                  <>\r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Фамилия\" value={ this.state.editItem.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Имя\" value={ this.state.editItem.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Отчество\" value={ this.state.editItem.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Номер телефона\" value={ this.state.editItem.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editItem.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editItem.user['img_name']+'?'+this.state.editItem.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <div className=\"dropzone\" id=\"for_img_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                            </Grid>\r\n                          </Grid>\r\n                          \r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editItem.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"ИНН\" value={ this.state.editItem.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editItem.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect classes={this.state.classes} data={this.state.editItem.appointment} value={this.state.editItem.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect classes={this.state.classes} data={this.state.editItem.cities} value={this.state.editItem.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect classes={this.state.classes} data={this.state.point_list_render} value={this.state.editItem.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n                    \r\n                  </>\r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.length == 0 ? null :\r\n\r\n              this.state.cats.map( (cat, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>{cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                    \r\n                    <Table>\r\n                    \r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell style={{ width: '2%' }}>#</TableCell>\r\n\r\n                          <TableCell style={{ width: '38%' }}>Название</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сортировка</TableCell>\r\n\r\n                          <TableCell style={{ width: '15%' }}>Активность</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сайт</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Склад</TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n\r\n                      <TableBody>\r\n                        \r\n                        { cat.items.map( (it, k) =>\r\n                          <TableRow key={k}>\r\n                            <TableCell>{k+1}</TableCell>\r\n                            <TableCell onClick={this.openItem.bind(this, it)}>{it.name}</TableCell>\r\n                            <TableCell>\r\n                              <MyTextInput label=\"\" value={it.sort} func={ () => {} } />\r\n                            </TableCell>\r\n\r\n                            <TableCell> \r\n                              { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n\r\n                            \r\n                          </TableRow>           \r\n                        ) }\r\n                      \r\n                      </TableBody>\r\n                    \r\n                    </Table>\r\n\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              )\r\n              \r\n            }\r\n\r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteItems () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteItems_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nclass MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSale2_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new');\r\n    \r\n    let date = new Date();\r\n    let fullDate = '';\r\n    \r\n    let Y = date.getFullYear();\r\n    let M = date.getMonth()+1;\r\n    let D = date.getDate();\r\n    \r\n    fullDate = Y + '-' + ( parseInt(M) > 9 ? M : '0'+M ) + '-' + ( parseInt(D) > 9 ? D : '0'+D );\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      date_start: fullDate,\r\n      date_end: fullDate,\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n\r\n            <br />\r\n\r\n            <Typography>Созданыне промокоды: { this.state.createdPromo.join(', ') }</Typography>\r\n\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { this.state.generate_new === true ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.promo_name} func={ this.changeData.bind(this, 'promo_name') } label='Название промокода' />\r\n              </Grid>\r\n            }\r\n            { this.state.generate_new === false ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox classes={this.state.classes} value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect classes={this.state.classes} data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            \r\n            }\r\n            \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox classes={this.state.classes} value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n            \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass SiteSale2_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: 0,\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_2/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_2/stat\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Статистика</Button>\r\n              </Link>\r\n\r\n              <Link to={\"/site_sale_2/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_2/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_Stat_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      spam_list: [],\r\n      spam_id: 0,\r\n      findPromoList: [],\r\n      \r\n      spam_list_data: [],\r\n      spam_list_data_stat: {\r\n        true: 0,\r\n        all: 0,\r\n        percent: 0\r\n      },\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n  \r\n  changeSpam(event){\r\n    this.setState({spam_id: event.target.value})\r\n    \r\n    setTimeout( () => {\r\n      this.show()\r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.spam_list} value={this.state.spam_id} func={ this.changeSpam.bind(this) } label='Рассылка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Всего</TableCell>\r\n                    <TableCell>Использовали</TableCell>\r\n                    <TableCell>%</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  <TableRow>\r\n                    <TableCell>{this.state.spam_list_data_stat.all}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.true}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.percent}</TableCell>\r\n                  </TableRow>\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Номер</TableCell>\r\n                    <TableCell>Ост активаций</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.spam_list_data.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>{item.number}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      \r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users', data);\r\n    \r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSale2_New () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_new_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Edit () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSale2_edit_ promoId={promoId} classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2 () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Stat () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_Stat_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_StatList () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_StatList_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\n//import * as am5 from \"@amcharts/amcharts5\";\r\n//import * as am5xy from \"@amcharts/amcharts5/xy\";\r\n//import am5themes_Animated from \"@amcharts/amcharts5/themes/Animated\";\r\n\r\n//import * as am4core from \"@amcharts/amcharts4/core\";\r\n//import * as am4charts from \"@amcharts/amcharts4/charts\";\r\n\r\nimport { MyTextInput, MySelect, MyAutocomplite, MyDaterange, MyCheckBox, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteStatMarc_ extends React.Component {\r\n  chartnewusers = null;\r\n  chartorders = null;\r\n  chartavgsumm = null;\r\n  chartcountpos = null;\r\n\r\n  chartnewusersD = null;\r\n  chartordersD = null;\r\n  chartavgsummD = null;\r\n  chartcountposD = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_stat_marc',\r\n      module_name: '',\r\n      is_load: false,\r\n      is_show_adv: false,\r\n\r\n      show_stat_roll:   false,\r\n      show_stat_set:    false,\r\n      show_stat_pizza:  false,\r\n      \r\n      choosePoint: [],\r\n      points: [],\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      promoName: '',\r\n\r\n      newUsersTable: [],\r\n      countOrdersTable: [],\r\n      avgSumm: [],\r\n      countPos: [],\r\n      fakeUsers: [],\r\n\r\n      roll_stat:    [],\r\n      set_stat:     [],\r\n      pizza_stat:   [],\r\n\r\n      typesShow: [\r\n        {id: 1, name: 'Итоговый результат'},\r\n        {id: 2, name: 'График по месяцам'},\r\n        {id: 3, name: 'График по дням'},\r\n      ],\r\n      typeShow: 1\r\n    };\r\n    }\r\n\r\n   \r\n\r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n    changeChekBox(type, event) {\r\n        this.setState({\r\n            [type]: event.target.checked\r\n        })\r\n    }\r\n\r\n  async show() {\r\n    let data = {\r\n      points: this.state.choosePoint,\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n      typeShow: this.state.typeShow,\r\n      promoName: this.state.promoName,\r\n      advData: this.state.advData,\r\n    };\r\n\r\n    let res = await this.getData('show', data);\r\n\r\n      console.log(res);\r\n\r\n    // Итоговый результат\r\n      if (parseInt(this.state.typeShow) == 1) {\r\n         \r\n          this.setState({\r\n            newUsersTable: res.new_users,\r\n            countOrdersTable: res.count_orders,\r\n            avgSumm: res.avg_summ,\r\n            countPos: res.count_pos,\r\n            fakeUsers: res.fake_users,\r\n            roll_stat: res.roll_stat,\r\n            set_stat: res.set_stat,\r\n            pizza_stat: res.pizza_stat,\r\n          })\r\n      }\r\n\r\n    // графики по месяцам\r\n    if( parseInt( this.state.typeShow ) == 2 ){\r\n      this.renderGraphNewUsers(res.new_users);\r\n      this.renderGraphOrders(res.count_orders);\r\n      this.renderGraphAvgSumm(res.avg_summ);\r\n      this.renderCountPos(res.count_pos);\r\n      }\r\n\r\n     // графики по дням\r\n      if (parseInt(this.state.typeShow) == 3) {\r\n        \r\n        this.renderGraphNewUsersD(res.new_users);\r\n        this.renderGraphOrdersD(res.count_orders);\r\n        this.renderGraphAvgSummD(res.avg_summ);\r\n        this.renderCountPosD(res.count_pos);\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  renderGraphNewUsers(MyData){\r\n    if( this.chartnewusers ){\r\n      this.chartnewusers.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusers\");\r\n    this.chartnewusers = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n\r\n    MyData.site.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 1 Новые клиенты по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      // правка radius: 5->3\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n        \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      if (name == 'Всего') {\r\n         series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphNewUsersD(MyData){\r\n    if( this.chartnewusersD ){\r\n      this.chartnewusersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusersD\");\r\n    this.chartnewusersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n   \r\n\r\n    MyData.site.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series\r\n    function createSeries(name, field, data) {\r\n\r\n      // новые клиенты по дням правка 2\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n         //stacked: true,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n        series.strokes.template.set(\"strokeWidth\", 2);\r\n        if (name == 'Всего') {\r\n            series.strokes.template.set(\"strokeWidth\", 8)\r\n        }\r\n        series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n        series.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n   \r\n\r\n    // Add cursor\r\n    \r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n    \r\n  }\r\n\r\n  renderGraphOrders(MyData){\r\n    if( this.chartorders ){\r\n      this.chartorders.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartorders\"); \r\n\r\n    this.chartorders = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n    var data_adv = [];\r\n     \r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series Правка 3 Заказы по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      if (name == 'Всего') {\r\n        series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n   \r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n   // заказы по дням\r\n  renderGraphOrdersD(MyData){\r\n    if( this.chartordersD ){\r\n      this.chartordersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartordersD\"); \r\n\r\n    this.chartordersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n        dateFormat: \"yyyy-MM-dd\", \r\n        dateFields: [\"valueX\", \"openValueX\"] \r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n \r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n     \r\n     // Create Y-axis\r\n      var yAxis = chart.yAxes.push(\r\n          am5xy.ValueAxis.new(root, {\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, {})\r\n          })\r\n      );\r\n\r\n    // Create X-Axis\r\n      let xAxis = chart.xAxes.push(\r\n          am5xy.DateAxis.new(root, {\r\n            baseInterval: { timeUnit: \"day\", count: 1 },\r\n            startLocation: 0.5,\r\n            endLocation: 0.5,\r\n            renderer: am5xy.AxisRendererX.new(root, {})\r\n          })\r\n      );\r\n\r\n      xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n      xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n\r\n    // Create series правка 4 Заказы по дням\r\n    function createSeries(name, field, data) {\r\n     \r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field,\r\n          //fill: chart.get(\"colors\").getIndex(13),\r\n          strokeWidth: 5,\r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n        );\r\n\r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n      if (name == 'Всего') {\r\n          //series.strokes.template.set(\"stroke\", 'red');\r\n          series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n       \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    // Новый графи со столбиками \r\n      function createSeries2(name, field, data) {\r\n        console.log('data=',data);\r\n        let cat = [];\r\n        // let colors = [0x6794DA, 0x62941A];\r\n\r\n        data.map((item, k) => {\r\n            data[k].name        = item.category;\r\n            data[k].category    = item.description;\r\n           // data[k].color       = colors[k];\r\n            cat.push({ 'category'   : item.description } ); // работает при замени кат на деск\r\n        })\r\n      \r\n        // привязка категории\r\n        yAxis2.data.setAll(cat);\r\n       \r\n        var legend = chart.children.push(am5.Legend.new(root, {\r\n            centerX: am5.p50,\r\n            x: am5.p50,\r\n            clickTarget: 'none'\r\n        }));\r\n\r\n        // проверка  на пустой массив\r\n        var series2 = null;\r\n        data.map(function (item, key) {\r\n         \r\n            series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: item.name,\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis2,\r\n                    openValueXField: \"fromDate\",\r\n                    valueXField: \"toDate\",\r\n                    categoryYField: \"category\",\r\n                    sequencedInterpolation: true,\r\n                    //fill: am5.color(colors[key])\r\n                    fill: am5.color(0x6794DA)\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n            }); \r\n\r\n            series2.data.processor = am5.DataProcessor.new(root, {\r\n                dateFields: [\"fromDate\", \"toDate\"],\r\n                dateFormat: \"yyyy-MM-dd HH:mm\"\r\n            });\r\n            legend.data.push(series2);\r\n        })\r\n        series2.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n    // правка от 08.04 показываем столбики\r\n   if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n    }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphAvgSumm(MyData){\r\n    if( this.chartavgsumm ){\r\n      this.chartavgsumm.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsumm\"); \r\n\r\n    this.chartavgsumm = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n          if (name == 'Всего') {\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\");\r\n         \r\n          series.data.setAll(data);\r\n      }\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n    \r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n   // график средний чек за день\r\n  renderGraphAvgSummD(MyData){\r\n    if( this.chartavgsummD ){\r\n      this.chartavgsummD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsummD\"); \r\n\r\n    this.chartavgsummD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              //series.strokes.template.set(\"stroke\", 'red');\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый графи со столбиками  средний чек за день\r\n      function createSeries2(name, field, data) {\r\n          let cat = [];\r\n          // let colors = [0x6794DA, 0x62941A];\r\n\r\n          data.map((item, k) => {\r\n              data[k].name      = item.category;\r\n              data[k].category  = item.description;\r\n              cat.push({ 'category': item.description }); // работает при замени кат на деск\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          var legend = chart.children.push(am5.Legend.new(root, {\r\n              centerX: am5.p50,\r\n              x: am5.p50,\r\n              clickTarget: 'none'\r\n          }));\r\n\r\n          // проверка  на пустой массив\r\n          var series2 = null;\r\n          console.log('data_new=', data);\r\n          data.map(function (item, key) {\r\n\r\n              //console.log('item=', item);\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, {\r\n                      name: item.name,\r\n                      xAxis: xAxis,\r\n                      yAxis: yAxis2,\r\n                      openValueXField: \"fromDate\",\r\n                      valueXField: \"toDate\",\r\n                      categoryYField: \"category\",\r\n                      sequencedInterpolation: true,\r\n                      //fill: am5.color(colors[key])\r\n                      fill: am5.color(0x6794DA)\r\n                  })\r\n              );\r\n\r\n              series2.columns.template.setAll({\r\n                  opacity: 0.5,\r\n              });\r\n\r\n              series2.data.processor = am5.DataProcessor.new(root, {\r\n                  dateFields: [\"fromDate\", \"toDate\"],\r\n                  dateFormat: \"yyyy-MM-dd HH:mm\"\r\n              });\r\n              legend.data.push(series2);\r\n          })\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n    // показ акций\r\n    if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n    }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderCountPos(MyData){\r\n    if( this.chartcountpos ){\r\n      this.chartcountpos.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountpos\"); \r\n\r\n    this.chartcountpos = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    var data_adv = [];\r\n\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 7 Позиций по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n          am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n    function createSeries2(name, field, data) {\r\n\r\n        // вытаскиваем название акции\r\n        let adv1 = [], adv2 = [];\r\n        let lKey = 0, newArr = false;\r\n\r\n        // разделяем на два массива\r\n        for (const [key, value] of data.entries()) {\r\n            lKey = key == 0 ? 1 : key - 1;\r\n            if (key == 0) {\r\n                adv1.push(value);\r\n            } else if (data[lKey]['name'] != value['name']) {\r\n                adv2.push(value);\r\n                newArr = true;\r\n            } else if (newArr) {\r\n                adv2.push(value);\r\n            } else {\r\n                adv1.push(value);\r\n            }\r\n        }\r\n\r\n        // инцилизация первого массива на графике\r\n        if (adv1.length != 0) {\r\n            var series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv1[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv1[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DC),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series2.set(\"fill\", am5.color(0x6794DC));\r\n            series2.data.setAll(adv1);\r\n        }\r\n\r\n        // инцилизация второго массива на графике\r\n        if (adv2.length != 0) {\r\n            var series3 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv2[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv2[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series3.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DA),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series3.set(\"fill\", am5.color(0x6794DA));\r\n            series3.data.setAll(adv2);\r\n        }\r\n    }\r\n    createSeries(\"Роллов\", \"value\", data_rolls);\r\n    createSeries(\"Пиццы\", \"value\", data_pizza);\r\n    //if (this.state.is_show_adv && MyData.adv_data) {\r\n    //    createSeries2(\"Акция\", \"value\", data_adv)\r\n    //}\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderCountPosD(MyData){\r\n    if( this.chartcountposD ){\r\n      this.chartcountposD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountposD\"); \r\n\r\n    this.chartcountposD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              tooltip: am5.Tooltip.new(root, {\r\n                  themeTags: [\"axis\"],\r\n                  animationDuration: 200\r\n              })\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              //series.strokes.template.set(\"stroke\", 'red');\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый графи со столбиками, Позиций по дням\r\n      function createSeries2(name, field, data) {\r\n          let cat = [];\r\n          // let colors = [0x6794DA, 0x62941A];\r\n\r\n          data.map((item, k) => {\r\n              data[k].name = item.category;\r\n              data[k].category = item.description;\r\n              // data[k].color       = colors[k];\r\n              cat.push({ 'category': item.description }); // работает при замени кат на деск\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          var legend = chart.children.push(am5.Legend.new(root, {\r\n              centerX: am5.p50,\r\n              x: am5.p50,\r\n              clickTarget: 'none'\r\n          }));\r\n\r\n          // проверка  на пустой массив\r\n          var series2 = null;\r\n          data.map(function (item, key) {\r\n\r\n              //console.log('item=', item);\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, {\r\n                      name: item.name,\r\n                      xAxis: xAxis,\r\n                      yAxis: yAxis2,\r\n                      openValueXField: \"fromDate\",\r\n                      valueXField: \"toDate\",\r\n                      categoryYField: \"category\",\r\n                      sequencedInterpolation: true,\r\n                      //fill: am5.color(colors[key])\r\n                      fill: am5.color(0x6794DA)\r\n                  })\r\n              );\r\n\r\n              series2.columns.template.setAll({\r\n                  opacity: 0.5,\r\n              });\r\n\r\n              series2.data.processor = am5.DataProcessor.new(root, {\r\n                  dateFields: [\"fromDate\", \"toDate\"],\r\n                  dateFormat: \"yyyy-MM-dd HH:mm\"\r\n              });\r\n              legend.data.push(series2);\r\n          })\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n     createSeries(\"Роллов\", \"value\", data_rolls);\r\n     createSeries(\"Пиццы\", \"value\", data_pizza);\r\n      \r\n     if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data)\r\n     }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  changeDateRange(data, val) {\r\n    this.setState({\r\n      [data]: formatDate(val)\r\n    })\r\n  }\r\n\r\n  showStat(type) {\r\n      let val;\r\n      switch (type) {\r\n          case 'roll':\r\n              val = this.state.show_stat_roll ? false : true;\r\n              this.setState({ show_stat_roll: val })\r\n          break;\r\n          case 'set':\r\n              val = this.state.show_stat_set ? false : true;\r\n              this.setState({ show_stat_set: val });\r\n              \r\n          break;\r\n          case 'pizza':\r\n              val = this.state.show_stat_pizza ? false : true;\r\n              this.setState({ show_stat_pizza: val });\r\n          break;\r\n      }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.points} value={this.state.choosePoint} func={ (event, data) => { this.setState({ choosePoint: data }) } } multiple={true} label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({ promoName: event.target.value }) } } label='Промокод' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}> \r\n            <MySelect data={this.state.typesShow} value={this.state.typeShow} func={ (event) => { this.setState({ typeShow: event.target.value }) } } label='Как показать' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={1}> \r\n            <MyCheckBox label='Показать акции' value={this.state.is_show_adv} func={this.changeChekBox.bind(this, 'is_show_adv') }   />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Контакт-центр</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Сайт</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.all ? this.state.newUsersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.center ? this.state.newUsersTable.center : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.site ? this.state.newUsersTable.site : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставок</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.all ? this.state.countOrdersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.dev ? this.state.countOrdersTable.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.hall ? this.state.countOrdersTable.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.pic ? this.state.countOrdersTable.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставка</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.all ? this.state.avgSumm.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.dev ? this.state.avgSumm.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.hall ? this.state.avgSumm.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.pic ? this.state.avgSumm.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' } }>Позиций итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Роллов</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Пиццы</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_rolls ? this.state.countPos.count_rolls : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_pizza ? this.state.countPos.count_pizza : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Ушедшие клиенты</h2>\r\n              <h5 style={{ textAlign: 'center' }}>ушли - заказывали за 90 дней до указанного периода и больше не заказывали</h5>\r\n              <h5 style={{ textAlign: 'center' }}>вернулись - не заказывали 90 дней до указанного периода, сделали заказ в указанный период</h5>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Ушли</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Вернулись</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.lost_users ? this.state.fakeUsers.lost_users : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.ret_users ? this.state.fakeUsers.ret_users : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n\r\n                 <Grid container spacing={3}>\r\n                   \r\n                    <Grid style={{ marginTop: 20, marginBottom: 200}} item xs={12} sm={4}> \r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг роллов </h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'roll')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_roll != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.roll_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid style={{ marginTop: 20, marginBottom: 200 }} item xs={12} sm={4}>\r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг сетов</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'set')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_set != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.set_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                     <Grid style={{ marginTop: 20, marginBottom: 200 }} item  xs={12} sm={4}> \r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг Пиццы</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'pizza')}>Показать/Скрыть</h5>\r\n                        {this.state.show_stat_pizza != true ? null :\r\n                             <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.pizza_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                             </TableContainer>\r\n                         }\r\n                    </Grid>\r\n               </Grid>\r\n             </Grid>\r\n            }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по месяцам</h2>\r\n              <div id=\"chartnewusers\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по месяцам</h2>\r\n              <div id=\"chartorders\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по месяцам</h2>\r\n              <div id=\"chartavgsumm\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по месяцам</h2>\r\n              <div id=\"chartcountpos\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по дням</h2>\r\n              <div id=\"chartnewusersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по дням</h2>\r\n              <div id=\"chartordersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по дням</h2>\r\n              <div id=\"chartavgsummD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по дням</h2>\r\n              <div id=\"chartcountposD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteStatMarc () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteStatMarc_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  },\r\n  backdrop: {\r\n    zIndex: 999\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteUserManager_ extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/users/upload.php\",\r\n  };\r\n  myDropzone = null;\r\n  isInit = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_user_manager',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      editUser: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      point_list: data.points,\r\n      app_list: data.apps,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.changeSort('point_id', {target: {value: data.points[0]['id']}})\r\n    }, 500 )\r\n\r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeSort(type, event){\r\n    this.setState({\r\n      [type]: event.target.value\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getUsers();\r\n    }, 300 )\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('getUsers', data);\r\n\r\n    this.setState({\r\n      users: res\r\n    })\r\n  }\r\n\r\n  async openEditUser(user_id){\r\n    let data = {\r\n      user_id: user_id\r\n    };\r\n\r\n    let res = await this.getData('getUser', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      editUser: res,\r\n      modalUserEdit: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_edit\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNewUser(){\r\n    let res = await this.getData('getAllForNew');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      editUser: res,\r\n      modalUserNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editUser;\r\n    \r\n    if( data == 'birthday' ){\r\n      vendor.user[data] = formatDate(event);\r\n    }else{\r\n      if( data == 'acc_to_kas' ){\r\n        vendor.user[data] = event.target.checked === true ? 1 : 0;\r\n      }else{\r\n        vendor.user[data] = event.target.value;\r\n      }\r\n    }\r\n    \r\n    this.setState({ \r\n      editUser: vendor\r\n    })\r\n\r\n    if( data == 'city_id' ){\r\n      setTimeout( () => {\r\n        this.sortPoint();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n  sortPoint(){\r\n    let city_id = this.state.editUser.user.city_id;\r\n    let points = this.state.editUser.point_list;\r\n    let points_render = [];\r\n\r\n    if( parseInt(city_id) == -1 ){\r\n      points_render = points;\r\n    }else{\r\n      points_render = points.filter( ( item ) => parseInt(item.city_id) == parseInt(city_id) || parseInt(item.city_id) == -1 );\r\n    }\r\n\r\n    this.setState({\r\n      point_list_render: points_render\r\n    })\r\n  }\r\n\r\n  async saveEditUser(){\r\n\r\n    let is_graph = false;\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editUser.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph === true ){\r\n      this.setState({\r\n        graphModal: true\r\n      })\r\n\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(this.state.editUser.user.app_id) == 0 && this.state.textDel.length == 0 ){\r\n\r\n      this.setState({\r\n        delModal: true\r\n      })\r\n\r\n      return;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editUser.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        console.log('user_id='+user_id)\r\n\r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n        console.log('sending');\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        console.log('queuecomplete!')\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        console.log( 'queuecomplete' )\r\n        \r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editUser,\r\n      textDel: this.state.textDel,\r\n      graphType: this.state.graphType\r\n    };\r\n\r\n    let res = await this.getData('saveEditUser', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        this.myDropzone.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewUser(){\r\n    let is_graph = false;\r\n    let is_graph_ = false;\r\n\r\n    console.log( this.state.app_list )\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editUser.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 ){\r\n          is_graph_ = true;\r\n        }\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph_ === true && this.myDropzone['files'].length == 0 ){\r\n      alert('Необходимо фотография сотрудника');\r\n      return ;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editUser.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        console.log('user_id='+user_id)\r\n\r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n        console.log('sending');\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        console.log('queuecomplete!')\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        console.log( 'queuecomplete' )\r\n        \r\n        this.setState({ \r\n          modalUserNew: false, \r\n          editUser: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editUser,\r\n      graphType: is_graph === true ? 1 : 0\r\n    };\r\n\r\n    let res = await this.getData('saveNewUser', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( res.sms === false ){\r\n        alert('Ошибка в отправке смс');\r\n      }\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        let user = this.state.editUser;\r\n        user.user.id = res.user_id;\r\n\r\n        this.setState({\r\n          editUser: user\r\n        })\r\n\r\n        setTimeout( () => {\r\n          this.myDropzone.processQueue();\r\n        }, 300 )\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getOrientation(file, callback) {\r\n    var reader = new FileReader();\r\n    \r\n    reader.onload = function(event) {\r\n        var view = new DataView(event.target.result);\r\n    \r\n        if (view.getUint16(0, false) != 0xFFD8) return callback(-2);\r\n    \r\n        var length = view.byteLength,\r\n          offset = 2;\r\n    \r\n        while (offset < length) {\r\n        var marker = view.getUint16(offset, false);\r\n        offset += 2;\r\n    \r\n        if (marker == 0xFFE1) {\r\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n            return callback(-1);\r\n          }\r\n            var little = view.getUint16(offset += 6, false) == 0x4949;\r\n            offset += view.getUint32(offset + 4, little);\r\n            var tags = view.getUint16(offset, little);\r\n            offset += 2;\r\n      \r\n            for (var i = 0; i < tags; i++)\r\n            if (view.getUint16(offset + (i * 12), little) == 0x0112)\r\n                return callback(view.getUint16(offset + (i * 12) + 8, little));\r\n        }else if ((marker & 0xFF00) != 0xFF00) break;\r\n        else offset += view.getUint16(offset, false);\r\n      }\r\n        \r\n        return callback(-1);\r\n    };\r\n    \r\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\r\n  };\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load} style={{ zIndex: 999 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog open={this.state.delModal} onClose={() => { this.setState({ delModal: false, textDel: '' }) }}>\r\n          <DialogTitle>Причина увольнения</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Увольнение происходит не сразу, а в полночь\r\n            </DialogContentText>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n              <Grid item xs={12}>\r\n                <MyTextInput label=\"Причина увольнения\" value={ this.state.textDel } func={ (event) => { this.setState({ textDel: event.target.value }) } } />\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Button variant=\"contained\" onClick={this.saveEditUser.bind(this)}>Уволить</Button>\r\n            <Button onClick={ () => { this.setState({ delModal: false, textDel: '' }) } }>Отмена</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.graphModal} onClose={() => { this.setState({ graphModal: false, graphType: 0 }) }}>\r\n          <DialogTitle>С какого периода применить изменения ?</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 1 }); this.saveEditUser() } } style={{ width: '100%' }}>С текущего периода</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 2 }); this.saveEditUser() } } style={{ width: '100%' }}>Со следующего периода</Button>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: -1 }); this.saveEditUser() } } style={{ width: '100%' }}>Без изменений</Button>\r\n              </Grid>\r\n\r\n            </Grid>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n       <Dialog\r\n          open={this.state.modalUserEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserEdit: false, editUser: null }) } }\r\n        >\r\n          <DialogTitle>Редактирвоание сотрудника</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.editUser && this.state.modalUserEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Фамилия\" value={ this.state.editUser.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Имя\" value={ this.state.editUser.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Отчество\" value={ this.state.editUser.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Номер телефона\" value={ this.state.editUser.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editUser.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editUser.user['img_name']+'?'+this.state.editUser.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <div className=\"dropzone\" id=\"for_img_edit\" style={{ width: '100%', minHeight: 150 }} />\r\n                          </Grid>\r\n                        </Grid>\r\n                        \r\n                      </Grid>\r\n                      \r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editUser.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"ИНН\" value={ this.state.editUser.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editUser.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect classes={this.state.classes} data={this.state.editUser.appointment} value={this.state.editUser.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect classes={this.state.classes} data={this.state.editUser.cities} value={this.state.editUser.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect classes={this.state.classes} data={this.state.point_list_render} value={this.state.editUser.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TableContainer component={Paper}>\r\n                          <Table size={'small'}>\r\n                            <TableHead>\r\n                              <TableRow>\r\n                                <TableCell style={{ minWidth: 125 }}>Дата</TableCell>\r\n                                <TableCell>Кто обновлял</TableCell>\r\n                                <TableCell>Имя</TableCell>\r\n                                <TableCell>Телефон</TableCell>\r\n                                <TableCell>Код авторизации</TableCell>\r\n                                <TableCell>ИНН</TableCell>\r\n                                <TableCell>Должность</TableCell>\r\n                                <TableCell>Город</TableCell>\r\n                                <TableCell>Точка</TableCell>\r\n                              </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                              { this.state.editUser.user.history.map( (item, key) => \r\n                                <TableRow key={key}>\r\n                                  <TableCell style={{ minWidth: 125 }}>{item.date_time_update}</TableCell>\r\n                                  <TableCell>{item.update_name}</TableCell>\r\n                                  <TableCell>{item.name}</TableCell>\r\n                                  <TableCell>{item.login}</TableCell>\r\n                                  <TableCell>{item.auth_code}</TableCell>\r\n                                  <TableCell>{item.inn}</TableCell>\r\n                                  <TableCell>{item.app_name}</TableCell>\r\n                                  <TableCell>{item.city_name}</TableCell>\r\n                                  <TableCell>{item.point_name}</TableCell>\r\n                                </TableRow>\r\n                              ) }\r\n                            </TableBody>\r\n                          </Table>\r\n                        </TableContainer>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveEditUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalUserNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserNew: false, editUser: null }) } }\r\n        >\r\n          <DialogTitle>Новый сотрудник</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editUser && this.state.modalUserNew ?\r\n                  <>\r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Фамилия\" value={ this.state.editUser.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Имя\" value={ this.state.editUser.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Отчество\" value={ this.state.editUser.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Номер телефона\" value={ this.state.editUser.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editUser.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editUser.user['img_name']+'?'+this.state.editUser.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <div className=\"dropzone\" id=\"for_img_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                            </Grid>\r\n                          </Grid>\r\n                          \r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editUser.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"ИНН\" value={ this.state.editUser.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editUser.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect classes={this.state.classes} data={this.state.editUser.appointment} value={this.state.editUser.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect classes={this.state.classes} data={this.state.editUser.cities} value={this.state.editUser.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect classes={this.state.classes} data={this.state.point_list_render} value={this.state.editUser.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n                    \r\n                  </>\r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect classes={this.state.classes} data={this.state.point_list} value={this.state.point_id} func={ this.changeSort.bind(this, 'point_id') } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect classes={this.state.classes} data={this.state.app_list} value={this.state.app_id} func={ this.changeSort.bind(this, 'app_id') } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openNewUser.bind(this)} variant=\"contained\">Добавить сотрудника</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Фото</TableCell>\r\n                    <TableCell>Телефон</TableCell>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Должность</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.users.map( (item, key) => \r\n                    <TableRow key={key} onClick={this.openEditUser.bind(this, item.id)}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>\r\n                        { item['img_name'] === null ? null :\r\n                          <img src={'https://storage.yandexcloud.net/user-img/min-img/'+item['img_name']+'?'+item['img_update']} style={{maxWidth: 100, maxHeight: 100}} /> \r\n                        }\r\n                      </TableCell>\r\n                      <TableCell>{item.login}</TableCell>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.app_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n\r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteUserManager () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteUserManager_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass SkladItemsModule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'sklad_items_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n      searchItem: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log(data)\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      freeItems: data.items_free\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  changeItem(data, event){\r\n    let vendor = this.state.itemEdit;\r\n    \r\n    if( data == 'two_user' || data == 'w_item' || data == 'w_trash' || data == 'w_pf' || data == 'is_show' ){\r\n      vendor.item[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor.item[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      itemEdit: vendor\r\n    })\r\n  }\r\n\r\n  async showEditItem(id){\r\n    let data = {\r\n      item_id: id\r\n    }\r\n    \r\n    let res = await this.getData('get_one', data);\r\n\r\n    this.setState({\r\n      modalItemEdit: true,\r\n      itemEdit: res,\r\n      itemName: res.item.name\r\n    })\r\n  }\r\n\r\n  async saveEditItem(main_item_id = 0){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      item: this.state.itemEdit,\r\n      storages: this.state.itemEdit.this_storages,\r\n      main_item_id: parseInt(main_item_id) == 0 ? this.state.itemEdit.item.id : parseInt(main_item_id)\r\n    }\r\n    \r\n    let res = await this.getData('saveEditItem', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemEdit: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNewItem(main_item_id = 0){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      item: this.state.itemEdit,\r\n      storages: this.state.itemEdit.this_storages,\r\n      main_item_id: parseInt(main_item_id) == 0 ? this.state.itemEdit.item.id : parseInt(main_item_id)\r\n    }\r\n    \r\n    let res = await this.getData('saveNewItem', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemNew: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  async checkArt(){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      art: this.state.itemEdit.item.art,\r\n    }\r\n    \r\n    let res = await this.getData('checkArt', data);\r\n\r\n    if( res.st === false ){\r\n      this.setState({ \r\n        checkArtDialog: true, \r\n        checkArtList: res.data\r\n      })\r\n    }else{\r\n      this.saveEditItem(0);\r\n    }\r\n  }\r\n\r\n  async checkArtNew(){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      art: this.state.itemEdit.item.art,\r\n    }\r\n    \r\n    let res = await this.getData('checkArt', data);\r\n\r\n    if( res.st === false ){\r\n\r\n      res.data.push({ id: -1, name: this.state.itemEdit.item.name })\r\n\r\n      this.setState({ \r\n        checkArtDialog: true, \r\n        checkArtList: res.data\r\n      })\r\n    }else{\r\n      this.saveNewItem(0);\r\n    }\r\n  }\r\n\r\n  chooseArt(item_id){\r\n    if( this.state.modalItemNew === true ){\r\n      this.saveNewItem(item_id);\r\n    }else{\r\n      this.saveEditItem(item_id);\r\n    }\r\n  }\r\n\r\n  async openModalItemNew(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalItemNew: true,\r\n      itemEdit: res,\r\n    })\r\n  }\r\n\r\n  async saveItem(item_id, type, value){\r\n    let data = {\r\n      item_id: item_id,\r\n      type: type,\r\n      value: value\r\n    };\r\n\r\n    let res = await this.getData('saveItem', data, false);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemNew: false,\r\n        modalItemEdit: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  changeTableItem(item_id, type, event){\r\n    \r\n    if( parseInt(type) == 1 ){\r\n      let data = event.target.checked;\r\n\r\n      let items = this.state.cats;\r\n\r\n      items.map( (item, key) => {\r\n        item.cats.map( (cat, key_cat) => {\r\n          cat.items.map( (it, k) => {\r\n            if( parseInt( it.id ) == parseInt( item_id ) ){\r\n              items[ key ]['cats'][ key_cat ]['items'][ k ]['show_in_rev'] = data == true ? 1 : 0;\r\n            }\r\n          } )\r\n        } )\r\n      } )\r\n\r\n      this.setState({\r\n        cats: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'show_in_rev', data == true ? 1 : 0);\r\n    }\r\n\r\n    if( parseInt(type) == 3 ){\r\n      let data = event.target.value;\r\n\r\n      let items = this.state.cats;\r\n\r\n      items.map( (item, key) => {\r\n        item.cats.map( (cat, key_cat) => {\r\n          cat.items.map( (it, k) => {\r\n            if( parseInt( it.id ) == parseInt( item_id ) ){\r\n              items[ key ]['cats'][ key_cat ]['items'][ k ]['handle_price'] = data;\r\n            }\r\n          } )\r\n        } )\r\n      } )\r\n\r\n      this.setState({\r\n        cats: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'handle_price', data);\r\n    }\r\n\r\n\r\n\r\n    if( parseInt(type) == 2 ){\r\n      let data = event.target.value;\r\n      \r\n      let items = this.state.freeItems;\r\n\r\n      items.map( (item, key) => {\r\n        if( parseInt( item.id ) == parseInt( item_id ) ){\r\n          items[ key ]['show_in_rev'] = data == true ? 1 : 0;\r\n        }\r\n      } )\r\n\r\n      this.setState({\r\n        freeItems: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'show_in_rev', data == true ? 1 : 0);\r\n    }\r\n\r\n    if( parseInt(type) == 4 ){\r\n      let data = event.target.value;\r\n      \r\n      let items = this.state.freeItems;\r\n\r\n      items.map( (item, key) => {\r\n        if( parseInt( item.id ) == parseInt( item_id ) ){\r\n          items[ key ]['handle_price'] = data;\r\n        }\r\n      } )\r\n\r\n      this.setState({\r\n        freeItems: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'handle_price', data);\r\n    }\r\n    \r\n  }\r\n\r\n  async search(){\r\n    let data = {\r\n      item: this.state.searchItem\r\n    };\r\n\r\n    let res = await this.getData('get_all_search', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      cats: res.cats,\r\n      freeItems: res.items_free\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ checkArtDialog: false, checkArtList: [] }) } } open={this.state.checkArtDialog}>\r\n          <DialogTitle>Такой код 1с уже задан у следующих позиций:</DialogTitle>\r\n          <List sx={{ pt: 0 }}>\r\n            {this.state.checkArtList.map((item, key) => (\r\n              <ListItem button onClick={this.chooseArt.bind(this, item.id)} key={key}>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalItemEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItemEdit: false, itemEdit: null, checkArtDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Редактирвоание товара {this.state.itemName}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.itemEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара\" value={ this.state.itemEdit.item.name } func={ this.changeItem.bind(this, 'name') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect classes={this.state.classes} data={this.state.itemEdit.pf_list} value={this.state.itemEdit.item.pf_id} func={ this.changeItem.bind(this, 'pf_id') } label='Заготовка' />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара для поставщика\" value={ this.state.itemEdit.item.name_for_vendor } func={ this.changeItem.bind(this, 'name_for_vendor') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Код для 1с\" value={ this.state.itemEdit.item.art } func={ this.changeItem.bind(this, 'art') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Максимальное количество заказов в месяц (0 - без ограничений)\" value={ this.state.itemEdit.item.max_count_in_m } func={ this.changeItem.bind(this, 'max_count_in_m') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect classes={this.state.classes} data={this.state.itemEdit.cats} value={this.state.itemEdit.item.cat_id} func={ this.changeItem.bind(this, 'cat_id') } label='Категория' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Количество в упаковке\" value={ this.state.itemEdit.item.pq } func={ this.changeItem.bind(this, 'pq') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect classes={this.state.classes} data={this.state.itemEdit.ed_izmer} value={this.state.itemEdit.item.ed_izmer_id} func={ this.changeItem.bind(this, 'ed_izmer_id') } label='Ед измер' />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect classes={this.state.classes} data={this.state.itemEdit.apps} value={this.state.itemEdit.item.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность на кухне' />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время приготовления ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_min } func={ this.changeItem.bind(this, 'time_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Дополнительное время ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_dop_min } func={ this.changeItem.bind(this, 'time_dop_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время разгрузки ММ:SS.iiii (00:20.004)\" value={ this.state.itemEdit.item.time_min_other } func={ this.changeItem.bind(this, 'time_min_other') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% потерь\" value={ this.state.itemEdit.item.los_percent } func={ this.changeItem.bind(this, 'los_percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% заявки\" value={ this.state.itemEdit.item.percent } func={ this.changeItem.bind(this, 'percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% повышения ценника\" value={ this.state.itemEdit.item.vend_percent } func={ this.changeItem.bind(this, 'vend_percent') } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес заготовки\" value={ parseInt(this.state.itemEdit.item.w_pf) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_pf') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес отхода\" value={ parseInt(this.state.itemEdit.item.w_trash) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_trash') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес товара\" value={ parseInt(this.state.itemEdit.item.w_item) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_item') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Два сотрудника\" value={ parseInt(this.state.itemEdit.item.two_user) == 1 ? true : false } func={ this.changeItem.bind(this, 'two_user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    <MyAutocomplite label='Места хранения' multiple={true} data={this.state.itemEdit.storages} value={this.state.itemEdit.this_storages} func={ (event, value) => { let this_storages = this.state.itemEdit; this_storages.this_storages = value; this.setState({ itemEdit: this_storages }) } } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.itemEdit.item.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.checkArt.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItemNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItemNew: false, itemEdit: null, checkArtDialog: false }) } }\r\n        >\r\n          <DialogTitle>Новый товар</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.itemEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара\" value={ this.state.itemEdit.item.name } func={ this.changeItem.bind(this, 'name') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect classes={this.state.classes} data={this.state.itemEdit.pf_list} value={this.state.itemEdit.item.pf_id} func={ this.changeItem.bind(this, 'pf_id') } label='Заготовка' />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара для поставщика\" value={ this.state.itemEdit.item.name_for_vendor } func={ this.changeItem.bind(this, 'name_for_vendor') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Код для 1с\" value={ this.state.itemEdit.item.art } func={ this.changeItem.bind(this, 'art') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Максимальное количество заказов в месяц (0 - без ограничений)\" value={ this.state.itemEdit.item.max_count_in_m } func={ this.changeItem.bind(this, 'max_count_in_m') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect classes={this.state.classes} data={this.state.itemEdit.cats} value={this.state.itemEdit.item.cat_id} func={ this.changeItem.bind(this, 'cat_id') } label='Категория' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Количество в упаковке\" value={ this.state.itemEdit.item.pq } func={ this.changeItem.bind(this, 'pq') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect classes={this.state.classes} data={this.state.itemEdit.ed_izmer} value={this.state.itemEdit.item.ed_izmer_id} func={ this.changeItem.bind(this, 'ed_izmer_id') } label='Ед измер' />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect classes={this.state.classes} data={this.state.itemEdit.apps} value={this.state.itemEdit.item.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность на кухне' />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время приготовления ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_min } func={ this.changeItem.bind(this, 'time_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Дополнительное время ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_dop_min } func={ this.changeItem.bind(this, 'time_dop_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время разгрузки ММ:SS.iiii (00:20.004)\" value={ this.state.itemEdit.item.time_min_other } func={ this.changeItem.bind(this, 'time_min_other') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% потерь\" value={ this.state.itemEdit.item.los_percent } func={ this.changeItem.bind(this, 'los_percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% заявки\" value={ this.state.itemEdit.item.percent } func={ this.changeItem.bind(this, 'percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% повышения ценника\" value={ this.state.itemEdit.item.vend_percent } func={ this.changeItem.bind(this, 'vend_percent') } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес заготовки\" value={ parseInt(this.state.itemEdit.item.w_pf) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_pf') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес отхода\" value={ parseInt(this.state.itemEdit.item.w_trash) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_trash') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес товара\" value={ parseInt(this.state.itemEdit.item.w_item) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_item') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Два сотрудника\" value={ parseInt(this.state.itemEdit.item.two_user) == 1 ? true : false } func={ this.changeItem.bind(this, 'two_user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    <MyAutocomplite label='Места хранения' multiple={true} data={this.state.itemEdit.storages} value={this.state.itemEdit.this_storages} func={ (event, value) => { let this_storages = this.state.itemEdit; this_storages.this_storages = value; this.setState({ itemEdit: this_storages }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.checkArtNew.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalItemNew.bind(this)} variant=\"contained\">Добавить товар</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label=\"Поиск\" value={ this.state.searchItem } func={ ( event ) => { this.setState({ searchItem: event.target.value }) } } onBlur={ this.search.bind(this) } />\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.map( (item, key) =>\r\n              <Accordion key={key}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  { item.cats.map( (cat, key_cat) => \r\n                    <Accordion key={key_cat}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                      >\r\n                        <Typography>{cat.name}</Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                        \r\n                        <Table>\r\n                  \r\n                          <TableHead>\r\n                            <TableRow>\r\n                              <TableCell style={{ width: '2%' }}>#</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '2%' }}></TableCell>\r\n                              <TableCell style={{ width: '3%' }}>Ревизия</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '15%' }}>Товар</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>% потерь</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>% заявки</TableCell>\r\n                              <TableCell style={{ width: '15%' }}>Заготовка</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '5%' }}>Ед. измер</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '9%' }}>Место хранения</TableCell>\r\n                              <TableCell style={{ width: '9%', minWidth: 150 }}>Моя цена</TableCell>\r\n                            </TableRow>\r\n                          </TableHead>\r\n                  \r\n                          <TableBody>\r\n                            \r\n                            { cat.items.map( (it, k) =>\r\n                              <TableRow key={k}>\r\n                                <TableCell>{k+1}</TableCell>\r\n                                <TableCell> \r\n                                  { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                                </TableCell>\r\n                                <TableCell>\r\n                                  <MyCheckBox label=\"\" value={ parseInt(it.show_in_rev) == 1 ? true : false } func={ this.changeTableItem.bind(this, it.id, 1) } />\r\n                                </TableCell>\r\n                                <TableCell style={{ cursor: 'pointer' }} onClick={this.showEditItem.bind(this, it.id)}>{it.name}</TableCell>\r\n                                <TableCell>{it.los_percent} %</TableCell>\r\n                                <TableCell>{it.percent} %</TableCell>\r\n                                <TableCell>{it.pf_name}</TableCell>\r\n                  \r\n                                <TableCell>{it.ei_name}</TableCell>\r\n                                <TableCell>{it.storage_name}</TableCell>\r\n                                <TableCell>\r\n                                  <MyTextInput label=\"\" value={it.handle_price} func={ this.changeTableItem.bind(this, it.id, 3) } />\r\n                                </TableCell>\r\n                              </TableRow>           \r\n                            ) }\r\n                          \r\n                          </TableBody>\r\n                        \r\n                        </Table>\r\n\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  ) }\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n            { this.state.freeItems.length == 0 ? null :\r\n\r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>Без категории</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                  \r\n                  <Table>\r\n                  \r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell style={{ width: '2%' }}>#</TableCell>\r\n            \r\n                        <TableCell style={{ width: '2%' }}></TableCell>\r\n                        <TableCell style={{ width: '3%' }}>Ревизия</TableCell>\r\n            \r\n                        <TableCell style={{ width: '15%' }}>Товар</TableCell>\r\n                        <TableCell style={{ width: '10%' }}>% потерь</TableCell>\r\n                        <TableCell style={{ width: '10%' }}>% заявки</TableCell>\r\n                        <TableCell style={{ width: '15%' }}>Заготовка</TableCell>\r\n            \r\n                        <TableCell style={{ width: '5%' }}>Ед. измер</TableCell>\r\n            \r\n                        <TableCell style={{ width: '9%' }}>Место хранения</TableCell>\r\n                        <TableCell style={{ width: '9%', minWidth: 150 }}>Моя цена</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n            \r\n                    <TableBody>\r\n                      \r\n                      { this.state.freeItems.map( (it, k) =>\r\n                        <TableRow key={k}>\r\n                          <TableCell>{k+1}</TableCell>\r\n                          <TableCell> \r\n                            { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <MyCheckBox label=\"\" value={ parseInt(it.show_in_rev) == 1 ? true : false } func={ this.changeTableItem.bind(this, it.id, 2) } />\r\n                          </TableCell>\r\n                          <TableCell style={{ cursor: 'pointer' }} onClick={this.showEditItem.bind(this, it.id)}>{it.name}</TableCell>\r\n                          <TableCell>{it.los_percent} %</TableCell>\r\n                          <TableCell>{it.percent} %</TableCell>\r\n                          <TableCell>{it.pf_name}</TableCell>\r\n            \r\n                          <TableCell>{it.ei_name}</TableCell>\r\n                          <TableCell>{it.storage_name}</TableCell>\r\n                          <TableCell>\r\n                            <MyTextInput label=\"\" value={it.handle_price} func={ this.changeTableItem.bind(this, it.id, 4) } />\r\n                          </TableCell>\r\n                        </TableRow>           \r\n                      ) }\r\n                    \r\n                    </TableBody>\r\n                  \r\n                  </Table>\r\n\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            }\r\n\r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SkladItemsModule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SkladItemsModule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput } from '../../stores/elements';\r\n\r\nimport axios from 'axios';\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass SocialNetwork_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'socialnetwork',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cityList: [],\r\n      city_id: 0,\r\n\r\n      dataInfo: null,\r\n      file: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cityList: data.cities,\r\n      city_id: data.cities[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      city_id: data,\r\n      dataInfo: null,\r\n      file: null\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n\r\n  async updateData(){\r\n    let data = {\r\n      city_id: this.state.city_id\r\n    };\r\n\r\n    let res = await this.getData('get_data', data);\r\n\r\n    this.setState({\r\n      dataInfo: res,\r\n      file: null\r\n    })\r\n  }\r\n\r\n  changeData(type, event){\r\n    let data = event.target.value;\r\n    let info = this.state.dataInfo;\r\n    \r\n    info[ [type] ] = data;\r\n\r\n    this.setState({\r\n      dataInfo: info\r\n    })\r\n  }\r\n\r\n  async saveData(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      vk: this.state.dataInfo.vk,\r\n      inst: this.state.dataInfo.inst,\r\n      ok: this.state.dataInfo.ok,\r\n      tg: this.state.dataInfo.tg,\r\n      fb: this.state.dataInfo.fb,\r\n      file1: this.state.file ? this.state.file.name : ''\r\n    };\r\n\r\n    let res = await this.getData('save_data', data);\r\n    \r\n    if( this.state.file ){\r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: true\r\n        })\r\n      }, 350 )\r\n      \r\n      \r\n      \r\n      const formData = new FormData(); \r\n    \r\n      formData.append( \r\n        \"file\", \r\n        this.state.file, \r\n        this.state.file.name \r\n      ); \r\n    \r\n      //console.log(this.state.file); \r\n    \r\n      axios.post('https://jacochef.ru/api/files/v2/upload/upload.php', formData)\r\n        .then( (response) => {\r\n          console.log(response);\r\n          this.setState({\r\n            is_load: false,\r\n            file: null\r\n          })\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  handleFileInput(event){\r\n    let data = event.target.files[0];\r\n\r\n    console.log( data )\r\n\r\n    this.setState({\r\n      file: data\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.cityList} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          {this.state.dataInfo == null ? null :\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Вконтакте\" value={this.state.dataInfo ? this.state.dataInfo.vk : ''} func={this.changeData.bind(this, 'vk')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Инстаграм\" value={this.state.dataInfo ? this.state.dataInfo.inst : ''} func={this.changeData.bind(this, 'inst')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Одноклассники\" value={this.state.dataInfo ? this.state.dataInfo.ok : ''} func={this.changeData.bind(this, 'ok')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Телеграм\" value={this.state.dataInfo ? this.state.dataInfo.tg : ''} func={this.changeData.bind(this, 'tg')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Facebook\" value={this.state.dataInfo ? this.state.dataInfo.fb : ''} func={this.changeData.bind(this, 'fb')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput type=\"file\" label=\"\" func={this.handleFileInput.bind(this)} />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <Button variant=\"contained\" onClick={this.saveData.bind(this)}>Обновить данные</Button>\r\n                </Grid>\r\n\r\n              </Grid>\r\n            </Grid>\r\n          }\r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SocialNetwork () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SocialNetwork_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyAutocomplite } from '../../stores/elements';\r\n\r\nimport {AgGridColumn, AgGridReact} from 'ag-grid-react';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst dynamicCellStyle = params => {\r\n  if( params.colDef.headerName == 'Цена' ){\r\n    return { borderRight: '1px solid #bababa' };\r\n  }\r\n  return null;\r\n};\r\n\r\nclass Tender_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'tender',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      testTable: [],\r\n      vendors: [],\r\n      myVendors: [],\r\n      showVendors: [],\r\n      \r\n      params_api: null,\r\n      params_columnApi: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let table = [];\r\n    \r\n    data.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          data['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = data.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) );\r\n            \r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = data.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      testTable: table,\r\n      vendors: data['vendors'],\r\n      showVendors: data['vendors']\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n  \r\n  onCellClicked(event){\r\n    console.log( event.data );\r\n    console.log( event.colDef.field );\r\n  }\r\n  \r\n  onGridReady(params){\r\n    this.setState({\r\n      params_api: params.api,\r\n      params_columnApi: params.columnApi\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      vendors: this.state.myVendors\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    let table = [];\r\n    \r\n    res.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          res['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = res.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) )\r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = res.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      testTable: table,\r\n      showVendors: res['vendors']\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            \r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button  color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.vendors} multiple={true} value={this.state.myVendors} func={ (event, val) => { this.setState({ myVendors: val }) } } label='Поставщики' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Показать</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <div className=\"ag-theme-alpine\" style={{height: 600, width: '100%'}}>\r\n              <AgGridReact\r\n                  onGridReady={this.onGridReady.bind(this)}\r\n                  onCellClicked={this.onCellClicked}\r\n                  rowData={ this.state.testTable }\r\n                  \r\n                  >\r\n                  <AgGridColumn field=\"ras\" width={120} pinned=\"left\"></AgGridColumn>\r\n                  <AgGridColumn field=\"item\" width={300} pinned=\"left\" cellClassRules={{'cell-span': \"data.section==='big-title'\"}}></AgGridColumn>\r\n                  <AgGridColumn hide={true}></AgGridColumn>\r\n                    \r\n                  { this.state.showVendors.map( (item, key) => \r\n                    <AgGridColumn key={key} headerName={item.name} resizable={true} width={180}>\r\n                      <AgGridColumn field={'vend_city_'+item.id} headerName={'Город'} resizable={true} width={90}></AgGridColumn>\r\n                      <AgGridColumn field={'vend_price_'+item.id} headerName={'Цена'} resizable={true} width={90} cellStyle={dynamicCellStyle}></AgGridColumn>\r\n                    </AgGridColumn>\r\n                  ) }\r\n                  \r\n                  \r\n              </AgGridReact>\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n          \r\n          </Grid>    \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Tender () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Tender_ history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VendorItemPrice_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'vendor_item_price',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      vendors: [],\r\n      vendor: 0,\r\n      \r\n      items: [],\r\n      \r\n      cities: [],\r\n      city: -1,\r\n      allCity: false,\r\n      isPrioriti: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value,\r\n      vendor: 0,\r\n      items: []\r\n    })\r\n  }\r\n  \r\n  async changeVendor(event){\r\n    let data = {\r\n      city: this.state.city,\r\n      vendor_id: event.target.value,\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      items: res,\r\n      vendor: event.target.value,\r\n    })\r\n  }\r\n  \r\n  update(item_id, data, event){\r\n    let this_items = this.state.items;\r\n    \r\n    \r\n    \r\n    this_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        this_items[key][data] = event.target.value;\r\n        \r\n        this_items[key]['price'] = (parseFloat(this_items[key]['full_price']) / parseFloat(this_items[key]['rec_pq'])).toFixed(2);\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      items: this_items\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      vendor_id: this.state.vendor,\r\n      items: this.state.items,\r\n      city_id: this.state.city,\r\n      all_city: this.state.allCity === true ? 1 : 0,\r\n      is_prioriti: this.state.isPrioriti === true ? 1 : 0,\r\n    }\r\n    \r\n    if( data.all_city == 1 ){\r\n      if( confirm(\"Точно сохранить на все города поставщика ?\") ){\r\n        let res = await this.getData('save_price', data);\r\n      }\r\n    }else{\r\n      let res = await this.getData('save_price', data);\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.vendors} value={this.state.vendor} func={ this.changeVendor.bind(this) } label='Поставщик' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyCheckBox classes={this.state.classes} value={this.state.allCity} func={ (event) => { this.setState({ allCity: event.target.checked }) } } label='На все города поставщика' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox classes={this.state.classes} value={this.state.isPrioriti} func={ (event) => { this.setState({ isPrioriti: event.target.checked }) } } label='Приоритетный постащик' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Button onClick={this.save.bind(this)} variant=\"contained\">Сохранить</Button>\r\n          </Grid>\r\n          \r\n          \r\n          <Grid item xs={12}>\r\n              \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Позиция</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>Комментарий</TableCell>\r\n                    <TableCell>Цена за упаковку</TableCell>\r\n                    <TableCell>Объем упаковки</TableCell>\r\n                    <TableCell>Цена за 1 ед.</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.items.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.name_for_vendor}</TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.comment} func={ this.update.bind(this, item.item_id, 'comment') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.full_price} func={ this.update.bind(this, item.item_id, 'full_price') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MySelect classes={this.state.classes} data={item.pqs} value={item.rec_pq} func={ this.update.bind(this, item.item_id, 'rec_pq') } label='' />\r\n                      </TableCell>\r\n                      <TableCell>{item.price} / {item.ei_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n            \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorItemPrice () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <VendorItemPrice_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VendorModule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'vendor_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalItems: false,\r\n      modalVendor: false,\r\n      modalVendorNew: false,\r\n      \r\n      vendors: [],\r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n      openVendor: null,\r\n      customAdd: 0,\r\n      \r\n      vendorCities: [],\r\n      allCities: [],\r\n      \r\n      nds: [\r\n        { id: -1, name: 'Без НДС' },\r\n        { id: 10, name: '10% НДС' },\r\n        { id: 20, name: '20% НДС' },\r\n      ],\r\n      nds_: [\r\n        -1, 10, 20\r\n      ],\r\n      \r\n      cities: [],\r\n      city: -1\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      vendors: data.vendors,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeNDS(item_id, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        item.nds = event.target.value;\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  async openModalItems(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: true,\r\n      allItems: res.all_items,\r\n      vendor_items: res.vendor_items,\r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async openModalVendor(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendor: true,\r\n      openVendor: res.vendor,\r\n      vendorCities: res.vendor_cities,\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async openModalVendorNew(){\r\n    let data = {\r\n      vendor_id: 0\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendorNew: true,\r\n      openVendor: {\r\n        addr: \"\",\r\n        bill_ex: \"0\",\r\n        email: \"\",\r\n        email_2: \"\",\r\n        inn: \"\",\r\n        min_price: \"\",\r\n        name: \"\",\r\n        need_img_bill_ex: \"0\",\r\n        ogrn: \"\",\r\n        phone: \"\",\r\n        text: \"\",\r\n      },\r\n      vendorCities: [],\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async saveVendorItems(){\r\n    let data = {\r\n      vendor_id: this.state.openVendor.id,\r\n      items: this.state.vendor_items\r\n    }\r\n    \r\n    let check = data.items.filter( (item, key) => !this.state.nds_.includes( parseInt(item.nds) ) );\r\n    \r\n    if( check.length > 0 ){\r\n      alert('У одной или нескольких позиций не заполнен НДС')\r\n      \r\n      return ;\r\n    }\r\n    \r\n    let res = await this.getData('save_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: false,\r\n      vendor_items: [],\r\n      openVendor: null\r\n    })\r\n  }\r\n  \r\n  async saveVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('update_vendor', data);\r\n    \r\n    this.setState({\r\n      modalVendor: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  async addVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('new_vendor', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      modalVendorNew: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  delItem(item_id){\r\n    let items = this.state.vendor_items;\r\n    \r\n    items = items.filter( (item) => parseInt(item.item_id) != parseInt(item_id) );\r\n    \r\n    this.setState({\r\n      vendor_items: items\r\n    })\r\n  }\r\n  \r\n  addItem(item){\r\n    let this_items = this.state.vendor_items;\r\n    let check = this_items.find( (it) => parseInt(it.item_id) == parseInt(item.id) );\r\n    \r\n    if( !check ){\r\n      this_items.push({\r\n        item_id: item.id,\r\n        item_name: item.name,\r\n        nds: -2\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      vendor_items: this_items\r\n    })\r\n  }\r\n  \r\n  addItemCustom(){\r\n    let item = this.state.allItems.find( (item1) => parseInt(item1.id) == parseInt(this.state.customAdd) );\r\n    \r\n    this.addItem(item);\r\n  }\r\n  \r\n  testChange(data, event){\r\n    let vendor = this.state.openVendor;\r\n    \r\n    if( data == 'bill_ex' || data == 'need_img_bill_ex' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItems}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItems: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Товары поставщика {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container style={{ paddingTop: 20 }}>\r\n              \r\n              <Grid item xs={12} sm={5} style={{ paddingRight: 10 }}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow style={{ height: 75 }}>\r\n                      <TableCell>\r\n                        <MySelect classes={this.state.classes} data={this.state.allItems} value={this.state.customAdd} func={ (event) => { this.setState({ customAdd: event.target.value }) } } />\r\n                      </TableCell>\r\n                      <TableCell><AddIcon onClick={this.addItemCustom.bind(this)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                    </TableRow>\r\n                    \r\n                    { this.state.allItems.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell><AddIcon onClick={this.addItem.bind(this, item)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              <Grid item xs={12} sm={7}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    { this.state.vendor_items.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.item_name}</TableCell>\r\n                        <TableCell>\r\n                          <MyTextInput label=\"\" value={ item.sort } func={ this.changeSort.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <MySelect classes={this.state.classes} data={this.state.nds} value={item.nds} func={ this.changeNDS.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell><CloseIcon onClick={ this.delItem.bind(this, item.item_id) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              \r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendorItems.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendor}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendor: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Поставщик {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } disabled={true} />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite multiple={true} label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { console.log(value); this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendorNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendorNew: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новый поставщик</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.addVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalVendorNew.bind(this)} variant=\"contained\">Добавить поставщика</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell component=\"th\">Название</TableCell>\r\n                    <TableCell component=\"th\">Назначенные товары</TableCell>\r\n                    <TableCell component=\"th\"><VisibilityIcon /></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.vendors.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell><Typography onClick={ this.openModalVendor.bind(this, item) } style={{ cursor: 'pointer', width: 'max-content' }}>{item.name}</Typography></TableCell>\r\n                      <TableCell><DirectionsCarIcon onClick={ this.openModalItems.bind(this, item) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      <TableCell>{ parseInt(item.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> }</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorModule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <VendorModule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\n\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport { blue } from '@mui/material/colors';\r\n\r\nimport HomeWorkIcon from '@mui/icons-material/HomeWork';\r\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\r\n\r\nimport LooksOneIcon from '@mui/icons-material/LooksOne';\r\nimport LooksTwoIcon from '@mui/icons-material/LooksTwo';\r\nimport Looks3Icon from '@mui/icons-material/Looks3';\r\n\r\nimport AssessmentIcon from '@mui/icons-material/Assessment';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string'); \r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction SimpleDialog(props) {\r\n  const { onClose, selectedValue, open } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose(selectedValue);\r\n  };\r\n\r\n  const handleListItemClick = (value) => {\r\n    onClose(value);\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <List sx={{ pt: 0 }}>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <AccessTimeIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить часы на месяц\" />\r\n        </ListItem>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <SyncAltIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить смену\" />\r\n        </ListItem>\r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <HomeWorkIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить точку\" />\r\n        </ListItem>\r\n        \r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nSimpleDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.string.isRequired,\r\n};\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass HeaderItem extends React.Component {\r\n  render(){\r\n    return (\r\n      <>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Ур. кафе: {this.props.lv_cafe}</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Число месяца</TableCell>\r\n\r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.date}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell></TableCell>\r\n              \r\n              { this.props.dataKey > 0 ? \r\n                <>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                </>\r\n                  :\r\n                <>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeDopBonus}>{ !this.props.bonus_other ? '+ / -' : parseInt(this.props.bonus_other) == 1 ? <AddIcon style={{ fontSize: 30, color: 'green' }} /> : <CloseIcon style={{ fontSize: 30, color: 'red' }} /> }</TableCell>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeLVDir}>Ур. дира: {this.props.lv_dir}</TableCell>\r\n                </>\r\n              }\r\n                  \r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n            </>\r\n          }\r\n\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Сотрудник</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Должность</TableCell>\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.day}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell style={{ textAlign: 'center' }}>За 1ч</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Командный бонус</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>За часы</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Ошибки</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Бонус</TableCell>\r\n              { this.props.show_zp == 1 || this.props.show_zp == 0 ?\r\n                <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                  :\r\n                null\r\n              }\r\n              <TableCell style={{ textAlign: 'center' }}>Выдано</TableCell>\r\n            </>\r\n          }\r\n        </TableRow>\r\n        \r\n        <TableRow style={{ backgroundColor: '#e5e5e5' }}>\r\n          <TableCell style={{ textAlign: 'center' }} colSpan={ this.props.days.length + 3 + 7 }>{this.props.item.data}</TableCell>\r\n        </TableRow>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass WorkSchedule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'work_schedule',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      mounths: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      \r\n      one: null,\r\n      two: null,\r\n      test_one: [],\r\n      test_two: [],\r\n      \r\n      isOpenModalH: false,\r\n      \r\n      userInfo: null,\r\n      \r\n      hList: [],\r\n      mList: [],\r\n      \r\n      newTimeStart: '10:00',\r\n      newTimeEnd: '22:00',\r\n      \r\n      openNewTimeAdd: false,\r\n      \r\n      otherAppList: [],\r\n      otherApp: '',\r\n      \r\n      testVal: '',\r\n      testOpen: false,\r\n      \r\n      mainMenu: false,\r\n      mainMenuH: false,\r\n      mainMenuSmena: false,\r\n      show_bonus: false,\r\n      mainMenuPrice: false,\r\n      mainMenuLVDIR: false,\r\n      mainMenuDopBonus: false,\r\n\r\n      show_zp_one: 0,\r\n      show_zp_two: 0,\r\n      kind: '',\r\n\r\n      myOtherSmens: [],\r\n      \r\n      chooseUser: null,\r\n\r\n      tabTable: 1,\r\n\r\n      lv_cafe: 0,\r\n      lv_dir: 0,\r\n      arr_dir_lv: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = {\r\n      \r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n    \r\n    let hList = [];\r\n    let mList = [];\r\n    \r\n    for(let h = 0; h <= 23; h ++){\r\n      hList.push({\r\n        id: h,\r\n        name: h\r\n      })\r\n    }\r\n    \r\n    for(let m = 0; m <= 50; m += 10){\r\n      mList.push({\r\n        id: m,\r\n        name: m\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      points: res.point_list,\r\n      point: res.point_list[0].id,\r\n      \r\n      mounths: res.mounths,\r\n      mounth: res.mounths.find( (item) => parseInt( item.is_active ) == 1 )['id'],\r\n      \r\n      hList: hList,\r\n      mList: mList,\r\n      \r\n      module_name: res.module_info.name\r\n    })\r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    let arr_dir_lv = [];\r\n\r\n    for(let i = 1; i <= 20; i ++){\r\n      arr_dir_lv.push(i);\r\n    }\r\n\r\n    this.setState({\r\n      arr_dir_lv: arr_dir_lv\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      mounth: this.state.mounth\r\n    };\r\n    \r\n    let res = await this.getData('get_graph', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      one: res.date.one,\r\n      two: res.date.two,\r\n      \r\n      test_one: res.one,\r\n      test_two: res.two,\r\n\r\n      show_zp_one: res.show_zp_one,\r\n      show_zp_two: res.show_zp_two,\r\n      kind: res.kind,\r\n\r\n      lv_cafe: res.lv_cafe,\r\n      lv_dir: res.lv_dir\r\n    })\r\n  }\r\n  \r\n  async openH(item, this_date){\r\n    console.log( item )\r\n    \r\n    let data = {\r\n      smena_id: item.smena_id,\r\n      app_id: item.app_id,\r\n      user_id: item.id,\r\n      date: this_date,\r\n      date_start: item.date\r\n    };\r\n    \r\n    let res = await this.getData('get_user_day', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      isOpenModalH: true,\r\n      userInfo: res.h_info,\r\n      otherAppList: res.other_app,\r\n      show_bonus: res.show_bonus\r\n    })\r\n  }\r\n  \r\n  delTime(key_time){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours = userInfo.hours.filter( (item, key) => parseInt(key) != parseInt(key_time) );\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  changeHourse(type, key, event){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours[ key ][ [type] ] = event.target.value;\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  async saveDayHourse(){\r\n    let data = {\r\n      date: this.state.userInfo.date,\r\n      user_id: this.state.userInfo.user_id,\r\n      smena_id: this.state.userInfo.smena_id,\r\n      app_id: this.state.userInfo.app_id,\r\n      hours: this.state.userInfo.hours,\r\n      new_app: this.state.userInfo.new_app,\r\n      mentor_id: this.state.userInfo.mentor_id\r\n    }\r\n    \r\n    let res = await this.getData('save_user_day', data);\r\n    \r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n  \r\n  addTime(){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    let check = userInfo.hours.find( (item) => item.time_start == this.state.newTimeStart && item.time_end == this.state.newTimeEnd );\r\n    \r\n    if( check ){\r\n      this.setState({\r\n        openNewTimeAdd: false\r\n      })\r\n      \r\n      return ;\r\n    }\r\n    \r\n    userInfo.hours.push({\r\n      time_start: this.state.newTimeStart,\r\n      time_end: this.state.newTimeEnd\r\n    })\r\n    \r\n    this.setState({\r\n      userInfo: userInfo,\r\n      openNewTimeAdd: false\r\n    })\r\n  }\r\n  \r\n  async fastTime(type){\r\n    let data = {\r\n      type: type,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth\r\n    }\r\n    \r\n    let res = await this.getData('save_fastTime', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async fastSmena(smena_id){\r\n    let data = {\r\n      new_smena_id: smena_id,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_fastSmena', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async changePriceH(price){\r\n    let data = {\r\n      price: price,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_userPriceH', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuPrice: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeLVDir(){\r\n    this.setState({\r\n      mainMenuLVDIR: true\r\n    })\r\n  }\r\n\r\n  async newLvDir(LV){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      point_id: this.state.point,\r\n      dir_lv: LV\r\n    }\r\n    \r\n    let res = await this.getData('save_dir_lv', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuLVDIR: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeDopBonus(){\r\n    this.setState({\r\n      mainMenuDopBonus: true\r\n    })\r\n  }\r\n\r\n  async dop_bonus(type){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable,\r\n      point_id: this.state.point,\r\n      type: type\r\n    }\r\n    \r\n    let res = await this.getData('save_dop_bonus', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuDopBonus: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenu: false }) } } open={this.state.mainMenu}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.full_app_name} {this.state.chooseUser.user_name} {this.state.mounth}</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuH: true }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <AccessTimeIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить часы на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuSmena: true, myOtherSmens: this.state.chooseUser.other_smens }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <SyncAltIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить смену\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <HomeWorkIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить точку\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuH: false }) } } open={this.state.mainMenuH}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часы</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 1)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksOneIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 1 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 2)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksTwoIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Со 2 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 3)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 3 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 4)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 4 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuSmena: false }) } } open={this.state.mainMenuSmena}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Смена</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.myOtherSmens.map( (item, key) =>\r\n              <ListItem key={key} button onClick={this.fastSmena.bind(this, item.id)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ) }\r\n        \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuPrice: false }) } } open={this.state.mainMenuPrice}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часовая ставка</DialogTitle>\r\n          }\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <List sx={{ pt: 0 }}>\r\n              \r\n              { this.state.chooseUser.price_arr.map( (item, key) =>\r\n                <ListItem key={key} button onClick={this.changePriceH.bind(this, item)} style={ parseFloat(this.state.chooseUser.price_p_h) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} }>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                      <AssessmentIcon />\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText primary={item} />\r\n                </ListItem>\r\n              ) }\r\n          \r\n            </List>\r\n          }\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuLVDIR: false }) } } open={this.state.mainMenuLVDIR}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Уровень директора</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.arr_dir_lv.map( (item, key) =>\r\n              <ListItem key={key} button style={ parseFloat(this.state.lv_dir) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} } onClick={this.newLvDir.bind(this, item)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item+' уровень'} />\r\n              </ListItem>\r\n            ) }\r\n          </List>\r\n          \r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuDopBonus: false }) } } open={this.state.mainMenuDopBonus}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Командный бонус</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'green' }}>\r\n                  <CheckIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Выдать'} />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'red' }}>\r\n                  <CloseIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Отказать'} />\r\n            </ListItem>\r\n            \r\n          </List>\r\n          \r\n        </Dialog>\r\n        \r\n        { !this.state.userInfo ? null :\r\n          <Dialog\r\n            open={this.state.isOpenModalH}\r\n            onClose={ () => { this.setState({ isOpenModalH: false }) } }\r\n            scroll='paper'\r\n            aria-labelledby=\"scroll-dialog-title\"\r\n            aria-describedby=\"scroll-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"scroll-dialog-title\">{this.state.userInfo.user.app_name + ' ' + this.state.userInfo.user.user_name + ' ' + this.state.userInfo.date}</DialogTitle>\r\n            <DialogContent dividers={true}>\r\n              \r\n              <Typography style={{ marginBottom: 10 }}>{'Моя нагрузка: ' + this.state.userInfo.user.my_load_h + ' / Средняя нагрузка: ' + this.state.userInfo.user.all_load_h}</Typography>\r\n              { this.state.show_bonus === false ? null :\r\n                <Typography style={{ marginBottom: 20 }}>{'Бонус: ' + this.state.userInfo.user.bonus}</Typography>\r\n              }\r\n              \r\n              { this.state.otherAppList.length == 0 ? null :\r\n                <MySelect data={this.state.otherAppList} value={this.state.userInfo.new_app} func={ (event) => { let userInfo = this.state.userInfo; userInfo.new_app = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              { this.state.userInfo.mentor_list.length == 0 ? null :\r\n                <MySelect data={this.state.userInfo.mentor_list} value={this.state.userInfo.mentor_id} func={ (event) => { let userInfo = this.state.userInfo; userInfo.mentor_id = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              <Accordion \r\n                style={{ marginTop: 10 }} \r\n                expanded={this.state.openNewTimeAdd} \r\n                onChange={ () => { this.setState({ openNewTimeAdd: !this.state.openNewTimeAdd }) } }>\r\n                  \r\n                <AccordionSummary\r\n                  expandIcon={<AddIcon />}\r\n                >\r\n                  <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                  <Typography>Добавить время</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  \r\n                  <MyTimePicker value={this.state.newTimeStart} func={ (event) => { this.setState({ newTimeStart: event.target.value }) } } classes={this.state.classes} label='Время начала работы' />\r\n                  <MyTimePicker value={this.state.newTimeEnd} func={ (event) => { this.setState({ newTimeEnd: event.target.value }) } } classes={this.state.classes} label='Время окончания работы' />\r\n                  \r\n                  <AddIcon style={{ minWidth: 50, minHeight: 38, cursor: 'pointer' }} onClick={ this.addTime.bind(this) } />\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hours.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<CloseIcon onClick={ this.delTime.bind(this, key) } />}\r\n                  >\r\n                    <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                    <Typography>{item.time_start + ' - ' + item.time_end}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                    <MyTimePicker value={item.time_start} func={ this.changeHourse.bind(this, 'time_start', key) } classes={this.state.classes} label='Время начала работы' />\r\n                    <MyTimePicker value={item.time_end} func={ this.changeHourse.bind(this, 'time_end', key) } classes={this.state.classes} label='Время окончания работы' />\r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n              \r\n              <Accordion style={{ marginTop: 50 }} disabled>\r\n                <AccordionSummary>\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hist.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary>\r\n                    <Typography>{item.date + ' - ' + item.user_name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    \r\n                    { item.items.map( (it, k) =>\r\n                      <Typography key={k}>{it.time_start + ' - ' + it.time_end} {it.app_name == '' ? '' : ' - ' + it.app_name} </Typography>\r\n                    ) }\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n            </DialogContent>\r\n            <DialogActions style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Button style={{ backgroundColor: 'green', color: '#fff' }} onClick={this.saveDayHourse.bind(this)}>Сохранить</Button>\r\n              <Button style={{ backgroundColor: 'red', color: '#fff' }} onClick={() => { this.setState({ isOpenModalH: false }) }}>Отмена</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ (event) => { this.setState({ point: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.mounths} value={this.state.mounth} func={ (event) => { this.setState({ mounth: event.target.value }) } } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n            \r\n              \r\n          <Box sx={{ width: '100%' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={this.state.tabTable} onChange={ (event, data) => { this.setState({ tabTable: data }) } } centered >\r\n                <Tab label=\"С 1 по 15 числа\" {...a11yProps(0)} />\r\n                <Tab label=\"С 16 по конец месяца\" {...a11yProps(1)} />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={this.state.tabTable} index={0}>\r\n              { !this.state.one ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_one\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_one.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem key={key} bonus_other={this.state.one.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} kind={this.state.kind} show_zp={this.state.show_zp_one} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.one.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n\r\n                                { this.state.show_zp_one == 1 || this.state.show_zp_one == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n\r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            <TabPanel value={this.state.tabTable} index={1}>\r\n              { !this.state.two ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_two\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_two.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem bonus_other={this.state.two.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} key={key} kind={this.state.kind} show_zp={this.state.show_zp_two} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.two.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n                                \r\n                                { this.state.show_zp_two == 1 || this.state.show_zp_two == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            \r\n          </Box>\r\n          \r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function WorkSchedule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <WorkSchedule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@mui/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport Container from '@mui/material/Container';\r\nimport Grid from '@mui/material/Grid';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport routes from '../../../server/routes';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#c03',\r\n      },\r\n      def: {\r\n        main: '#353b48',\r\n        secondary: '#fff'\r\n      },\r\n    },\r\n});\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      \r\n      module: 'header',\r\n      \r\n      open: false,\r\n      menu: [],\r\n      full_menu: [],\r\n      \r\n      left: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      menu: data.info.left_menu,\r\n      full_menu: data.info.full_menu,\r\n    })\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      console.log( json )\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  handleDrawerOpen(){\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  \r\n  handleDrawerClose(){\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <AppBar className={clsx(this.state.classes.appBar, this.state.open && this.state.classes.appBarShift)}>\r\n          <Toolbar className={this.state.classes.toolbar}>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleDrawerOpen.bind(this)}\r\n              className={clsx(this.state.classes.menuButton, this.state.open && this.state.classes.menuButtonHidden)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={this.state.classes.title}>\r\n              Dashboard\r\n            </Typography>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        \r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <div className={this.state.classes.toolbarIcon}>\r\n            \r\n              <Autocomplete\r\n                size=\"small\"\r\n                options={this.state.full_menu}\r\n                getOptionLabel={(option) => option.name}\r\n                onChange={(event, newValue) => {\r\n                  if( newValue ){\r\n                    this.state.history.push(\"/\"+newValue.key_query+\"/\");\r\n                  }\r\n                }}\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <TextField {...params} label=\"Поиск\" variant=\"outlined\" />}\r\n              />\r\n              \r\n              <IconButton onClick={this.handleDrawerClose.bind(this)}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            \r\n            { this.state.menu.map( (item, key) =>\r\n              <Accordion key={key} >\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography className={this.state.classes.heading}>{ item.parent.name }</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  \r\n                  <List style={{ width: '100%' }}>\r\n                  \r\n                    { item.chaild.map( (it, k) =>\r\n                      <ListItem button key={k}>\r\n                        <Link to={\"/\"+it.key_query+\"/\"}>\r\n                          <ListItemText primary={ it.name } />\r\n                        </Link>\r\n                      </ListItem>\r\n                    ) }\r\n                  \r\n                  </List>\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Status({ code, children }) {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function NotFound() {\r\n  return (\r\n    <Status code={404}>\r\n        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n    </Status>\r\n  );\r\n}\r\n\r\nexport function App () {\r\n    const classes = useStyles();\r\n    let history = useHistory();\r\n    \r\n    let check_header = true;\r\n    \r\n    if( \r\n      history.location.pathname == '/auth/' || \r\n      history.location.pathname == '/auth' || \r\n      history.location.pathname == '/registration/' ||\r\n      history.location.pathname == '/registration'\r\n    ){\r\n      check_header = false;\r\n    }\r\n    \r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div className={classes.root}>\r\n          { !check_header ? null :\r\n            <>\r\n              <CssBaseline />\r\n              <Header classes={classes} history={history} />\r\n            </>\r\n          }\r\n          <main className={classes.content}>\r\n            <div className={classes.appBarSpacer} />\r\n            <Container maxWidth={false} className={classes.container}>\r\n        \r\n              <Switch>\r\n                { routes.map( (item, key) =>\r\n                  <Route\r\n                    key={key}\r\n                    path={item.path}\r\n                    exact={ item.exact }\r\n                    component={ item.component }\r\n                  />\r\n                ) }\r\n                \r\n                <Route\r\n                  component={ () =>\r\n                    <Status code={404}>\r\n                      <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n                        <Grid item xs={12}>\r\n                          <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Status>\r\n                  }\r\n                />\r\n              </Switch>\r\n        \r\n            </Container>\r\n          </main>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n// import App components\r\nimport { App } from './components/app';\r\n\r\n// compile App component in `#app` HTML element\r\nReactDOM.render( <BrowserRouter><App/></BrowserRouter>, document.getElementById( 'app' ) );\r\n//ReactDOM.hydrate( <BrowserRouter><App/></BrowserRouter>, document.getElementById( 'app' ) );\r\n","import React from 'react';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\n\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Stack from '@mui/material/Stack';\r\n\r\n//import Grid from '@mui/material/Grid';\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n\r\n/*import DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';*/\r\n\r\n//\"@date-io/date-fns\": \"^1.3.13\",\r\n\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\n\r\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker';\r\n\r\n\r\n//import DateRangePicker from '@mui/lab/DateRangePicker';\r\n//import AdapterDateFns from '@mui/lab/AdapterDateFns';\r\n//import LocalizationProvider from '@mui/lab/LocalizationProvider';\r\n//import DatePicker from '@mui/lab/DatePicker';\r\nimport Typography from '@mui/material/Typography';\r\n\r\n//import DatePicker from '@mui/lab/DatePicker';\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class MyDaterange extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale} size=\"small\">\r\n        <DateRangePicker\r\n          \r\n          allowSameDateSelection={true}\r\n          showTodayButton={true}\r\n          startText={this.props.startText}\r\n          endText={this.props.endText}\r\n          value={this.props.value}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          mask=\"____-__-__\"\r\n          onChange={this.props.func}\r\n          renderInput={(startProps, endProps) => (\r\n            <React.Fragment>\r\n              <TextField style={{ width: '100%' }} {...startProps} />\r\n              <TextField style={{ width: '100%' }} {...endProps} />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          disableCloseOnSelect={true}\r\n          //multiple={true}\r\n          id={ this.props.id ?? null }\r\n          options={this.props.data}\r\n          getOptionLabel={(option) => option.name}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => parseInt(option.id) === parseInt(value.id) }\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MySelect extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n        <InputLabel>{this.props.label}</InputLabel>\r\n        <Select\r\n          value={this.props.value}\r\n          label={this.props.label}\r\n          disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n          onChange={ this.props.func }\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n        >\r\n          <MenuItem value=\"\"><em>None</em></MenuItem>\r\n          { this.props.data.map( (item, key) =>\r\n            <MenuItem key={key} value={item.id}>{item.name}</MenuItem>\r\n          ) }\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTextInput extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      type: 'text'\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField \r\n        label={this.props.label}\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n        onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n        disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n        variant=\"outlined\" \r\n        size={'small'} \r\n        color='primary'\r\n        multiline={this.props.multiline ? this.props.multiline : false}\r\n        maxRows={this.props.maxRows ? this.props.maxRows : 1}\r\n        type={ this.props.type ? this.props.type : this.state.type }\r\n        style={{ width: '100%' }} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTimePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      thisVal: ''\r\n    };\r\n  }\r\n  \r\n  onChange(event){\r\n    this.setState({\r\n      thisVal: event.target.value\r\n    })\r\n  }\r\n\r\n  onBlur(){\r\n    this.setState({\r\n      thisVal: ''\r\n    })\r\n\r\n    this.props.onBlur();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={this.props.label}\r\n        type=\"time\"\r\n        id={ this.props.id ? this.props.id : null }\r\n        value={ this.props.func ? this.props.value : this.state.thisVal }\r\n        className={this.state.classes.timePicker}\r\n        onChange={this.props.func ? this.props.func : this.onChange.bind(this)}\r\n        onBlur={this.props.onBlur ? this.onBlur.bind(this) : null}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        step={600}\r\n        inputProps={{\r\n          step: 600, // 5 min\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerNew extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale}>\r\n        <DatePicker\r\n          multiple={true}\r\n          mask=\"____-__-__\"\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          label={this.props.label}\r\n          value={formatDate(this.props.value)}\r\n          onChange={this.props.func}\r\n          renderInput={(params) => <TextField variant=\"outlined\" size={'small'} color='primary' style={{ width: '100%' }} {...params} />}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyCheckBox extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormGroup row style={ this.props.style ? this.props.style : {} }>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              checked={this.props.value}\r\n              onChange={this.props.func}\r\n              color=\"primary\"\r\n              \r\n            />\r\n          }\r\n          label={this.props.label}\r\n        />\r\n      </FormGroup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class TextEditor extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <tinymce-editor\r\n        apiKey=\"r0ihgs4ukfpmudzw7aexxgb88tnx5jw26h1xx9x6409ji3gx\"\r\n        id={this.props.id}\r\n        menubar={true}\r\n        plugins=\"advlist autolink lists link image charmap print preview anchor\r\n        searchreplace visualblocks code fullscreen\r\n        insertdatetime media table paste code help wordcount\"\r\n        toolbar=\"undo redo | formatselect | bold italic backcolor |\r\n        alignleft aligncenter alignright alignjustify |\r\n        bullist numlist outdent indent | removeformat | help\"\r\n        content_style=\"body\r\n        {\r\n          font-family:Helvetica,Arial,sans-serif;\r\n          font-size:14px\r\n        }\"\r\n        >\r\n\r\n        {this.props.text}\r\n\r\n      </tinymce-editor>\r\n    )\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361827\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630354500\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361824\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361696\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361726\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361337\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361699\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361328\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361679\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361676\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361723\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361661\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361358\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361630\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630362163\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361774\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361353\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361333\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361683\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361830\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361664\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361729\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361781\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361777\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361693\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630362597\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361635\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361639\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1653630361656\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["Home","require","Auth","Reg","LiveOrders","Events","RasByBill","CategoryItems","VendorModule","VendorItemPrice","Tender","Revizion","RevizionNew","WorkSchedule","SiteSale2","SiteSale2_New","SiteSale2_Edit","SiteSale2_Stat","SiteSale2_StatList","DriveMapStatAll","DriverStat","Concenter","SocialNetwork","CatWork","AppWorkPoint","AppWork","AppWorkShow","SiteStatMarc","AdvertisingCompany","RasBillAndCook","SkladItemsModule","SiteUserManager","PromoItemsStat","SiteItems","module","exports","path","exact","component","title","code","queryString","theme","createTheme","palette","primary","main","def","secondary","useStyles","makeStyles","formControl","width","selectEmpty","marginTop","spacing","tableCel","textAlign","borderRight","padding","cursor","backgroundColor","tableCelHead","customCel","timePicker","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","AdvertisingCompany_","props","method","data","setState","is_load","fetch","headers","body","stringify","state","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","history","push","err","console","log","classes","module_name","description","adv_actual","adv_old","modalDialog","modalDialogNew","rangeDate","date_start","date_end","point_id","points","choosePoint","points_filter","is_active","id","nameCat","editText","name","editTextNew","showItem","this","getData","module_info","document","item","alert","text","event","target","checked","val","value","getAdvList","confirm","Backdrop","className","backdrop","open","CircularProgress","color","Dialog","onClose","DialogTitle","DialogContent","style","paddingTop","Grid","container","xs","sm","func","label","changeDateRange","bind","multiple","changeChekBox","DialogActions","Button","onClick","save","saveNew","variant","changePoint","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","map","key","openCat","it","k","Close","delAdv","React","useHistory","AppWork_","items","items_min","dows","types","itemsEdit","nameWork","itemsNew","chengeItem1","chengeItemNew1","find","parseInt","dow","showCat","work","times_add","times_close","work_id","time_action","newArr","getElementById","maxWidth","chengeItem","cats","type_new","time_min","max_count","multiline","maxRows","apps","app_id","type_time","List","ListItem","borderBottom","ListItemText","chengeTime","delTime","onBlur","addTime","chengeTimeClose","saveEdit","chengeItemNew","chengeTimeNew","delTimeNew","addTimeNew","chengeTimeCloseNew","openNewWork","Visibility","openWork","fontWeight","work_name","app_name","dow_name","times_open","is_not_del","changeCheck","is_need","AppWorkPoint_","allList","allListRender","thisList","getWorks","all_work","this_work","checkList","Titem","Aitem","check","thisItem","dop_time","new_arr","fake_item","list","isNaN","changeApp","Send","add","size","changeDopTime","del","a11yProps","index","PropTypes","AppWorkShow_","showItems","activeTab","filter","Typography","cat_name","show_time","dangerouslySetInnerHTML","__html","text_work","Tabs","onChange","changeTab","Tab","need_work_name","paper","display","flexDirection","alignItems","avatar","borderRadius","height","margin","avatar2","form","submit","textLink","Auth_","dialogTitle","dialogText","point","showReady","read","onstol","ordersQueue","prestol_new","pwd","setItem","token","DialogContentText","autoFocus","direction","justifyContent","md","lg","xl","Avatar","alt","src","noValidate","TextField","required","fullWidth","autoComplete","auth","href","CatWork_","nameCatNew","config","readonly","cat_id","button","CategoryItems_","modalDialog2","modalDialog3","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","editCat","allCats","allItems","thisValItems","thisDataItems","thisCatId","myVal","cat","parent_id","paddingBottom","changeCatMain","changeNameMain","saveCat","saveItems","changeCatMainEdit","changeNameMainEdit","saveEditCat","createCat","main_cat","main_key","Accordion","AccordionSummary","expandIcon","ExpandMore","Menu","marginRight","AccordionDetails","parent_cat","parent_key","addItems","Concenter_","typeDel","modalDialogDel","cities","city_id","point_list","need_point_list","indexTab","orders","ordersRender","showOrder","radiogroup_options","textDel","number","addr","need_points","getOrders","filterNumber","order_id","deltype","order","typeCreate","ans","type_check","check_pos","prompt","renderOrders","indexOf","street","home","toLowerCase","type_order","type_order_addr_new","time_order_name","time_order","delete_reason","date_time_delete","is_preorder","text_time","time_to_client","textTime","promo_name","promo_text","comment","sdacha","sum_order","check_pos_drive","order_items","count","price","TableFooter","order_items_","ready","is_delete","status_order","ButtonGroup","disableElevation","disableRipple","closeOrder","type_order_","fakeUser","FormControl","RadioGroup","changeAddr","FormControlLabel","control","Radio","onFocus","changeText","delOrder","closeOrderTrue","changeCity","changeDate","changeNumber","changeAddrSt","btnGetOrders","dist","type_user","date_time_order","need_time","give_data_time","close_order","to_time","unix_time_to_client","status","order_price","type_pay","driver","DriveMapStatAll_","drivers","updateData","objectManager","ymaps","ObjectManager","features","options","preset","iconColor","geometry","coordinates","latitude","longitude","point_color","properties","iconCaption","point_text","xy","positions","pos","parse","iconContent","geoObjects","removeAll","Map","center","zoom","searchControlProvider","myGeoObject","GeoObject","driver_name","DriverStat_","drive_stat_full","drive_stat_date","summ","choose_driver_id","check_cash","getSumm","modalDialogGetSumm","getSummDriverId","getSummComment","modalDialogStatSumm","modalDialogStatSummMain","statSumm","statSummMain","stat_drive_date","dateStart","dateEnd","driver_id","click","changeSumm","saveGivePrice","saveGetPrice","date_time","user_name","my_cash","give","full_sum","full_cash","full_bank","count_cash","count_bank","give_by_date","getStatDop","dop_price","err_summ","my_price","getStatDopMain","my_orders","my","ost_cash","giveCash","getCash","colSpan","unic_users","short_name","order_k","Events_","mounth","mounths","years","calendar","chooseDayHoly","events","chooseEvent","eventPoint1","everyYear1","timeStart2","timeEnd2","expanded","dayEvents","events_hist","this_m","this_y","m","y","full_day","chooseDay","holy","hist","this_events","every_year","time_start","time_end","del_id","changeEvent","changePoint1","changeTimeStart2","changeTimeEnd2","changeEveryYear1","delEvent","changeMounth","changeYear","overflow","m_key","dir","zIndex","drawer","Home_","Live_Orders","changeCheckOrders","preorder","date_time_preorder_","unix_start_stol_or","give_data_time_","close_date_time_order","type_","time_","test_time","stol_sborki","date_time_preorder","time_start_order","time_end_order","PromoItemsStat_","stats","chooseItem","items_list","promoName","val2","chooseData","chooseDataNew","getStat","RasBillAndCook_","rev_list","rev","changeRev","key_cat","count_rev","count_bill","count_ras","count_res","ei_name","RasByBill_","items_cat","item_cat","myItems","start_date","end_date","items_ras","parseFloat","sum","resItems","pf_ras","rec_ras","toFixed","catItems","this_price","count_pos","changeItems","getItems","getCats","count_item","count_pf","ei_name_pf","pf_name","count_rolls","price_rolls","disabled","count_pizza","price_by_items","paddingLeft","parent_items","backButton","instructions","marginBottom","Reg_","activeStep","steps","phone","charCode","nextStep","Stepper","alternativeLabel","Step","StepLabel","onKeyPress","enterNextStep","TabPanel","children","other","role","hidden","Box","sx","p","propTypes","Revizion_","revList","chooseRev","search","pf","rec","items_b","pf_b","rec_b","all_data","chooseTab","get_data_for_new_rev","getRevList","getDataRev","includes","rev_id","to","textColor","indicatorColor","centered","RevizionNewItem","change","nextProps","nextState","counts","need_pq","itemKey","clear","copy","RevizionNew_","storages","key_item","key_data","allVal","is_show","titleDialog","new_counts","checkData","saveData","copyData","clearData","SwipeableDrawer","anchor","onOpen","position","bottom","left","right","elevation","BottomNavigation","showLabels","BottomNavigationAction","newValue","icon","Restore","SiteItems_","autoProcessQueue","autoQueue","maxFiles","timeout","parallelUploads","acceptedFiles","addRemoveLinks","url","vendor_items","modalItemEdit","modalItemNew","itemEdit","itemName","checkArtDialog","checkArtList","freeItems","point_list_render","app_list","users","modalUserEdit","modalUserNew","delModal","graphModal","graphType","editItem","modalEdit","cat_list","ItemTab","getUsers","user_id","sortPoint","myDropzone","Dropzone","dropzoneOptions","points_render","user","is_graph","isInit","on","file","xhr","file_type","split","append","getOrientation","orientation","check_img","processQueue","is_graph_","sms","callback","reader","FileReader","onload","view","DataView","result","getUint16","byteLength","offset","marker","getUint32","little","tags","i","readAsArrayBuffer","slice","vendor","stol","saveeditItem","TabContext","borderColor","TabList","changeItem","link","category_id","art","weight","count_part","size_pizza","protein","fat","carbohydrates","kkal","time_stage_1","time_stage_2","time_stage_3","img_new","img_new_update","maxHeight","minHeight","tmp_desc","marc_desc","is_new","is_hit","show_site","show_program","fam","otc","birthday","auth_code","inn","acc_to_kas","appointment","saveNewUser","openItem","sort","VisibilityOff","MyDatePicker","format","formatDateDot","formatDateName","SiteSale2_new_","modalText","city","modalLink","where_promo_list","promo_action_list","sale_list","promo_conditions_list","promo_sale_list","type_sale_list","date_promo_list","type_order_list","where_order_list","promo_prizw_vk","spamNameSMS","auto_text","where_promo","generate_new","count_action","promo_action","type_sale","promo_sale","sale_type","promo_conditions","price_start","price_end","date_promo","promo_length","promo_count","day_1","day_2","day_3","day_4","day_5","day_6","day_7","where_order","numberList","promo_desc_true","promo_desc_false","textSMS","addItem","addItemCount","addItemPrice","addItemAllPrice","itemsAdd","itemsAddPrice","saleCat","saleItem","priceItem","conditionItems","testDate","createdPromo","Y","M","D","fullDate","generateTextDescFalse","generateTextDescTrue","count_promo","promo_items","promo_cat","dateList","toISOString","promo_vk_prize","cert_text","promo_len","generate","promo_in_count","promo_type_sale","promo_type","promo_summ","promo_summ_to","promo_when","promo_type_order","promo_where","promo_city","promo_point","about_promo_text","condition_promo_text","promo_items_add","promo_items_sale","promo_conditions_items","date_between","text_err","thisDay","nextDay","setDate","textTrue","substring","itemText","dop_text","textFalse","thisItems","item_id","newItems","changeData","changeDataCheck","Divider","changeDataData","addItemAdd","delItemAdd","priceItemAdd","delItemPrice","TextareaAutosize","placeholder","minRows","SiteSale2_edit_","promo_id","promoId","promo","findItem","limDate","limit","date1","date2","time1","time2","d1","d2","d3","d4","d5","d6","d7","coment","condition_text","SiteSale2_","city_list","findPromoList","all_city_list","showPromoList","marginLeft","city_name","def_count","delPromo","SiteSale2_Stat_","spam_list","spam_id","spam_list_data","spam_list_data_stat","true","all","percent","stat","show","changeSpam","SiteSale2_StatList_","promo_list","startText","endText","Check","useParams","SiteStatMarc_","is_show_adv","show_stat_roll","show_stat_set","show_stat_pizza","newUsersTable","countOrdersTable","avgSumm","countPos","fakeUsers","roll_stat","set_stat","pizza_stat","typesShow","typeShow","advData","new_users","count_orders","avg_summ","fake_users","renderGraphNewUsers","renderGraphOrders","renderGraphAvgSumm","renderCountPos","renderGraphNewUsersD","renderGraphOrdersD","renderGraphAvgSummD","renderCountPosD","MyData","chartnewusers","dispose","root","am5","Root","setThemes","am5themes_Animated","chart","am5xy","XYChart","panY","wheelY","layout","verticalLayout","data_site","data_center","data_all","site","getTime","yAxis","yAxes","ValueAxis","extraTooltipPrecision","renderer","AxisRendererY","xAxis","xAxes","DateAxis","baseInterval","timeUnit","startLocation","endLocation","AxisRendererX","minGridDistance","createSeries","field","series","SmoothedXLineSeries","valueYField","valueXField","tooltip","Tooltip","maskBullets","bullets","Bullet","sprite","Circle","radius","fill","get","strokes","template","set","setAll","XYCursor","behavior","themeTags","chartnewusersD","date_new","chartorders","data_pic","data_dev","data_hall","pic","dev","hall","chartordersD","dateFormatter","dateFormat","dateFields","yAxis2","CategoryAxis","categoryField","inversed","animationDuration","strokeWidth","adv_data","category","legend","Legend","centerX","p50","x","clickTarget","series2","ColumnSeries","openValueXField","categoryYField","sequencedInterpolation","columns","opacity","processor","DataProcessor","createSeries2","chartavgsumm","chartavgsummD","chartcountpos","data_pizza","data_rolls","chartcountposD","lost_users","ret_users","showStat","SiteUserManager_","editUser","changeSort","saveEditUser","minWidth","date_time_update","update_name","point_name","openNewUser","openEditUser","SkladItemsModule_","searchItem","items_free","vendors","main_item_id","this_storages","saveEditItem","saveNewItem","saveItem","pt","chooseArt","pf_list","pf_id","name_for_vendor","max_count_in_m","pq","ed_izmer","ed_izmer_id","time_dop_min","time_min_other","los_percent","vend_percent","w_pf","w_trash","w_item","two_user","checkArt","checkArtNew","openModalItemNew","show_in_rev","changeTableItem","showEditItem","storage_name","handle_price","SocialNetwork_","cityList","dataInfo","info","vk","inst","ok","tg","fb","file1","formData","FormData","axios","response","error","files","handleFileInput","dynamicCellStyle","params","colDef","headerName","Tender_","testTable","myVendors","showVendors","params_api","params_columnApi","table","k1","section","k2","k3","tableItem","k4","item_price","vendor_price","vendor_id","item_ras","ras","api","columnApi","AgGridReact","onGridReady","onCellClicked","rowData","AgGridColumn","pinned","cellClassRules","hide","resizable","cellStyle","VendorItemPrice_","allCity","isPrioriti","this_items","all_city","is_prioriti","changeVendor","update","full_price","pqs","rec_pq","VendorModule_","modalItems","modalVendor","modalVendorNew","openVendor","customAdd","vendorCities","allCities","nds","nds_","all_items","vendor_cities","all_cities","bill_ex","email","email_2","min_price","need_img_bill_ex","ogrn","item_name","item1","paddingRight","Add","addItemCustom","changeNDS","delItem","saveVendorItems","testChange","saveVendor","addVendor","openModalVendorNew","openModalVendor","DirectionsCar","openModalItems","HeaderItem","lv_cafe","kind","days","dataKey","changeDopBonus","bonus_other","fontSize","changeLVDir","lv_dir","show_zp","WorkSchedule_","one","two","test_one","test_two","isOpenModalH","userInfo","hList","mList","newTimeStart","newTimeEnd","openNewTimeAdd","otherAppList","otherApp","testVal","testOpen","mainMenu","mainMenuH","mainMenuSmena","show_bonus","mainMenuPrice","mainMenuLVDIR","mainMenuDopBonus","show_zp_one","show_zp_two","myOtherSmens","chooseUser","tabTable","arr_dir_lv","h","this_date","smena_id","h_info","other_app","key_time","hours","new_app","mentor_id","new_smena_id","part","LV","dir_lv","full_app_name","ListItemAvatar","AccessTime","other_smens","SyncAlt","HomeWork","fastTime","LooksOne","LooksTwo","Looks3","fastSmena","Assessment","price_arr","changePriceH","price_p_h","newLvDir","scroll","dividers","my_load_h","all_load_h","bonus","mentor_list","changeHourse","saveDayHourse","row","dates","date_k","openH","dop_bonus","h_price","err_price","my_bonus","dir_price_dop","given","order_stat","count_false","toolbar","toolbarIcon","mixins","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","fixedHeight","heading","typography","pxToRem","fontWeightRegular","Header","menu","full_menu","left_menu","AppBar","clsx","Toolbar","IconButton","edge","handleDrawerOpen","noWrap","Badge","badgeContent","Notifications","Autocomplete","getOptionLabel","option","key_query","renderInput","handleDrawerClose","ChevronLeft","parent","chaild","Status","render","staticContext","App","check_header","ThemeProvider","CssBaseline","Container","routes","ReactDOM","MyDaterange","dateAdapter","AdapterDateFns","locale","ruLocale","allowSameDateSelection","showTodayButton","inputFormat","mask","startProps","endProps","MyAutocomplite","disableCloseOnSelect","filterSelectedOptions","isOptionEqualToValue","MySelect","MyTextInput","MyTimePicker","thisVal","InputLabelProps","shrink","step","inputProps","MyDatePickerNew","MyCheckBox","TextEditor","apiKey","menubar","plugins","content_style","cssReload","hot","accept","undefined"],"sourceRoot":""}