{"version":3,"file":"main.d33ec072d5180940bf4f.js","mappings":"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","sources":["webpack://package.json/./server/routes.js","webpack://package.json/./src/components/auth/auth.component.jsx","webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.component.jsx","webpack://package.json/./src/components/events/events.component.jsx","webpack://package.json/./src/components/home/home.component.jsx","webpack://package.json/./src/components/live_orders/live_orders.component.jsx","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.component.jsx","webpack://package.json/./src/components/registration/registration.component.jsx","webpack://package.json/./src/components/revizion/revizion.component.jsx","webpack://package.json/./src/components/site_sale_2/site_sale_2.component.jsx","webpack://package.json/./src/components/tender/tender.component.jsx","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.component.jsx","webpack://package.json/./src/components/vendor_module/vendor_module.component.jsx","webpack://package.json/./src/components/work_schedule/work_schedule.component.jsx","webpack://package.json/./src/components/app/app.component.jsx","webpack://package.json/./src/index.prod.js","webpack://package.json/./src/stores/elements.js"],"sourcesContent":["const { Home } = require( '../src/components/home' );\r\nconst { Auth } = require( '../src/components/auth' );\r\nconst { Reg } = require( '../src/components/registration' );\r\n\r\nconst { LiveOrders } = require( '../src/components/live_orders' );\r\nconst { Events } = require( '../src/components/events' );\r\nconst { RasByBill } = require( '../src/components/ras_by_bill' );\r\nconst { CategoryItems } = require( '../src/components/category_items' );\r\nconst { VendorModule } = require( '../src/components/vendor_module' );\r\nconst { VendorItemPrice } = require( '../src/components/vendor_item_price' );\r\nconst { Tender } = require( '../src/components/tender' );\r\nconst { Revizion, RevizionNew } = require( '../src/components/revizion' );\r\nconst { WorkSchedule } = require( '../src/components/work_schedule' );\r\nconst { SiteSale2, SiteSale2_New, SiteSale2_Edit, SiteSale2_Stat } = require( '../src/components/site_sale_2' );\r\nconst { DriveMapStatAll } = require( '../src/components/drive_map_stat_all' );\r\n\r\n\r\nmodule.exports = [\r\n    {\r\n        path: '/',\r\n        exact: true,\r\n        component: Home,\r\n        title: 'Главная',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/auth',\r\n        exact: true,\r\n        component: Auth,\r\n        title: 'Авторизация',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/registration',\r\n        exact: true,\r\n        component: Reg,\r\n        title: 'Регистрация',\r\n        code: 200\r\n    },\r\n    \r\n    {\r\n        path: '/live_orders',\r\n        exact: true,\r\n        component: LiveOrders,\r\n        title: 'Оформленные заказы',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/events',\r\n        exact: true,\r\n        component: Events,\r\n        title: 'События',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/ras_by_bill',\r\n        exact: true,\r\n        component: RasByBill,\r\n        title: 'Расход по накладным',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/category_items',\r\n        exact: true,\r\n        component: CategoryItems,\r\n        title: 'Категории товаров',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/vendor_module',\r\n        exact: true,\r\n        component: VendorModule,\r\n        title: 'Поставщики',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/vendor_item_price',\r\n        exact: true,\r\n        component: VendorItemPrice,\r\n        title: 'Цены на товары поставщика',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/tender',\r\n        exact: true,\r\n        component: Tender,\r\n        title: 'Цены на товары поставщика',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/revizion',\r\n        exact: true,\r\n        component: Revizion,\r\n        title: 'Ревизия',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/revizion/new',\r\n        exact: true,\r\n        component: RevizionNew,\r\n        title: 'Новая ревизия',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/work_schedule',\r\n        exact: true,\r\n        component: WorkSchedule,\r\n        title: 'График работы',\r\n        code: 200\r\n    },\r\n    \r\n    {\r\n        path: '/site_sale_2',\r\n        exact: true,\r\n        component: SiteSale2,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/new',\r\n        exact: true,\r\n        component: SiteSale2_New,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/edit/:promoId',\r\n        exact: true,\r\n        component: SiteSale2_Edit,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/site_sale_2/stat',\r\n        exact: true,\r\n        component: SiteSale2_Stat,\r\n        title: 'Промокоды маркетолога',\r\n        code: 200\r\n    },\r\n    {\r\n        path: '/drive_map_stat_all',\r\n        exact: true,\r\n        component: DriveMapStatAll,\r\n        title: 'Курьеры на карте',\r\n        code: 200\r\n    },\r\n    \r\n    \r\n    \r\n];","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 150,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  avatar2: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 130,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  textLink: {\r\n    color: '#c03'\r\n  }\r\n});\r\n\r\nclass Auth_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        this.state.history.push(\"/auth\");\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async auth(){\r\n    let data = {\r\n      login: document.getElementById('phone').value,\r\n      pwd: document.getElementById('password').value\r\n    };\r\n    \r\n    let res = await this.getData('auth', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      setTimeout( () => {\r\n        this.setState({ \r\n          modalDialog: true,\r\n          dialogTitle: 'Предупреждение',\r\n          dialogText: res.text\r\n        })\r\n      }, 500 )\r\n    }else{\r\n      localStorage.setItem('token', res.token)\r\n      \r\n      setTimeout( () => {\r\n        window.location.pathname = '/'\r\n      }, 300)\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div className={this.state.classes.paper}>\r\n              <Avatar className={this.state.classes.avatar}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              <form className={this.state.classes.form} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"phone\"\r\n                  label=\"Номер телефона\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"phone\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Пароль\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={this.state.classes.submit}\r\n                  onClick={ this.auth.bind(this) }\r\n                >\r\n                  Войти\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/registration\" className={this.state.classes.textLink}>Восстановить пароль</a>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Auth () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Auth_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    },\r\n    def: {\r\n      main: '#353b48',\r\n      secondary: '#fff'\r\n    },\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass CategoryItems_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'category_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialog2: false,\r\n      modalDialog3: false,\r\n      \r\n      newMainCatMy: 0,\r\n      editMainCatMy: 0,\r\n      newMainNameMy: '',\r\n      editMainNameMy: '',\r\n      \r\n      editCat: null,\r\n      \r\n      allCats: [],\r\n      allItems: [],\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0,\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      allCats: data.cats,\r\n      allItems: data.items,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  createCat(){\r\n    this.setState({\r\n      modalDialog: true,\r\n      newMainCatMy: 0,\r\n      newMainNameMy: ''\r\n    })\r\n  }\r\n  \r\n  changeCatMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeCatMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  async saveCat(){\r\n    let data = {\r\n      name: this.state.newMainNameMy,\r\n      cat_id: this.state.newMainCatMy\r\n    };\r\n    \r\n    let res = await this.getData('save_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  addItems(cat_id){\r\n    \r\n    let myVal = this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(cat_id) );\r\n    let data = this.state.allItems.filter( (item) => parseInt(item.cat_id) == 0 );\r\n    \r\n    this.setState({\r\n      modalDialog2: true,\r\n      thisValItems: myVal,\r\n      thisDataItems: data,\r\n      thisCatId: cat_id\r\n    })\r\n  }\r\n  \r\n  async saveItems(){\r\n    let data = {\r\n      cat_id: this.state.thisCatId,\r\n      items: this.state.thisValItems\r\n    };\r\n    \r\n    let res = await this.getData('save_items_cat', data);\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      allItems: res.items,\r\n      modalDialog2: false,\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0\r\n    })\r\n  }\r\n  \r\n  editCat(cat){\r\n    this.setState({\r\n      modalDialog3: true,\r\n      editMainCatMy: cat.parent_id,\r\n      editMainNameMy: cat.name,\r\n      editCat: cat\r\n    })\r\n  }\r\n  \r\n  async saveEditCat(){\r\n    let data = {\r\n      name: this.state.editMainNameMy,\r\n      cat_id: this.state.editMainCatMy,\r\n      id: this.state.editCat.id\r\n    };\r\n    \r\n    let res = await this.getData('edit_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  classes={this.state.classes} \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) }\r\n                  value={this.state.newMainCatMy} \r\n                  func={ this.changeCatMain.bind(this) } />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField label=\"Название категории\" size=\"small\" variant=\"outlined\" style={{ width: '100%' }} color=\"primary\" value={this.state.newMainNameMy} onChange={this.changeNameMain.bind(this)} />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog2}\r\n          onClose={ () => { this.setState({ modalDialog2: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Позиции категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyAutocomplite \r\n                  label=\"Выбранные позиции\" \r\n                  func={ (event, val) => { this.setState({ thisValItems: val }) } }\r\n                  data={ this.state.thisDataItems } \r\n                  value={ this.state.thisValItems } />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveItems.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog3}\r\n          onClose={ () => { this.setState({ modalDialog3: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Редактирование категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  classes={this.state.classes} \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) } \r\n                  value={this.state.editMainCatMy} \r\n                  func={ this.changeCatMainEdit.bind(this) } \r\n                />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField \r\n                  label=\"Название категории\" \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                  style={{ width: '100%' }} \r\n                  color=\"primary\" \r\n                  value={this.state.editMainNameMy} \r\n                  onChange={ this.changeNameMainEdit.bind(this) }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveEditCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.createCat.bind(this)}>Создать категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.allCats.map( (main_cat, main_key) =>\r\n              parseInt(main_cat.parent_id) != -1 ? null :\r\n                <Accordion key={main_key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                  >\r\n                    <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, main_cat) } />\r\n                    <Typography>{main_cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                  { this.state.allCats.map( (parent_cat, parent_key) =>\r\n                    parseInt(main_cat.id) != parseInt(parent_cat.parent_id) ? null :\r\n                      <Accordion key={main_key+'_'+parent_key}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1a-content\"\r\n                        >\r\n                          <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, parent_cat) } />\r\n                          <Typography>{parent_cat.name}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          { this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(parent_cat.id) ).map( (item, key) =>\r\n                            <Accordion key={main_key+'_'+parent_key+'_'+key}>\r\n                              <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                              >\r\n                                <Typography>{item.name}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                            \r\n                          <Button onClick={this.addItems.bind(this, parseInt(parent_cat.id))}>Добавить</Button>\r\n                            \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                  )}\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n            ) }\r\n          </Grid>\r\n          \r\n          \r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function CategoryItems () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <CategoryItems_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass DriveMapStatAll_ extends React.Component {\r\n  map = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      //classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'drive_map_stat_all',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      drivers: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.getOrders(res.orders, res.home, res.drivers)\r\n\r\n    this.setState({\r\n      drivers: res.drivers\r\n    })\r\n\r\n    console.log( res.drivers )\r\n  }\r\n  \r\n  getOrders(orders, home, drivers){\r\n    \r\n      \r\n      //setTimeout( () => {\r\n        let objectManager = new ymaps.ObjectManager();\r\n        \r\n        if( !this.map ){\r\n          ymaps.ready(() => {\r\n            this.map = new ymaps.Map('map', {\r\n              center: [home.latitude, home.longitude],\r\n              zoom: 11\r\n            }, {\r\n              searchControlProvider: 'yandex#search'\r\n            })\r\n            \r\n            //дом\r\n            let myGeoObject = new ymaps.GeoObject({\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [home.latitude, home.longitude]\r\n              },\r\n            }, {\r\n              preset: 'islands#blackDotIcon', \r\n              iconColor: 'black'\r\n            })\r\n            \r\n            this.map.geoObjects.add(myGeoObject);\r\n            \r\n            \r\n            \r\n            let json = {\r\n              \"type\": \"FeatureCollection\",\r\n              \"features\": []\r\n            };\r\n                    \r\n            orders.map( function(item){\r\n            \r\n              json.features.push({\r\n                type: \"Feature\",\r\n                id: item.id,\r\n                options: {\r\n                  preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n                  iconColor: item.point_color ? item.point_color : item.color\r\n                },\r\n                properties: {\r\n                  iconCaption: item.point_text,\r\n                },\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [item.xy.latitude, item.xy.longitude]\r\n                },\r\n              })\r\n              \r\n            } )\r\n            \r\n            objectManager.add(json);\r\n\r\n            drivers.map( function(driver){\r\n              driver.positions.map( function(pos, key){\r\n  \r\n                pos['xy'] = JSON.parse(pos['xy'], true);\r\n  \r\n                json.features.push({\r\n                  type: \"Feature\",\r\n                  id: pos.id,\r\n                  options: {\r\n                    preset: 'islands#stretchyIcon', \r\n                    iconColor: driver.color,\r\n                  },\r\n                  properties: {\r\n                    iconContent: key\r\n                  },\r\n                  geometry: {\r\n                    type: \"Point\",\r\n                    coordinates: [pos['xy'][0], pos['xy'][1]],\r\n                  },\r\n                })\r\n  \r\n  \r\n              } )\r\n            } )\r\n  \r\n            objectManager.add(json);\r\n\r\n            this.map.geoObjects.add(objectManager);\r\n          });\r\n        }else{\r\n          \r\n          let json = {\r\n            \"type\": \"FeatureCollection\",\r\n            \"features\": []\r\n          };\r\n                  \r\n          //дом\r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: 0,\r\n            options: {\r\n              preset: 'islands#blackDotIcon', \r\n              iconColor: 'black'\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [home.latitude, home.longitude]\r\n            },\r\n          })\r\n          \r\n          \r\n          orders.map( function(item){\r\n            \r\n            json.features.push({\r\n              type: \"Feature\",\r\n              id: item.id,\r\n              options: {\r\n                preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n                iconColor: item.point_color ? item.point_color : item.color\r\n              },\r\n              properties: {\r\n                iconCaption: item.point_text,\r\n                //iconCaption: parseInt(item.status_order) == 6 ? item.close_time_ : parseInt(item.is_pred) == 1 ? item.need_time : parseInt(item.is_my) == 1 ? item.time_start_mini : '',\r\n              },\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [item.xy.latitude, item.xy.longitude]\r\n              },\r\n            })\r\n            \r\n          } )\r\n          \r\n          objectManager.add(json);\r\n\r\n          drivers.map( function(driver){\r\n            driver.positions.map( function(pos, key){\r\n\r\n              pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n              json.features.push({\r\n                type: \"Feature\",\r\n                id: pos.id,\r\n                options: {\r\n                  preset: 'islands#stretchyIcon', \r\n                  iconColor: driver.color,\r\n                },\r\n                properties: {\r\n                  iconContent: key\r\n                },\r\n                geometry: {\r\n                  type: \"Point\",\r\n                  coordinates: [pos['xy'][0], pos['xy'][1]],\r\n                },\r\n              })\r\n\r\n\r\n            } )\r\n          } )\r\n\r\n          objectManager.add(json);\r\n\r\n          this.map.geoObjects.removeAll()\r\n          this.map.geoObjects.add(objectManager);\r\n        }\r\n        \r\n        /*objectManager.objects.events.add(['click'], (e) => {\r\n          let order_id = e.get('objectId');\r\n          let order = this.state.orders.find( (item) => parseInt(item.id) == parseInt(order_id) );\r\n          \r\n          if( order ){\r\n            this.showOrder(order);\r\n          }\r\n        });*/\r\n        \r\n      //}, 300 )\r\n    \r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.drivers.map( (item, key) =>\r\n              <div key={key} style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                <div style={{ width: 50, height: 20, backgroundColor: item.color }}></div>\r\n                <div>{item.driver_name}</div>\r\n              </div>\r\n            ) }\r\n          </Grid>       \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <div id=\"map\" name=\"map\" style={{ width: '100%', height: 700, paddingTop: 10 }} />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function DriveMapStatAll () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <DriveMapStatAll_ history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass Events_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'events',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      mounths: [],\r\n      years: [],\r\n      year: '0',\r\n      \r\n      calendar: [],\r\n      modalDialog: false,\r\n      \r\n      chooseDayHoly: '',\r\n      events: [],\r\n      chooseEvent: 0,\r\n      \r\n      eventPoint1: 0,\r\n      everyYear1: false,\r\n      timeStart2: '10:00',\r\n      timeEnd2: '21:30',\r\n      \r\n      expanded: '',\r\n      dayEvents: [],\r\n      events_hist: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n      mounths: data.mounth,\r\n      mounth: data.this_m,\r\n      years: data.years,\r\n      year: data.this_y,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeMounth(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      mounth: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeYear(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      year: data\r\n    })\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      m: this.state.mounth,\r\n      y: this.state.year,\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_calendar', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      calendar: res.year,\r\n    })\r\n  }\r\n  \r\n  async chooseDay(day){\r\n    \r\n    if( day.full_day ){\r\n    \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false,\r\n        events_hist: []\r\n      })\r\n      \r\n      let data = {\r\n        date: day.full_day,\r\n        point_id: this.state.point\r\n      };\r\n      \r\n      let res = await this.getData('get_calendar_day', data);\r\n      \r\n      console.log( 'res', res )\r\n      \r\n      this.setState({\r\n        chooseDay: day,\r\n        chooseDayHoly: res.holy,\r\n        events: res.events,\r\n        events_hist: res.hist,\r\n        dayEvents: res.this_events,\r\n        modalDialog: true\r\n      })\r\n    }\r\n  }\r\n  \r\n  changeEvent(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      chooseEvent: data\r\n    })\r\n  }\r\n  \r\n  changePoint1(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      eventPoint1: data\r\n    })\r\n  }\r\n  \r\n  changeEveryYear1(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      everyYear1: data\r\n    })\r\n  }\r\n  \r\n  changeTimeStart2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeStart2: data\r\n    })\r\n  }\r\n  \r\n  changeTimeEnd2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeEnd2: data\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      date: this.state.chooseDay.full_day,\r\n      point_id: this.state.eventPoint1,\r\n      event: this.state.chooseEvent,\r\n      every_year: this.state.everyYear1 === true ? 1 : 0,\r\n      \r\n      time_start: this.state.timeStart2,\r\n      time_end: this.state.timeEnd2,\r\n    };\r\n    \r\n    let res = await this.getData('save_event', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  handleChange(data){\r\n    this.setState({\r\n      expanded: data\r\n    })\r\n  }\r\n  \r\n  async delEvent(event){\r\n    console.log( 'delEvent', event )\r\n    \r\n    if (confirm('Удалить событие \"'+event.title+' '+event.date+'\" ?')) {\r\n      let data = {\r\n        del_id: event.id\r\n      };\r\n      \r\n      let res = await this.getData('del_event', data);\r\n      \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    } else {\r\n      \r\n    }\r\n    \r\n\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.chooseDay ? this.state.chooseDay.full_day : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                {this.state.chooseDayHoly.length == 0 ? null :\r\n                  <Grid item xs={12} sm={12}>\r\n                    <Typography component=\"span\">{this.state.chooseDayHoly}</Typography>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect classes={this.state.classes} data={this.state.events} value={this.state.chooseEvent} func={ this.changeEvent.bind(this) } label='Событие' />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect classes={this.state.classes} data={this.state.points} value={ this.state.eventPoint1 } func={ this.changePoint1.bind(this) } label='Точка' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.chooseEvent) !== 2 ? null :\r\n                  <>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker classes={this.state.classes} value={ this.state.timeStart2 } func={ this.changeTimeStart2.bind(this) } label='Время начала работы' />\r\n                    </Grid>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker classes={this.state.classes} value={ this.state.timeEnd2 } func={ this.changeTimeEnd2.bind(this) } label='Время окончания работы' />\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyCheckBox classes={this.state.classes} value={ this.state.everyYear1 } func={ this.changeEveryYear1.bind(this) } label='Каждый год' />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n              \r\n              <List component=\"nav\">\r\n                { this.state.dayEvents.map( (item, key) => \r\n                  <ListItem key={key}>\r\n                    <ListItemText primary={item.title} />\r\n                    { parseInt(item.type) == 4 ? null :\r\n                      <CloseIcon color=\"primary\" onClick={this.delEvent.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                    }\r\n                  </ListItem>\r\n                )}\r\n              </List>\r\n              \r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List component=\"nav\">\r\n                    { this.state.events_hist.map( (item, key) => \r\n                      <ListItem key={key}>\r\n                        <ListItemText primary={item.title} />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.save.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.mounths} value={this.state.mounth} func={ this.changeMounth.bind(this) } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.years} value={this.state.year} func={ this.changeYear.bind(this) } label='Год' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }}>\r\n            \r\n            { this.state.calendar.map( (item, key) =>\r\n            \r\n              <Grid item xs={12} sm={4} key={key} style={{ padding: 20 }}>\r\n                <h1 style={{ textAlign: 'center' }}>{ item[0][0].mounth }</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" style={{ overflow: 'hidden' }}>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Пн</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Вт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Ср</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Чт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Пт</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Сб</TableCell>\r\n                        <TableCell className={this.state.classes.tableCelHead}>Вс</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { item.map( (mounth, m_key) =>\r\n                        <TableRow key={m_key}>\r\n                          { mounth.map( (day, k) =>\r\n                            <TableCell \r\n                              key={k} \r\n                              onClick={ this.chooseDay.bind(this, day) } \r\n                              \r\n                              style={{ color: day.dir ? 'yellow' : day.holy ? '#c03' : '#000' }}\r\n                              \r\n                              className={ day.event ? this.state.classes.customCel : this.state.classes.tableCel }\r\n                            > { day.day } </TableCell>\r\n                          ) }\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            )}\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Events () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Events_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  backdrop: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    color: '#fff',\r\n  },\r\n});\r\n\r\nclass Home_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      module: 'home',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} style={{ height: '100vh' }}>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Home () {\r\n  const classes = useStyles();\r\n  \r\n  return (\r\n    <Home_ classes={classes} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass Live_Orders extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'live_orders',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          { this.state.points.length > 0 ?\r\n            <>\r\n              <Grid item xs={6} sm={6}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n              </Grid>\r\n              <Grid item xs={6} sm={6}>\r\n                <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyCheckBox value={this.state.showReady} func={ this.changeCheckOrders.bind(this) } label='Показывать готовые' />\r\n              </Grid>\r\n            </>\r\n              :\r\n            null\r\n          }\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Тип</TableCell>\r\n                    <TableCell>Время заказа</TableCell>\r\n                    <TableCell>Время предзакза</TableCell>\r\n                    \r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Во сколько собрали</TableCell>\r\n                    <TableCell>Закрыли</TableCell>\r\n                    \r\n                    <TableCell>Приготовили</TableCell>\r\n                    <TableCell>Отдали</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                    \r\n                    <TableCell>Статус</TableCell>\r\n                    <TableCell>Стол</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.read.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell>{item.give_data_time_}</TableCell>\r\n                      <TableCell>{item.close_date_time_order}</TableCell>\r\n                      \r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) == 1 ? '' : item.color}}>{item.time_}</TableCell>\r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) != 1 ? '' : item.color}}>{item.test_time}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                  {this.state.onstol.map( (item, key) => (\r\n                    <TableRow key={key} style = {{backgroundColor: 'yellow'}}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      \r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Пред</TableCell>\r\n                    <TableCell>Время оформления</TableCell>\r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Время закрытия</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.ordersQueue.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 1 ? item.date_time_preorder : '' }</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.date_time_order : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.time_start_order}</TableCell>\r\n                      <TableCell>{item.time_end_order}</TableCell>\r\n                      \r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function LiveOrders () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Live_Orders history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite, MyDaterange } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasByBill_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'ras_by_bill',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      points: [],\r\n      point: [],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      items: [],\r\n      cats: [],\r\n      items_cat: [],\r\n      item_cat: 0,\r\n      \r\n      myItems: [],\r\n      \r\n      calendar: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      \r\n      items: data.items,\r\n      cats: data.cats,\r\n      items_cat: data.items_cat\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n  \r\n  changeItems(event, data){\r\n    this.setState({\r\n      myItems: data\r\n    })\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      item_cat: this.state.item_cat,\r\n      start_date: this.state.rangeDate[0],\r\n      end_date: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev', data);\r\n    \r\n    let summ = 0;\r\n    \r\n    res.items_ras.map( (item, key) => {\r\n      summ += parseFloat(item.sum);\r\n    } )\r\n    \r\n    this.setState({\r\n      resItems: {\r\n        items_ras: res.items_ras,\r\n        pf_ras: res.pf_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      catItems: null\r\n    })\r\n  }\r\n  \r\n  async getCats(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      start_date: this.state.rangeDate[0],\r\n      end_date: this.state.rangeDate[1],\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev_cat', data);\r\n    \r\n    \r\n    let summ = 0;\r\n    \r\n    res.rec_ras.map( (item, key) => {\r\n      summ += parseFloat(item.this_price);\r\n    } )\r\n    \r\n    this.setState({\r\n      catItems: {\r\n        count_pos: res.count_pos,\r\n        items_ras: res.items_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      resItems: null\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd]\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">  </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => {} } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.points} multiple={true} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={4} className=\"MyDaterange\">\r\n            <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={5}>\r\n            <MySelect classes={this.state.classes} data={this.state.items_cat} multiple={false} value={this.state.item_cat} func={ (event) => {this.setState({ item_cat: event.target.value })} } label='Категория товара' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite classes={this.state.classes} data={this.state.items} multiple={true} value={this.state.myItems} func={ this.changeItems.bind(this) } label='Заготовки' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getItems.bind(this)}>Показать заготовки</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getCats.bind(this)}>Показать категории</Button>\r\n          </Grid>\r\n        \r\n        \r\n          { this.state.resItems && this.state.resItems.items_ras ?\r\n              \r\n            <>\r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Куплено по наклданым</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование товара</TableCell>\r\n                        <TableCell>Объем товра</TableCell>\r\n                        <TableCell>Объем заготовки</TableCell>\r\n                        <TableCell>Сумма</TableCell>\r\n                        <TableCell>Кол-во наклданых</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.items_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.name } </TableCell>\r\n                          <TableCell> { item.count_item + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name_pf } </TableCell>\r\n                          <TableCell> { item.sum } </TableCell>\r\n                          <TableCell> { item.count_bill } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                      <TableRow>\r\n                        <TableCell> Всего: </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> { this.state.resItems.full_sum } </TableCell>\r\n                        <TableCell> </TableCell>\r\n                      </TableRow>\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход заготовок (включая рецепты)</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                        <TableCell>Сумма роллов (примерно)</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.pf_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                          <TableCell> { item.price_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход рецептов</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.rec_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            </>\r\n              :\r\n            null              \r\n          }\r\n          \r\n          { this.state.catItems && this.state.catItems.rec_ras ?\r\n            <Grid item xs={12}>\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '50%' }}>Роллов: {this.state.catItems.count_pos.count_rolls}</Typography>\r\n                  <Typography style={{ width: '50%' }}>Пиццы: {this.state.catItems.count_pos.count_pizza}</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n              { this.state.catItems.rec_ras.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                  >\r\n                    <Typography style={{ width: '60%' }}>{item.name}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.this_price}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.price_by_items}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                    { item.parent_cat.map( (it, k) =>\r\n                      <Accordion key={k}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                        >\r\n                          <Typography style={{ width: '60%', paddingLeft: 20 }}>{it.name}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.this_price}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.price_by_items}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          <Accordion disabled={true}>\r\n                            <AccordionSummary>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товар</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товара</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Заготовок</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Накладных</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Сумма</Typography>\r\n                            </AccordionSummary>\r\n                          </Accordion>\r\n                          \r\n                          { it.items.map( (parent_items, parent_key) =>\r\n                            <Accordion key={parent_key} disabled={true}>\r\n                              <AccordionSummary>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_item} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_pf} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_bill}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.sum}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                          \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    ) }\r\n                    \r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) }\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '60%', marginRight: -15 }}>Всего:</Typography>\r\n                  <Typography style={{ width: '40%' }}>{ this.state.catItems.full_sum }</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n            </Grid>\r\n              :\r\n            null              \r\n          }\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasByBill () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RasByBill_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  paper: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 150,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  avatar2: {\r\n    borderRadius: 0,\r\n    width: '100%',\r\n    height: 130,\r\n    margin: 0,\r\n    backgroundColor: '#fff'\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  backButton: {\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  instructions: {\r\n    marginTop: theme.spacing(1),\r\n    marginBottom: theme.spacing(1),\r\n  },\r\n  textLink: {\r\n    color: '#c03'\r\n  }\r\n});\r\n\r\nclass Reg_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: '',\r\n      \r\n      activeStep: 0,\r\n      steps: ['Телефон', 'Подтверждение', 'Новый пароль'],\r\n      \r\n      phone: '',\r\n      code: '',\r\n      pwd: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        this.state.history.push(\"/auth\");\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async nextStep(){\r\n    if( this.state.activeStep == 0 ){\r\n      let data = {\r\n        login: document.getElementById('phone').value\r\n      }\r\n      \r\n      let res = await this.getData('check_phone', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          phone: data.login\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 1 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n\t\t\t  code: document.getElementById('code').value\r\n      }\r\n      \r\n      let res = await this.getData('check_code', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          code: data.code\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 2 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n        code: this.state.code,\r\n        pwd: document.getElementById('password').value\r\n      }\r\n      \r\n      let res = await this.getData('save_new_pwd', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        localStorage.setItem('token', res.token)\r\n      \r\n        setTimeout( () => {\r\n          window.location.pathname = '/'\r\n        }, 300)\r\n      }\r\n    }\r\n  }\r\n  \r\n  enterNextStep(event){\r\n    if( event.charCode == 13 ){\r\n      this.nextStep();\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div className={this.state.classes.paper}>\r\n              <Avatar className={this.state.classes.avatar}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              \r\n              <Stepper activeStep={this.state.activeStep} alternativeLabel style={{ width: '100%' }}>\r\n                {this.state.steps.map((label) => (\r\n                  <Step key={label}>\r\n                    <StepLabel>{label}</StepLabel>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n              <div className={this.state.classes.form} style={{ width: '100%' }}>\r\n                \r\n                { this.state.activeStep == 0 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"phone\"\r\n                    label=\"Номер телефона\"\r\n                    name=\"phone\"\r\n                    autoComplete=\"phone\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 1 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"code\"\r\n                    label=\"Код из смс\"\r\n                    name=\"code\"\r\n                    autoComplete=\"code\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 2 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />\r\n                    :\r\n                  null\r\n                }\r\n                                  \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={this.state.classes.submit}\r\n                  onClick={ this.nextStep.bind(this) }\r\n                >\r\n                  Дальше\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/auth\" className={this.state.classes.textLink}>Вернуться к авторизации</a>\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                \r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Reg () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Reg_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport RestoreIcon from '@mui/icons-material/Restore';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport Paper from '@mui/material/Paper';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  \r\n}));\r\n\r\nclass Revizion_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      items: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      \r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getRevList();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeRev(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      chooseRev: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n  \r\n   search(event){\r\n\t    \r\n\t\tlet data = {\r\n\t\t\tpoint_id: this.state.point,\r\n\t\t\tshowReady: this.state.showReady === true ? 1 : 0\r\n\t\t};\r\n    \r\n\t\t// let res =  this.getData('get_orders', data);\t\r\n\t\tlet res2 = this.getData('get_data_for_new_rev', data);\r\n\t\tlet res3 = this.getData('all_items_list', data);\r\n\t\tlet word = event.target.value;\r\n   \r\n\t\tconsole.log('res view=');\r\n\t\t// console.log(res2);\r\n\t\tres2.forEach(element => console.log(element));\r\n\t\t\r\n\t\tlet v = res2['value'];\r\n\t\tlet d = res2['all_items_list'];\r\n\t\tlet it = res2['items'];\r\n\t\tconsole.log('v=');\r\n\t\tconsole.log(v);\r\n\t\tconsole.log('value2=');\r\n\t\tconsole.log(d);\r\n\t\tconsole.log('it=');\r\n\t\tconsole.log(it);\r\n\t\tconsole.log('word='+word);\r\n\t\t// data\r\n\t\t// d.forEach(item => { \r\n\t\t\t// console.log(item);\r\n\t\t// })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async getRevList(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n    \r\n    this.setState({\r\n      revList: res,\r\n      chooseRev: res.length > 0 ? res[0]['id'] : ''\r\n    })\r\n    \r\n    if( res.length > 0 ){\r\n      setTimeout( () => {\r\n        this.getDataRev();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      rev_id: this.state.chooseRev\r\n    };\r\n    \r\n    let res = await this.getData('get_data_rev', data);\r\n    \r\n    this.setState({\r\n      items: res['items'],\r\n      pf: res['pf'],\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Link to={\"/revizion/new\"}>Новая ревизия2</Link>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.revList} value={this.state.chooseRev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\t\t  <Grid item xs={12} sm={6}>\r\n\t\t\t<MyTextInput classes={this.state.classes} func={ this.search.bind(this) } label='Поиск' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n            \r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Товар</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.items.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Заготовка</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.pf.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass RevizionNewItem extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      item: this.props.item,\r\n      change: this.props.change\r\n    };\r\n  }\r\n  \r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n      this.state.change !== nextState.change ||\r\n      this.state.change !== nextProps.change\r\n    );\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          //aria-controls=\"panel1a-content\"\r\n          //id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{ width: '60%' }}>{this.state.item.name}</Typography>\r\n          <Typography style={{ width: '40%' }}>{this.state.item.value} {this.state.item.ei_name}</Typography>\r\n        </AccordionSummary>\r\n        <AccordionDetails>\r\n          \r\n          \r\n            { this.state.item.counts.map( (it, k) =>\r\n              <Grid container spacing={3} key={k} style={{ paddingTop: 10, paddingBottom: 10 }}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MySelect data={ this.state.item.size } value={ it.need_pq } func={ this.props.func.bind(this, 'item', this.props.itemKey, 'need_pq', k) } label='Объем упаковки' />\r\n                </Grid>\r\n                <Grid item xs={ k == 0 ? 12 : 9 } sm={5}>\r\n                  <TextField value={ it.value } onChange={ this.props.func.bind(this, 'item', this.props.itemKey, 'value', k) } fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                </Grid>\r\n                { k == 0 ? null :\r\n                  <Grid item xs={3} sm={1}>\r\n                    <Button onClick={this.props.clear.bind(this, 'item', this.props.itemKey, k)} variant=\"contained\"> <CloseIcon /> </Button>\r\n                  </Grid>\r\n                }\r\n                \r\n              </Grid>\r\n            ) }\r\n          \r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.props.copy.bind(this, 'item', this.props.itemKey)}>Дублировать</Button>\r\n          </Grid>\r\n          \r\n        </AccordionDetails>\r\n      </Accordion>\r\n    )\r\n  }\r\n}\r\n\r\nclass RevizionNew_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      storages: [],\r\n      items: [],\r\n      rec: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      \r\n      open: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n  \r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_data_for_new_rev', data);\r\n    \r\n    this.setState({\r\n      storages: res['storages'],\r\n      items: res['items'],\r\n      rec: res['rec'],\r\n      pf: res['pf']\r\n    })\r\n  }\r\n  \r\n  saveData(type, key_item, data, key_data, event){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'][key_data][ [data] ] = event.target.value;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n    \r\n  }\r\n  \r\n  copyData(type, key_item){\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'].push({ need_pq: items[key_item]['counts'][0]['need_pq'], value: 0 })\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n  }\r\n  \r\n  clearData(type, key_item, key_data){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      let new_counts = [];\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        if( key != key_data ){\r\n          new_counts.push( item )\r\n        }\r\n      } )\r\n      \r\n      items[key_item]['counts'] = new_counts;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              { this.state.items.map( (item, key) =>\r\n                <RevizionNewItem key={key} itemKey={key} item={item} change={item.change} func={ this.saveData.bind(this) } copy={ this.copyData.bind(this) } clear={ this.clearData.bind(this) } />\r\n              ) }\r\n              \r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              \r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.storages.map( (item, key) =>\r\n                <ListItem button key={key}>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        { this.state.storages.length == 0 ? null :\r\n          <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n            <BottomNavigation\r\n              showLabels\r\n              onChange={(event, newValue) => {\r\n                this.setState({ open: true })\r\n              }}\r\n            >\r\n              <BottomNavigationAction label=\"Recents\" icon={<RestoreIcon />} />\r\n            </BottomNavigation>\r\n          </Paper>\r\n        }\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Revizion () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Revizion_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function RevizionNew () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <RevizionNew_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSale2_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new');\r\n    \r\n    let date = new Date();\r\n    let fullDate = '';\r\n    \r\n    let Y = date.getFullYear();\r\n    let M = date.getMonth()+1;\r\n    let D = date.getDate();\r\n    \r\n    fullDate = Y + '-' + ( parseInt(M) > 9 ? M : '0'+M ) + '-' + ( parseInt(D) > 9 ? D : '0'+D );\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      date_start: fullDate,\r\n      date_end: fullDate,\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_vk_prize,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { this.state.generate_new === true ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.promo_name} func={ this.changeData.bind(this, 'promo_name') } label='Название промокода' />\r\n              </Grid>\r\n            }\r\n            { this.state.generate_new === false ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox classes={this.state.classes} value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect classes={this.state.classes} data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            \r\n            }\r\n            \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput classes={this.state.classes} value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox classes={this.state.classes} value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite classes={this.state.classes} data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput classes={this.state.classes} value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect classes={this.state.classes} data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker classes={this.state.classes} label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n            \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox classes={this.state.classes} value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect classes={this.state.classes} data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass SiteSale2_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: 0,\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_2/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_2/stat\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Статистика</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput classes={this.state.classes} value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_2/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_Stat_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      spam_list: [],\r\n      spam_id: 0,\r\n      findPromoList: [],\r\n      \r\n      spam_list_data: [],\r\n      spam_list_data_stat: {\r\n        true: 0,\r\n        all: 0,\r\n        percent: 0\r\n      },\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n  \r\n  changeSpam(event){\r\n    this.setState({spam_id: event.target.value})\r\n    \r\n    setTimeout( () => {\r\n      this.show()\r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect classes={this.state.classes} data={this.state.spam_list} value={this.state.spam_id} func={ this.changeSpam.bind(this) } label='Рассылка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Всего</TableCell>\r\n                    <TableCell>Использовали</TableCell>\r\n                    <TableCell>%</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  <TableRow>\r\n                    <TableCell>{this.state.spam_list_data_stat.all}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.true}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.percent}</TableCell>\r\n                  </TableRow>\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Номер</TableCell>\r\n                    <TableCell>Ост активаций</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.spam_list_data.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>{item.number}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      \r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSale2_New () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_new_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Edit () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSale2_edit_ promoId={promoId} classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2 () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_ classes={classes} history={history} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Stat () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <SiteSale2_Stat_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyAutocomplite } from '../../stores/elements';\r\n\r\nimport {AgGridColumn, AgGridReact} from 'ag-grid-react';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst dynamicCellStyle = params => {\r\n  if( params.colDef.headerName == 'Цена' ){\r\n    return { borderRight: '1px solid #bababa' };\r\n  }\r\n  return null;\r\n};\r\n\r\nclass Tender_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'tender',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      testTable: [],\r\n      vendors: [],\r\n      myVendors: [],\r\n      showVendors: [],\r\n      \r\n      params_api: null,\r\n      params_columnApi: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let table = [];\r\n    \r\n    data.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          data['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = data.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) );\r\n            \r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = data.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      testTable: table,\r\n      vendors: data['vendors'],\r\n      showVendors: data['vendors']\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n  \r\n  onCellClicked(event){\r\n    console.log( event.data );\r\n    console.log( event.colDef.field );\r\n  }\r\n  \r\n  onGridReady(params){\r\n    this.setState({\r\n      params_api: params.api,\r\n      params_columnApi: params.columnApi\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      vendors: this.state.myVendors\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    let table = [];\r\n    \r\n    res.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          res['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = res.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) )\r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = res.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      testTable: table,\r\n      showVendors: res['vendors']\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            \r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button  color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.vendors} multiple={true} value={this.state.myVendors} func={ (event, val) => { this.setState({ myVendors: val }) } } label='Поставщики' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Показать</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <div className=\"ag-theme-alpine\" style={{height: 600, width: '100%'}}>\r\n              <AgGridReact\r\n                  onGridReady={this.onGridReady.bind(this)}\r\n                  onCellClicked={this.onCellClicked}\r\n                  rowData={ this.state.testTable }\r\n                  \r\n                  >\r\n                  <AgGridColumn field=\"ras\" width={120} pinned=\"left\"></AgGridColumn>\r\n                  <AgGridColumn field=\"item\" width={300} pinned=\"left\" cellClassRules={{'cell-span': \"data.section==='big-title'\"}}></AgGridColumn>\r\n                  <AgGridColumn hide={true}></AgGridColumn>\r\n                    \r\n                  { this.state.showVendors.map( (item, key) => \r\n                    <AgGridColumn key={key} headerName={item.name} resizable={true} width={180}>\r\n                      <AgGridColumn field={'vend_city_'+item.id} headerName={'Город'} resizable={true} width={90}></AgGridColumn>\r\n                      <AgGridColumn field={'vend_price_'+item.id} headerName={'Цена'} resizable={true} width={90} cellStyle={dynamicCellStyle}></AgGridColumn>\r\n                    </AgGridColumn>\r\n                  ) }\r\n                  \r\n                  \r\n              </AgGridReact>\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n          \r\n          </Grid>    \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Tender () {\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <Tender_ history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VendorItemPrice_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'vendor_item_price',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      vendors: [],\r\n      vendor: 0,\r\n      \r\n      items: [],\r\n      \r\n      cities: [],\r\n      city: -1,\r\n      allCity: false,\r\n      isPrioriti: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value,\r\n      vendor: 0,\r\n      items: []\r\n    })\r\n  }\r\n  \r\n  async changeVendor(event){\r\n    let data = {\r\n      city: this.state.city,\r\n      vendor_id: event.target.value,\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      items: res,\r\n      vendor: event.target.value,\r\n    })\r\n  }\r\n  \r\n  update(item_id, data, event){\r\n    let this_items = this.state.items;\r\n    \r\n    \r\n    \r\n    this_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        this_items[key][data] = event.target.value;\r\n        \r\n        this_items[key]['price'] = (parseFloat(this_items[key]['full_price']) / parseFloat(this_items[key]['rec_pq'])).toFixed(2);\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      items: this_items\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      vendor_id: this.state.vendor,\r\n      items: this.state.items,\r\n      city_id: this.state.city,\r\n      all_city: this.state.allCity === true ? 1 : 0,\r\n      is_prioriti: this.state.isPrioriti === true ? 1 : 0,\r\n    }\r\n    \r\n    if( data.all_city == 1 ){\r\n      if( confirm(\"Точно сохранить на все города поставщика ?\") ){\r\n        let res = await this.getData('save_price', data);\r\n      }\r\n    }else{\r\n      let res = await this.getData('save_price', data);\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.vendors} value={this.state.vendor} func={ this.changeVendor.bind(this) } label='Поставщик' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyCheckBox classes={this.state.classes} value={this.state.allCity} func={ (event) => { this.setState({ allCity: event.target.checked }) } } label='На все города поставщика' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox classes={this.state.classes} value={this.state.isPrioriti} func={ (event) => { this.setState({ isPrioriti: event.target.checked }) } } label='Приоритетный постащик' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Button onClick={this.save.bind(this)} variant=\"contained\">Сохранить</Button>\r\n          </Grid>\r\n          \r\n          \r\n          <Grid item xs={12}>\r\n              \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Позиция</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>Комментарий</TableCell>\r\n                    <TableCell>Цена за упаковку</TableCell>\r\n                    <TableCell>Объем упаковки</TableCell>\r\n                    <TableCell>Цена за 1 ед.</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.items.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.name_for_vendor}</TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.comment} func={ this.update.bind(this, item.item_id, 'comment') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.full_price} func={ this.update.bind(this, item.item_id, 'full_price') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MySelect classes={this.state.classes} data={item.pqs} value={item.rec_pq} func={ this.update.bind(this, item.item_id, 'rec_pq') } label='' />\r\n                      </TableCell>\r\n                      <TableCell>{item.price} / {item.ei_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n            \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorItemPrice () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <VendorItemPrice_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  formControl: {\r\n    //margin: theme.spacing(1),\r\n    width: '100%',\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  tableCel: {\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  tableCelHead: {\r\n    textAlign: 'center',\r\n    padding: 15\r\n  },\r\n  customCel: {\r\n    backgroundColor: \"#bababa\",\r\n    textAlign: 'center',\r\n    borderRight: '1px solid #e5e5e5',\r\n    padding: 15,\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      backgroundColor: \"#e5e5e5\",\r\n    },\r\n  },\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nclass VendorModule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'vendor_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalItems: false,\r\n      modalVendor: false,\r\n      modalVendorNew: false,\r\n      \r\n      vendors: [],\r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n      openVendor: null,\r\n      customAdd: 0,\r\n      \r\n      vendorCities: [],\r\n      allCities: [],\r\n      \r\n      nds: [\r\n        { id: -1, name: 'Без НДС' },\r\n        { id: 10, name: '10% НДС' },\r\n        { id: 20, name: '20% НДС' },\r\n      ],\r\n      nds_: [\r\n        -1, 10, 20\r\n      ],\r\n      \r\n      cities: [],\r\n      city: -1\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      vendors: data.vendors,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeNDS(item_id, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        item.nds = event.target.value;\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  async openModalItems(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: true,\r\n      allItems: res.all_items,\r\n      vendor_items: res.vendor_items,\r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async openModalVendor(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendor: true,\r\n      openVendor: res.vendor,\r\n      vendorCities: res.vendor_cities,\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async openModalVendorNew(){\r\n    let data = {\r\n      vendor_id: 0\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendorNew: true,\r\n      openVendor: {\r\n        addr: \"\",\r\n        bill_ex: \"0\",\r\n        email: \"\",\r\n        email_2: \"\",\r\n        inn: \"\",\r\n        min_price: \"\",\r\n        name: \"\",\r\n        need_img_bill_ex: \"0\",\r\n        ogrn: \"\",\r\n        phone: \"\",\r\n        text: \"\",\r\n      },\r\n      vendorCities: [],\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async saveVendorItems(){\r\n    let data = {\r\n      vendor_id: this.state.openVendor.id,\r\n      items: this.state.vendor_items\r\n    }\r\n    \r\n    let check = data.items.filter( (item, key) => !this.state.nds_.includes( parseInt(item.nds) ) );\r\n    \r\n    if( check.length > 0 ){\r\n      alert('У одной или нескольких позиций не заполнен НДС')\r\n      \r\n      return ;\r\n    }\r\n    \r\n    let res = await this.getData('save_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: false,\r\n      vendor_items: [],\r\n      openVendor: null\r\n    })\r\n  }\r\n  \r\n  async saveVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('update_vendor', data);\r\n    \r\n    this.setState({\r\n      modalVendor: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  async addVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('new_vendor', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      modalVendorNew: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  delItem(item_id){\r\n    let items = this.state.vendor_items;\r\n    \r\n    items = items.filter( (item) => parseInt(item.item_id) != parseInt(item_id) );\r\n    \r\n    this.setState({\r\n      vendor_items: items\r\n    })\r\n  }\r\n  \r\n  addItem(item){\r\n    let this_items = this.state.vendor_items;\r\n    let check = this_items.find( (it) => parseInt(it.item_id) == parseInt(item.id) );\r\n    \r\n    if( !check ){\r\n      this_items.push({\r\n        item_id: item.id,\r\n        item_name: item.name,\r\n        nds: -2\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      vendor_items: this_items\r\n    })\r\n  }\r\n  \r\n  addItemCustom(){\r\n    let item = this.state.allItems.find( (item1) => parseInt(item1.id) == parseInt(this.state.customAdd) );\r\n    \r\n    this.addItem(item);\r\n  }\r\n  \r\n  testChange(data, event){\r\n    let vendor = this.state.openVendor;\r\n    \r\n    if( data == 'bill_ex' || data == 'need_img_bill_ex' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop className={this.state.classes.backdrop} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItems}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItems: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Товары поставщика {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container style={{ paddingTop: 20 }}>\r\n              \r\n              <Grid item xs={12} sm={5} style={{ paddingRight: 10 }}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow style={{ height: 75 }}>\r\n                      <TableCell>\r\n                        <MySelect classes={this.state.classes} data={this.state.allItems} value={this.state.customAdd} func={ (event) => { this.setState({ customAdd: event.target.value }) } } />\r\n                      </TableCell>\r\n                      <TableCell><AddIcon onClick={this.addItemCustom.bind(this)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                    </TableRow>\r\n                    \r\n                    { this.state.allItems.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell><AddIcon onClick={this.addItem.bind(this, item)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              <Grid item xs={12} sm={7}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    { this.state.vendor_items.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.item_name}</TableCell>\r\n                        <TableCell>\r\n                          <MyTextInput label=\"\" value={ item.sort } func={ this.changeSort.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <MySelect classes={this.state.classes} data={this.state.nds} value={item.nds} func={ this.changeNDS.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell><CloseIcon onClick={ this.delItem.bind(this, item.item_id) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              \r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendorItems.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendor}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendor: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Поставщик {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } disabled={true} />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendorNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendorNew: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новый поставщик</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.addVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect classes={this.state.classes} data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalVendorNew.bind(this)} variant=\"contained\">Добавить поставщика</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell component=\"th\">Название</TableCell>\r\n                    <TableCell component=\"th\">Назначенные товары</TableCell>\r\n                    <TableCell component=\"th\"><VisibilityIcon /></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.vendors.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell><Typography onClick={ this.openModalVendor.bind(this, item) } style={{ cursor: 'pointer', width: 'max-content' }}>{item.name}</Typography></TableCell>\r\n                      <TableCell><DirectionsCarIcon onClick={ this.openModalItems.bind(this, item) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      <TableCell>{ parseInt(item.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> }</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function VendorModule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <VendorModule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from '@mui/styles';\r\nimport { createTheme } from '@mui/material/styles';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport { blue } from '@mui/material/colors';\r\n\r\nimport HomeWorkIcon from '@mui/icons-material/HomeWork';\r\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\r\n\r\nimport LooksOneIcon from '@mui/icons-material/LooksOne';\r\nimport LooksTwoIcon from '@mui/icons-material/LooksTwo';\r\nimport Looks3Icon from '@mui/icons-material/Looks3';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#c03',\r\n    }\r\n  },\r\n});\r\n\r\nconst useStyles = makeStyles({\r\n  timePicker: {\r\n    width: '100%'\r\n  }\r\n});\r\n\r\nfunction SimpleDialog(props) {\r\n  const { onClose, selectedValue, open } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose(selectedValue);\r\n  };\r\n\r\n  const handleListItemClick = (value) => {\r\n    onClose(value);\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <List sx={{ pt: 0 }}>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <AccessTimeIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить часы на месяц\" />\r\n        </ListItem>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <SyncAltIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить смену\" />\r\n        </ListItem>\r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <HomeWorkIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить точку\" />\r\n        </ListItem>\r\n        \r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nSimpleDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.string.isRequired,\r\n};\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass HeaderItem extends React.Component {\r\n  render(){\r\n    return (\r\n      <>\r\n        <TableRow>\r\n          <TableCell></TableCell>\r\n          <TableCell>Число месяца</TableCell>\r\n          <TableCell></TableCell>\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.date}</TableCell>\r\n          )}\r\n          \r\n          <TableCell></TableCell>\r\n          <TableCell>+ / -</TableCell>\r\n          <TableCell>Ур дира: 9</TableCell>\r\n          <TableCell></TableCell>\r\n          <TableCell></TableCell>\r\n          <TableCell></TableCell>\r\n          <TableCell></TableCell>\r\n\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell>Сотрудник</TableCell>\r\n          <TableCell>Должность</TableCell>\r\n          <TableCell></TableCell>\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.day}</TableCell>\r\n          )}\r\n          \r\n          <TableCell>За 1ч</TableCell>\r\n          <TableCell>Командный бонус</TableCell>\r\n          <TableCell>За часы</TableCell>\r\n          <TableCell>Ошибки</TableCell>\r\n          <TableCell>Бонус</TableCell>\r\n          <TableCell>Всего</TableCell>\r\n          <TableCell>Выдано</TableCell>\r\n\r\n        </TableRow>\r\n        \r\n        <TableRow style={{ backgroundColor: '#e5e5e5' }}>\r\n          <TableCell style={{ textAlign: 'center' }} colSpan={ this.props.days.length + 3 }>{this.props.item.data}</TableCell>\r\n        </TableRow>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass WorkSchedule_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      module: 'work_schedule',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      mounths: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      \r\n      one: null,\r\n      two: null,\r\n      test_one: [],\r\n      test_two: [],\r\n      \r\n      isOpenModalH: false,\r\n      \r\n      userInfo: null,\r\n      \r\n      hList: [],\r\n      mList: [],\r\n      \r\n      newTimeStart: '10:00',\r\n      newTimeEnd: '22:00',\r\n      \r\n      openNewTimeAdd: false,\r\n      \r\n      otherAppList: [],\r\n      otherApp: '',\r\n      \r\n      testVal: '',\r\n      testOpen: false,\r\n      \r\n      mainMenu: false,\r\n      mainMenuH: false,\r\n      \r\n      chooseUser: null,\r\n\r\n      tabTable: 1\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = {\r\n      \r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n    \r\n    let hList = [];\r\n    let mList = [];\r\n    \r\n    for(let h = 0; h <= 23; h ++){\r\n      hList.push({\r\n        id: h,\r\n        name: h\r\n      })\r\n    }\r\n    \r\n    for(let m = 0; m <= 50; m += 10){\r\n      mList.push({\r\n        id: m,\r\n        name: m\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      points: res.point_list,\r\n      point: res.point_list[0].id,\r\n      \r\n      mounths: res.mounths,\r\n      mounth: res.mounths.find( (item) => parseInt( item.is_active ) == 1 )['id'],\r\n      \r\n      hList: hList,\r\n      mList: mList,\r\n      \r\n      module_name: res.module_info.name\r\n    })\r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      mounth: this.state.mounth\r\n    };\r\n    \r\n    let res = await this.getData('get_graph', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      one: res.date.one,\r\n      two: res.date.two,\r\n      \r\n      test_one: res.one,\r\n      test_two: res.two,\r\n    })\r\n  }\r\n  \r\n  async openH(item, this_date){\r\n    console.log( item )\r\n    \r\n    let data = {\r\n      smena_id: item.smena_id,\r\n      app_id: item.app_id,\r\n      user_id: item.id,\r\n      date: this_date,\r\n      date_start: item.date\r\n    };\r\n    \r\n    let res = await this.getData('get_user_day', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      isOpenModalH: true,\r\n      userInfo: res.h_info,\r\n      otherAppList: res.other_app\r\n    })\r\n  }\r\n  \r\n  delTime(key_time){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours = userInfo.hours.filter( (item, key) => parseInt(key) != parseInt(key_time) );\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  changeHourse(type, key, event){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours[ key ][ [type] ] = event.target.value;\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  async saveDayHourse(){\r\n    let data = {\r\n      date: this.state.userInfo.date,\r\n      user_id: this.state.userInfo.user_id,\r\n      smena_id: this.state.userInfo.smena_id,\r\n      app_id: this.state.userInfo.app_id,\r\n      hours: this.state.userInfo.hours,\r\n      new_app: this.state.userInfo.new_app,\r\n      mentor_id: this.state.userInfo.mentor_id\r\n    }\r\n    \r\n    let res = await this.getData('save_user_day', data);\r\n    \r\n    console.log( res )\r\n  }\r\n  \r\n  addTime(){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    let check = userInfo.hours.find( (item) => item.time_start == this.state.newTimeStart && item.time_end == this.state.newTimeEnd );\r\n    \r\n    if( check ){\r\n      this.setState({\r\n        openNewTimeAdd: false\r\n      })\r\n      \r\n      return ;\r\n    }\r\n    \r\n    userInfo.hours.push({\r\n      time_start: this.state.newTimeStart,\r\n      time_end: this.state.newTimeEnd\r\n    })\r\n    \r\n    this.setState({\r\n      userInfo: userInfo,\r\n      openNewTimeAdd: false\r\n    })\r\n  }\r\n  \r\n  async fastTime(type){\r\n    let data = {\r\n      type: type,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth\r\n    }\r\n    \r\n    let res = await this.getData('save_fastTime', data);\r\n    \r\n    console.log( res );\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenu: false }) } } open={this.state.mainMenu}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.full_app_name} {this.state.chooseUser.user_name} {this.state.mounth}</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuH: true }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <AccessTimeIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить часы на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <SyncAltIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить смену\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <HomeWorkIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить точку\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuH: false }) } } open={this.state.mainMenuH}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часы</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 1)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksOneIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 1 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 2)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksTwoIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Со 2 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 3)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 3 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 4)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 4 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n        \r\n        \r\n        { !this.state.userInfo ? null :\r\n          <Dialog\r\n            open={this.state.isOpenModalH}\r\n            onClose={ () => { this.setState({ isOpenModalH: false }) } }\r\n            scroll='paper'\r\n            aria-labelledby=\"scroll-dialog-title\"\r\n            aria-describedby=\"scroll-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"scroll-dialog-title\">{this.state.userInfo.user.app_name + ' ' + this.state.userInfo.user.user_name + ' ' + this.state.userInfo.date}</DialogTitle>\r\n            <DialogContent dividers={true}>\r\n              \r\n              <Typography>{'Моя нагрузка: ' + this.state.userInfo.user.my_load_h + ' / Средняя нагрузка: ' + this.state.userInfo.user.all_load_h}</Typography>\r\n              <Typography style={{ marginBottom: 10 }}>{'Бонус: ' + this.state.userInfo.user.bonus}</Typography>\r\n              \r\n              { this.state.otherAppList.length == 0 ? null :\r\n                <MySelect data={this.state.otherAppList} value={this.state.userInfo.new_app} func={ (event) => { let userInfo = this.state.userInfo; userInfo.new_app = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              { this.state.userInfo.mentor_list.length == 0 ? null :\r\n                <MySelect data={this.state.userInfo.mentor_list} value={this.state.userInfo.mentor_id} func={ (event) => { let userInfo = this.state.userInfo; userInfo.mentor_id = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              <Accordion \r\n                style={{ marginTop: 10 }} \r\n                expanded={this.state.openNewTimeAdd} \r\n                onChange={ () => { this.setState({ openNewTimeAdd: !this.state.openNewTimeAdd }) } }>\r\n                  \r\n                <AccordionSummary\r\n                  expandIcon={<AddIcon />}\r\n                >\r\n                  <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                  <Typography>Добавить время</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  \r\n                  <MyTimePicker value={this.state.newTimeStart} func={ (event) => { this.setState({ newTimeStart: event.target.value }) } } classes={this.state.classes} label='Время начала работы' />\r\n                  <MyTimePicker value={this.state.newTimeEnd} func={ (event) => { this.setState({ newTimeEnd: event.target.value }) } } classes={this.state.classes} label='Время окончания работы' />\r\n                  \r\n                  <AddIcon style={{ minWidth: 50, minHeight: 38, cursor: 'pointer' }} onClick={ this.addTime.bind(this) } />\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hours.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<CloseIcon onClick={ this.delTime.bind(this, key) } />}\r\n                  >\r\n                    <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                    <Typography>{item.time_start + ' - ' + item.time_end}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                    <MyTimePicker value={item.time_start} func={ this.changeHourse.bind(this, 'time_start', key) } classes={this.state.classes} label='Время начала работы' />\r\n                    <MyTimePicker value={item.time_end} func={ this.changeHourse.bind(this, 'time_end', key) } classes={this.state.classes} label='Время окончания работы' />\r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n              \r\n              <Accordion style={{ marginTop: 50 }} disabled>\r\n                <AccordionSummary>\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hist.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary>\r\n                    <Typography>{item.date + ' - ' + item.user_name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    \r\n                    { item.items.map( (it, k) =>\r\n                      <Typography key={k}>{it.time_start + ' - ' + it.time_end} {it.app_name == '' ? '' : ' - ' + it.app_name} </Typography>\r\n                    ) }\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n            </DialogContent>\r\n            <DialogActions style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Button style={{ backgroundColor: 'green', color: '#fff' }} onClick={this.saveDayHourse.bind(this)}>Сохранить</Button>\r\n              <Button style={{ backgroundColor: 'red', color: '#fff' }} onClick={() => { this.setState({ isOpenModalH: false }) }}>Отмена</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ (event) => { this.setState({ point: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.mounths} value={this.state.mounth} func={ (event) => { this.setState({ mounth: event.target.value }) } } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n            \r\n              \r\n          <Box sx={{ width: '100%' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={this.state.tabTable} onChange={ (event, data) => { this.setState({ tabTable: data }) } } centered >\r\n                <Tab label=\"С 1 по 15 числа\" {...a11yProps(0)} />\r\n                <Tab label=\"С 16 по конец месяца\" {...a11yProps(1)} />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={this.state.tabTable} index={0}>\r\n              { !this.state.one ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_one\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Число месяца</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.one.days.map( (item, key) => \r\n                          <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.date}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      <TableRow>\r\n                        <TableCell>Сотрудник</TableCell>\r\n                        <TableCell>Должность</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.one.days.map( (item, key) => \r\n                          <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.day}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_one.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <TableRow key={key} style={{ backgroundColor: '#e5e5e5' }}>\r\n                            <TableCell style={{ textAlign: 'center' }} colSpan={ this.state.one.days.length + 3 }>{item.data}</TableCell>\r\n                          </TableRow>\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell>{item.data.user_name}</TableCell>\r\n                            <TableCell>{item.data.app_name}</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            \r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.one.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            <TabPanel value={this.state.tabTable} index={1}>\r\n              { !this.state.two ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_one\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_two.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem key={key} days={this.state.two.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell>{item.data.user_name}</TableCell>\r\n                            <TableCell>{item.data.app_name}</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            \r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        {this.state.two.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            \r\n          </Box>\r\n          \r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function WorkSchedule () {\r\n  const classes = useStyles();\r\n  let history = useHistory();\r\n  \r\n  return (\r\n    <WorkSchedule_ classes={classes} history={history} />\r\n  );\r\n}","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@mui/styles';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport Container from '@mui/material/Container';\r\nimport Grid from '@mui/material/Grid';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport routes from '../../../server/routes';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#c03',\r\n      },\r\n      def: {\r\n        main: '#353b48',\r\n        secondary: '#fff'\r\n      },\r\n    },\r\n});\r\n\r\nconst drawerWidth = 300;\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n  },\r\n  fixedHeight: {\r\n    height: 240,\r\n  },\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    fontWeight: theme.typography.fontWeightRegular,\r\n  },\r\n});\r\n\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n      history: this.props.history,\r\n      \r\n      module: 'header',\r\n      \r\n      open: false,\r\n      menu: [],\r\n      full_menu: [],\r\n      \r\n      left: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      menu: data.info.left_menu,\r\n      full_menu: data.info.full_menu,\r\n    })\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      console.log( json )\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        this.state.history.push(\"/\");\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  handleDrawerOpen(){\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  \r\n  handleDrawerClose(){\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <AppBar className={clsx(this.state.classes.appBar, this.state.open && this.state.classes.appBarShift)}>\r\n          <Toolbar className={this.state.classes.toolbar}>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleDrawerOpen.bind(this)}\r\n              className={clsx(this.state.classes.menuButton, this.state.open && this.state.classes.menuButtonHidden)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={this.state.classes.title}>\r\n              Dashboard\r\n            </Typography>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        \r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <div className={this.state.classes.toolbarIcon}>\r\n            \r\n              <Autocomplete\r\n                size=\"small\"\r\n                options={this.state.full_menu}\r\n                getOptionLabel={(option) => option.name}\r\n                onChange={(event, newValue) => {\r\n                  if( newValue ){\r\n                    this.state.history.push(\"/\"+newValue.key_query+\"/\");\r\n                  }\r\n                }}\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <TextField {...params} label=\"Поиск\" variant=\"outlined\" />}\r\n              />\r\n              \r\n              <IconButton onClick={this.handleDrawerClose.bind(this)}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            \r\n            { this.state.menu.map( (item, key) =>\r\n              <Accordion key={key} >\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography className={this.state.classes.heading}>{ item.parent.name }</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  \r\n                  <List style={{ width: '100%' }}>\r\n                  \r\n                    { item.chaild.map( (it, k) =>\r\n                      <ListItem button key={k}>\r\n                        <Link to={\"/\"+it.key_query+\"/\"}>\r\n                          <ListItemText primary={ it.name } />\r\n                        </Link>\r\n                      </ListItem>\r\n                    ) }\r\n                  \r\n                  </List>\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Status({ code, children }) {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function NotFound() {\r\n  return (\r\n    <Status code={404}>\r\n        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n    </Status>\r\n  );\r\n}\r\n\r\nexport function App () {\r\n    const classes = useStyles();\r\n    let history = useHistory();\r\n    \r\n    let check_header = true;\r\n    \r\n    if( \r\n      history.location.pathname == '/auth/' || \r\n      history.location.pathname == '/auth' || \r\n      history.location.pathname == '/registration/' ||\r\n      history.location.pathname == '/registration'\r\n    ){\r\n      check_header = false;\r\n    }\r\n    \r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div className={classes.root}>\r\n          { !check_header ? null :\r\n            <>\r\n              <CssBaseline />\r\n              <Header classes={classes} history={history} />\r\n            </>\r\n          }\r\n          <main className={classes.content}>\r\n            <div className={classes.appBarSpacer} />\r\n            <Container maxWidth={false} className={classes.container}>\r\n        \r\n              <Switch>\r\n                { routes.map( (item, key) =>\r\n                  <Route\r\n                    key={key}\r\n                    path={item.path}\r\n                    exact={ item.exact }\r\n                    component={ item.component }\r\n                  />\r\n                ) }\r\n                \r\n                <Route\r\n                  component={ () =>\r\n                    <Status code={404}>\r\n                      <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n                        <Grid item xs={12}>\r\n                          <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Status>\r\n                  }\r\n                />\r\n              </Switch>\r\n        \r\n            </Container>\r\n          </main>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n// import App components\r\nimport { App } from './components/app';\r\n\r\n// compile App component in `#app` HTML element\r\nReactDOM.render( <BrowserRouter><App/></BrowserRouter>, document.getElementById( 'app' ) );\r\n//ReactDOM.hydrate( <BrowserRouter><App/></BrowserRouter>, document.getElementById( 'app' ) );\r\n","import React from 'react';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Stack from '@mui/material/Stack';\r\n\r\n//import Grid from '@mui/material/Grid';\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n/*import DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';*/\r\n\r\nimport DateRangePicker from '@mui/lab/DateRangePicker';\r\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\r\nimport LocalizationProvider from '@mui/lab/LocalizationProvider';\r\n//import DatePicker from '@mui/lab/DatePicker';\r\nimport Typography from '@mui/material/Typography';\r\n\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nexport class MyDaterange extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale} size=\"small\">\r\n        <DateRangePicker\r\n          \r\n          allowSameDateSelection={true}\r\n          showTodayButton={true}\r\n          startText={this.props.startText}\r\n          endText={this.props.endText}\r\n          value={this.props.value}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          //mask=\"____-__-__\"\r\n          onChange={this.props.func}\r\n          renderInput={(startProps, endProps) => (\r\n            <React.Fragment>\r\n              <TextField style={{ width: '100%' }} {...startProps} />\r\n              <TextField style={{ width: '100%' }} {...endProps} />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          disableCloseOnSelect={true}\r\n          multiple={true}\r\n          id={ this.props.id ?? null }\r\n          options={this.props.data}\r\n          getOptionLabel={(option) => option.name}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => option.id === value.id}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MySelect extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n        <InputLabel>{this.props.label}</InputLabel>\r\n        <Select\r\n          value={this.props.value}\r\n          label={this.props.label}\r\n          onChange={ this.props.func }\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n        >\r\n          <MenuItem value=\"\"><em>None</em></MenuItem>\r\n          { this.props.data.map( (item, key) =>\r\n            <MenuItem key={key} value={item.id}>{item.name}</MenuItem>\r\n          ) }\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTextInput extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField \r\n        label={this.props.label}\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n        disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n        variant=\"outlined\" \r\n        size={'small'} \r\n        color='primary'\r\n        style={{ width: '100%' }} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTimePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={this.props.label}\r\n        type=\"time\"\r\n        value={ this.props.value }\r\n        className={this.state.classes.timePicker}\r\n        onChange={this.props.func}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        step={600}\r\n        inputProps={{\r\n          step: 600, // 5 min\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerTest extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <DatePicker \r\n        multiple\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyCheckBox extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      classes: this.props.classes,\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormGroup row>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              checked={this.props.value}\r\n              onChange={this.props.func}\r\n              color=\"primary\"\r\n            />\r\n          }\r\n          label={this.props.label}\r\n        />\r\n      </FormGroup>\r\n    )\r\n  }\r\n}"],"names":["Home","require","Auth","Reg","LiveOrders","Events","RasByBill","CategoryItems","VendorModule","VendorItemPrice","Tender","Revizion","RevizionNew","WorkSchedule","SiteSale2","SiteSale2_New","SiteSale2_Edit","SiteSale2_Stat","DriveMapStatAll","module","exports","path","exact","component","title","code","queryString","theme","createTheme","palette","primary","main","useStyles","makeStyles","paper","display","flexDirection","alignItems","avatar","borderRadius","width","height","margin","backgroundColor","avatar2","form","marginTop","spacing","submit","textLink","color","Auth_","props","method","data","setState","is_load","fetch","headers","body","stringify","state","version","login","JSON","then","res","json","st","type","setTimeout","history","push","err","console","log","classes","module_name","modalDialog","dialogTitle","dialogText","point_id","this","point","showReady","getData","read","onstol","ordersQueue","prestol_new","document","getElementById","value","pwd","text","localStorage","setItem","token","window","location","pathname","Backdrop","className","backdrop","open","CircularProgress","Dialog","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","autoFocus","Grid","container","direction","justifyContent","item","xs","sm","md","lg","xl","Avatar","alt","src","style","noValidate","TextField","variant","size","required","fullWidth","label","name","autoComplete","auth","bind","href","React","useHistory","def","secondary","formControl","selectEmpty","tableCel","textAlign","borderRight","padding","cursor","tableCelHead","customCel","timePicker","CategoryItems_","getItem","modalDialog2","modalDialog3","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","editCat","allCats","allItems","thisValItems","thisDataItems","thisCatId","module_info","cats","items","event","target","cat_id","alert","myVal","filter","parseInt","cat","parent_id","paddingBottom","paddingTop","func","changeCatMain","onChange","changeNameMain","saveCat","val","saveItems","changeCatMainEdit","changeNameMainEdit","saveEditCat","createCat","map","main_cat","main_key","Accordion","key","AccordionSummary","expandIcon","ExpandMore","Menu","marginRight","Typography","AccordionDetails","parent_cat","parent_key","addItems","DriveMapStatAll_","points","drivers","point_list","updateData","getOrders","orders","home","objectManager","ymaps","ObjectManager","features","options","preset","iconColor","geometry","coordinates","latitude","longitude","status_order","point_color","properties","iconCaption","point_text","xy","add","driver","positions","pos","parse","iconContent","geoObjects","removeAll","ready","Map","center","zoom","searchControlProvider","myGeoObject","GeoObject","changePoint","driver_name","Events_","mounth","mounths","years","year","calendar","chooseDayHoly","events","chooseEvent","eventPoint1","everyYear1","timeStart2","timeEnd2","expanded","dayEvents","events_hist","this_m","this_y","checked","m","y","day","full_day","chooseDay","date","holy","hist","this_events","every_year","time_start","time_end","confirm","del_id","length","changeEvent","changePoint1","changeTimeStart2","changeTimeEnd2","changeEveryYear1","List","ListItem","ListItemText","Close","delEvent","save","changeMounth","changeYear","TableContainer","Paper","Table","overflow","TableHead","TableRow","TableCell","TableBody","m_key","k","dir","zIndex","drawer","Home_","Live_Orders","changeCheckOrders","type_order","preorder","date_time_order","date_time_preorder_","unix_start_stol_or","give_data_time_","close_date_time_order","type_","time_","test_time","unix_time_to_client","status","stol_sborki","is_preorder","date_time_preorder","time_start_order","time_end_order","formatDate","d","Date","month","getMonth","getDate","getFullYear","join","RasByBill_","date_start","date_end","rangeDate","items_cat","item_cat","myItems","start_date","end_date","summ","items_ras","parseFloat","sum","resItems","pf_ras","rec_ras","full_sum","toFixed","catItems","this_price","count_pos","dateStart","dateEnd","multiple","startText","endText","changeDateRange","changeItems","getItems","getCats","count_item","ei_name","count_pf","ei_name_pf","count_bill","pf_name","count_rolls","price_rolls","disabled","count_pizza","price_by_items","it","paddingLeft","parent_items","backButton","instructions","marginBottom","Reg_","activeStep","steps","phone","charCode","nextStep","Stepper","alternativeLabel","Step","StepLabel","onKeyPress","enterNextStep","TabPanel","children","index","other","role","hidden","Box","sx","p","a11yProps","propTypes","PropTypes","Revizion_","revList","chooseRev","pf","chooseTab","getRevList","getDataRev","res2","word","forEach","element","v","rev_id","to","changeRev","search","Tabs","textColor","indicatorColor","centered","Tab","RevizionNewItem","change","nextProps","nextState","counts","need_pq","itemKey","clear","copy","RevizionNew_","storages","rec","key_item","key_data","allVal","new_counts","saveData","copyData","clearData","SwipeableDrawer","anchor","onOpen","button","position","bottom","left","right","elevation","BottomNavigation","showLabels","newValue","BottomNavigationAction","icon","Restore","formatDateDot","formatDateName","SiteSale2_new_","click","modalText","cities","city","modalLink","where_promo_list","promo_action_list","sale_list","promo_conditions_list","promo_sale_list","type_sale_list","date_promo_list","type_order_list","where_order_list","promo_prizw_vk","spamNameSMS","auto_text","where_promo","promo_name","generate_new","count_action","promo_action","type_sale","promo_sale","sale_type","promo_conditions","price_start","price_end","date_promo","promo_length","promo_count","day_1","day_2","day_3","day_4","day_5","day_6","day_7","where_order","numberList","promo_desc_true","promo_desc_false","textSMS","addItem","addItemCount","addItemPrice","addItemAllPrice","itemsAdd","itemsAddPrice","saleCat","saleItem","priceItem","conditionItems","testDate","Y","M","D","fullDate","generateTextDescFalse","generateTextDescTrue","count_promo","find","promo_items","promo_cat","dateList","toISOString","split","promo_vk_prize","cert_text","addr","promo_len","generate","promo_in_count","promo_type_sale","promo_type","promo_summ","promo_summ_to","promo_when","promo_type_order","promo_where","promo_city","promo_point","about_promo_text","condition_promo_text","promo_items_add","promo_items_sale","promo_conditions_items","date_between","promo_text","link","thisDay","nextDay","setDate","textTrue","substring","itemText","dop_text","slice","textFalse","thisItems","item_id","thisItem","count","price","newItems","changeData","changeDataCheck","Divider","changeDataData","addItemAdd","delItemAdd","TableFooter","priceItemAdd","delItemPrice","TextareaAutosize","placeholder","minRows","SiteSale2_edit_","promo_id","promoId","promo","findItem","limDate","limit","date1","date2","time1","time2","d1","d2","d3","d4","d5","d6","d7","city_id","coment","condition_text","SiteSale2_","city_list","promoName","findPromoList","all_city_list","showPromoList","marginLeft","city_name","def_count","delPromo","SiteSale2_Stat_","spam_list","spam_id","spam_list_data","spam_list_data_stat","true","all","percent","stat","show","changeSpam","number","useParams","dynamicCellStyle","params","colDef","headerName","Tender_","testTable","vendors","myVendors","showVendors","params_api","params_columnApi","table","k1","section","k2","k3","tableItem","k4","item_price","vendor_price","vendor_id","item_ras","ras","field","api","columnApi","AgGridReact","onGridReady","onCellClicked","rowData","AgGridColumn","pinned","cellClassRules","hide","resizable","cellStyle","VendorItemPrice_","vendor","allCity","isPrioriti","this_items","all_city","is_prioriti","changeCity","changeVendor","name_for_vendor","comment","update","full_price","pqs","rec_pq","VendorModule_","modalItems","modalVendor","modalVendorNew","vendor_items","openVendor","customAdd","vendorCities","allCities","nds","nds_","all_items","vendor_cities","all_cities","bill_ex","email","email_2","inn","min_price","need_img_bill_ex","ogrn","includes","item_name","item1","maxWidth","paddingRight","Add","addItemCustom","sort","changeSort","changeNDS","delItem","saveVendorItems","testChange","user","saveVendor","addVendor","openModalVendorNew","Visibility","openModalVendor","DirectionsCar","openModalItems","is_show","VisibilityOff","HeaderItem","days","colSpan","WorkSchedule_","one","two","test_one","test_two","isOpenModalH","userInfo","hList","mList","newTimeStart","newTimeEnd","openNewTimeAdd","otherAppList","otherApp","testVal","testOpen","mainMenu","mainMenuH","chooseUser","tabTable","h","is_active","this_date","smena_id","app_id","user_id","h_info","other_app","key_time","hours","new_app","mentor_id","full_app_name","user_name","pt","ListItemAvatar","AccessTime","SyncAlt","HomeWork","fastTime","LooksOne","LooksTwo","Looks3","scroll","app_name","dividers","my_load_h","all_load_h","bonus","mentor_list","minWidth","minHeight","addTime","delTime","changeHourse","saveDayHourse","borderBottom","borderColor","row","dates","date_k","openH","info","order_stat","count_false","root","toolbar","toolbarIcon","mixins","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","fixedHeight","heading","fontSize","typography","pxToRem","fontWeight","fontWeightRegular","Header","menu","full_menu","left_menu","AppBar","clsx","Toolbar","IconButton","edge","handleDrawerOpen","noWrap","Badge","badgeContent","Notifications","Autocomplete","getOptionLabel","option","key_query","renderInput","handleDrawerClose","ChevronLeft","parent","chaild","Status","render","staticContext","App","check_header","ThemeProvider","CssBaseline","Container","routes","ReactDOM","MyDaterange","dateAdapter","AdapterDateFns","locale","ruLocale","allowSameDateSelection","showTodayButton","inputFormat","startProps","endProps","MyAutocomplite","disableCloseOnSelect","filterSelectedOptions","MySelect","MyTextInput","MyTimePicker","InputLabelProps","shrink","step","inputProps","MyDatePicker","format","MyCheckBox","control"],"sourceRoot":""}