"use strict";(self.webpackChunkpackage_json=self.webpackChunkpackage_json||[]).push([[252],{8252:(e,t,a)=>{a.r(t),a.d(t,{default:()=>X}),a(3692);var n=a(5861),s=a(7326),i=a(4942),l=a(5671),m=a(3144),r=a(136),c=a(6215),o=a(1120),h=a(4687),u=a.n(h),p=a(7294),d=a(5725),_=a(2642),g=a(9573),E=a(8732),Z=a(6926),f=a(6011),I=a(3694),y=a(2961),b=a(2450),x=a(6540),v=a(594),w=a(7070),P=a(5265),D=a(5305),z=a(1508),k=a(2640),S=a(5670),N=a(6568),C=a(3055),O=a(4666),j=a(8979),M=a(7750),T=a(7645),L=a(9941),A=a(7425),R=a(5092),H=a(2658),U=a(3508),W=a(4567),F=a(9062),B=a(6406),K=a(5436),V=a(9986),Q=a(6867);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=(0,o.Z)(e);if(t){var s=(0,o.Z)(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return(0,c.Z)(this,a)}}var J=a(7563),G=function(e){(0,r.Z)(a,e);var t=q(a);function a(){return(0,l.Z)(this,a),t.apply(this,arguments)}return(0,m.Z)(a,[{key:"render",value:function(){var e=this;return p.createElement(g.Z,{size:"small",style:{marginBottom:50}},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:5,style:{textAlign:"center"}},this.props.title)),p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null,"Количество"),p.createElement(Z.Z,null),p.createElement(Z.Z,null,"Сортировка"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,this.props.data.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(B.rZ,{label:"",value:t.count,func:e.props.changeData.bind(e,e.props.type,e.props.arr,"count",a)})),p.createElement(Z.Z,null,t.ei_name),p.createElement(Z.Z,{style:{maxWidth:100}},p.createElement(B.rZ,{label:"",value:t.sort,func:e.props.changeData.bind(e,e.props.type,e.props.arr,"sort",a)})),p.createElement(Z.Z,null,p.createElement(v.Z,{onClick:e.props.delItem.bind(e,e.props.type,e.props.arr,a),style:{cursor:"pointer"}})))}))))}}]),a}(p.Component),$=function(e){(0,r.Z)(te,e);var t,a,c,o,h,$,X,Y,ee=q(te);function te(e){var t;return(0,l.Z)(this,te),t=ee.call(this,e),(0,i.Z)((0,s.Z)(t),"dropzoneOptions",{autoProcessQueue:!1,autoQueue:!0,maxFiles:1,timeout:0,parallelUploads:10,acceptedFiles:"image/jpeg,image/png",addRemoveLinks:!0,url:"https://jacochef.ru/src/img/site_img/upload_img_new.php"}),(0,i.Z)((0,s.Z)(t),"myDropzoneOld",null),(0,i.Z)((0,s.Z)(t),"myDropzoneNew",null),(0,i.Z)((0,s.Z)(t),"getData",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return 1==n&&t.setState({is_load:!0}),fetch("https://jacochef.ru/api/index_new.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:J.stringify({method:e,module:t.state.module,version:2,login:localStorage.getItem("token"),data:JSON.stringify(a)})}).then((function(e){return e.json()})).then((function(e){if(!1!==e.st||"redir"!=e.type){if(!1!==e.st||"auth"!=e.type)return setTimeout((function(){t.setState({is_load:!1})}),300),e;window.location.pathname="/auth"}else window.location.pathname="/"})).catch((function(e){setTimeout((function(){t.setState({is_load:!1})}),300),console.log(e)}))})),t.state={module:"site_items",module_name:"",is_load:!1,allItems:[],vendor_items:[],modalItemEdit:!1,modalItemNew:!1,itemEdit:null,itemName:"",checkArtDialog:!1,checkArtList:[],freeItems:[],point_list:[],point_list_render:[],point_id:0,app_list:[],app_id:-1,users:[],modalUserEdit:!1,modalUserNew:!1,textDel:"",delModal:!1,graphModal:!1,graphType:0,editItem:null,item_rec:null,item_pf:null,item_items_all:[],modalEdit:!1,modalNew:!1,types:[{id:1,name:"Позиция (ролл)"},{id:2,name:"Набор (сет)"},{id:3,name:"Доп (палочки / соевый / ...)"},{id:4,name:"Напиток"}],cats:[],cat_list:[],ItemTab:"1",anchorEl:null,openMenu:!1,openMenuType:null,openMenuitem:null,rec_stage_1:[],rec_stage_2:[],rec_stage_3:[],pf_stage_1:[],pf_stage_2:[],pf_stage_3:[],item_items:[],myDropzoneOld:null,myDropzoneNew:null,is_snack:!1,textSnack:"",searchPf:"",item_pf_render:[],searchItems:"",item_items_render:[]},t}return(0,m.Z)(te,[{key:"componentDidMount",value:(Y=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("get_all");case 2:t=e.sent,this.setState({module_name:t.module_info.name,cats:t.cats,cat_list:t.cat_list}),document.title=t.module_info.name;case 5:case"end":return e.stop()}}),e,this)}))),function(){return Y.apply(this,arguments)})},{key:"getItems",value:(X=(0,n.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("get_all");case 2:t=e.sent,this.setState({cats:t.cats,cat_list:t.cat_list});case 4:case"end":return e.stop()}}),e,this)}))),function(){return X.apply(this,arguments)})},{key:"openItem",value:($=(0,n.Z)(u().mark((function e(t){var a,n,s,i,l,m,r,c,o,h=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={id:t.id},e.next=3,this.getData("get_one",a);case 3:n=e.sent,s=[],i=[],l=[],m=[],r=[],c=[],o=[],n.item_rec.stage_1&&n.item_rec.stage_1.map((function(e){m.push({item_id:e.rec_id,name:e.name,count:e.count,sort:e.sort,ei_name:e.ei_name})})),n.item_rec.stage_2&&n.item_rec.stage_2.map((function(e){r.push({item_id:e.rec_id,name:e.name,count:e.count,sort:e.sort,ei_name:e.ei_name})})),n.item_rec.stage_3&&n.item_rec.stage_3.map((function(e){c.push({item_id:e.rec_id,name:e.name,count:e.count,sort:e.sort,ei_name:e.ei_name})})),n.item_pf.stage_1&&n.item_pf.stage_1.map((function(e){s.push({item_id:e.pf_id,name:e.name,count:e.count,sort:e.sort,ei_name:e.ei_name})})),n.item_pf.stage_2&&n.item_pf.stage_2.map((function(e){i.push({item_id:e.pf_id,name:e.name,count:e.count,sort:e.sort,ei_name:e.ei_name})})),n.item_pf.stage_3&&n.item_pf.stage_3.map((function(e){l.push({item_id:e.pf_id,name:e.name,count:e.count,sort:e.sort,ei_name:e.ei_name})})),n.item_items.this_items&&n.item_items.this_items.map((function(e){o.push({item_id:e.item_id,name:e.name,count:e.count,is_add:parseInt(e.is_add)})})),this.setState({editItem:n.item,item_rec:n.item_rec,item_pf:n.item_pf,item_pf_render:n.item_pf.all,item_items_all:n.item_items.all_items,item_items_render:n.item_items.all_items,rec_stage_1:m,rec_stage_2:r,rec_stage_3:c,pf_stage_1:s,pf_stage_2:i,pf_stage_3:l,item_items:o,modalEdit:!0}),setTimeout((function(){h.myDropzoneOld=new K.Z("#for_img_edit_old",h.dropzoneOptions),h.myDropzoneNew=new K.Z("#for_img_edit_new",h.dropzoneOptions)}),300);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return $.apply(this,arguments)})},{key:"openNew",value:(h=(0,n.Z)(u().mark((function e(){var t,a,n,s,i,l,m,r,c=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("get_all_for_new");case 2:t=e.sent,a=[],n=[],s=[],i=[],l=[],m=[],r=[],this.setState({editItem:t.item,item_rec:t.item_rec,item_pf:t.item_pf,item_pf_render:t.item_pf.all,item_items_all:t.item_items.all_items,item_items_render:t.item_items.all_items,rec_stage_1:i,rec_stage_2:l,rec_stage_3:m,pf_stage_1:a,pf_stage_2:n,pf_stage_3:s,item_items:r,modalNew:!0}),setTimeout((function(){c.myDropzoneOld=new K.Z("#for_img_edit_old",c.dropzoneOptions),c.myDropzoneNew=new K.Z("#for_img_edit_new",c.dropzoneOptions)}),300);case 6:case"end":return e.stop()}}),e,this)}))),function(){return h.apply(this,arguments)})},{key:"changeItem",value:function(e,t){var a=this.state.editItem;if("category_id"==e){var n=t.target.value,s=1,i=a.stol;4==parseInt(n)&&(s=2,i=-1),6==parseInt(n)&&(s=4,i=0),7==parseInt(n)&&(s=3,i=0),a.type=s,a.stol=i}a[e]="is_show"==e||"show_site"==e||"show_program"==e||"is_new"==e||"is_hit"==e?!0===t.target.checked?1:0:t.target.value,this.setState({editItem:a})}},{key:"closeMenu",value:function(){this.setState({anchorEl:null,openMenu:!1,openMenuType:null,openMenuitem:null})}},{key:"openMenu",value:function(e,t,a){this.setState({anchorEl:a.currentTarget,openMenu:!0,openMenuType:e,openMenuitem:t})}},{key:"chooseStage",value:function(e){var t=this;if("rec"==this.state.openMenuType){var a=!1,n=1==e?this.state.rec_stage_1:2==e?this.state.rec_stage_2:3==e?this.state.rec_stage_3:[];(n=n||[]).map((function(e){parseInt(t.state.openMenuitem.id)==parseInt(e.item_id)&&(a=!0)})),a||(n.push({item_id:this.state.openMenuitem.id,name:this.state.openMenuitem.name,count:0,sort:0,ei_name:this.state.openMenuitem.ei_name}),1==e&&this.setState({rec_stage_1:n}),2==e&&this.setState({rec_stage_2:n}),3==e&&this.setState({rec_stage_3:n}))}if("pf"==this.state.openMenuType){var s=!1,i=1==e?this.state.pf_stage_1:2==e?this.state.pf_stage_2:3==e?this.state.pf_stage_3:[];(i=i||[]).map((function(e){parseInt(t.state.openMenuitem.id)==parseInt(e.item_id)&&(s=!0)})),s||(i.push({item_id:this.state.openMenuitem.id,name:this.state.openMenuitem.name,count:0,sort:0,ei_name:this.state.openMenuitem.ei_name}),1==e&&this.setState({pf_stage_1:i}),2==e&&this.setState({pf_stage_2:i}),3==e&&this.setState({pf_stage_3:i}))}this.closeMenu()}},{key:"forwardItem",value:function(e){var t=!1,a=this.state.item_items;(a=a||[]).map((function(a){parseInt(e.id)==parseInt(a.item_id)&&(t=!0)})),t||(a.push({item_id:e.id,name:e.name,count:1,is_add:0}),this.setState({item_items:a}))}},{key:"changeData",value:function(e,t,a,n,s){if("rec"==e){var i="rec_stage_1"==t?this.state.rec_stage_1:"rec_stage_2"==t?this.state.rec_stage_2:"rec_stage_3"==t?this.state.rec_stage_3:[];i[n][a]=s.target.value,"rec_stage_1"==t&&this.setState({rec_stage_1:i}),"rec_stage_2"==t&&this.setState({rec_stage_2:i}),"rec_stage_3"==t&&this.setState({rec_stage_3:i})}if("pf"==e){var l="pf_stage_1"==t?this.state.pf_stage_1:"pf_stage_2"==t?this.state.pf_stage_2:"pf_stage_3"==t?this.state.pf_stage_3:[];l[n][a]=s.target.value,"pf_stage_1"==t&&this.setState({pf_stage_1:l}),"pf_stage_2"==t&&this.setState({pf_stage_2:l}),"pf_stage_3"==t&&this.setState({pf_stage_3:l})}if("item"==e){var m=this.state.item_items;m[n][a]="is_add"==a?!0===s.target.checked?1:0:s.target.value,this.setState({item_items:m})}}},{key:"delItem",value:function(e,t,a){if("rec"==e){var n="rec_stage_1"==t?this.state.rec_stage_1:"rec_stage_2"==t?this.state.rec_stage_2:"rec_stage_3"==t?this.state.rec_stage_3:[];n.splice(a,1),n=n||[],"rec_stage_1"==t&&this.setState({rec_stage_1:n}),"rec_stage_2"==t&&this.setState({rec_stage_2:n}),"rec_stage_3"==t&&this.setState({rec_stage_3:n})}if("pf"==e){var s="pf_stage_1"==t?this.state.pf_stage_1:"pf_stage_2"==t?this.state.pf_stage_2:"pf_stage_3"==t?this.state.pf_stage_3:[];s.splice(a,1),s=s||[],"pf_stage_1"==t&&this.setState({pf_stage_1:s}),"pf_stage_2"==t&&this.setState({pf_stage_2:s}),"pf_stage_3"==t&&this.setState({pf_stage_3:s})}if("item"==e){var i=this.state.item_items;i.splice(a,1),i=i||[],this.setState({item_items:i})}}},{key:"saveImg",value:function(e,t,a,n){e.on("sending",(function(e,s,i){var l=e.name.split(".");l=(l=l[l.length-1]).toLowerCase(),i.append("filetype","user_"+a+"."+l),i.append("filename","user_"+a),i.append("typeFile",n),i.append("name",t)})),e.on("queuecomplete",(function(t){var a=!1;e.files.map((function(e,t){"error"==e.status&&(a=!0)})),a&&alert("Ошибка при загрузке фотографии "+n)}))}},{key:"saveEditItem",value:(o=(0,n.Z)(u().mark((function e(){var t,a,n,s,i,l,m=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.myDropzoneOld.files.length>0&&(t=this.state.editItem.name,a=this.state.editItem.id,this.myDropzoneOld.on("sending",(function(e,n,s){var i=e.name.split(".");i=(i=i[i.length-1]).toLowerCase(),s.append("typeFile","old"),s.append("name",t),s.append("id",a)})),this.myDropzoneOld.on("queuecomplete",(function(e){var t=!1,a=m.myDropzoneNew;m.myDropzoneOld.files.map((function(e,n){"error"==e.status&&(t=!0),"success"==e.status&&a.files[0]&&"success"==a.files[0].status&&(m.setState({modalEdit:!1,editItem:null,ItemTab:"1"}),m.getItems())})),t&&alert("Ошибка при загрузке фотографии old")}))),this.myDropzoneNew.files.length>0&&(n=this.state.editItem.name,s=this.state.editItem.id,this.myDropzoneNew.on("sending",(function(e,t,a){var i=e.name.split(".");i=(i=i[i.length-1]).toLowerCase(),a.append("typeFile","new"),a.append("name",n),a.append("id",s)})),this.myDropzoneNew.on("queuecomplete",(function(e){var t=!1,a=m.myDropzoneOld;m.myDropzoneNew.files.map((function(e,n){"error"==e.status&&(t=!0),"success"==e.status&&a.files[0]&&"success"==a.files[0].status&&(m.setState({modalEdit:!1,editItem:null,ItemTab:"1"}),m.getItems())})),t&&alert("Ошибка при загрузке фотографии new")}))),i={item:this.state.editItem,rec_stage_1:this.state.rec_stage_1,rec_stage_2:this.state.rec_stage_2,rec_stage_3:this.state.rec_stage_3,pf_stage_1:this.state.pf_stage_1,pf_stage_2:this.state.pf_stage_2,pf_stage_3:this.state.pf_stage_3,item_items:this.state.item_items},e.next=5,this.getData("saveEditItem",i);case 5:!1===(l=e.sent).st?alert(l.text):(this.openSnack("Данные обновлены"),this.myDropzoneOld.files.length>0&&this.myDropzoneOld.processQueue(),this.myDropzoneNew.files.length>0&&this.myDropzoneNew.processQueue());case 7:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"saveNewItem",value:(c=(0,n.Z)(u().mark((function e(){var t,a,n,s,i,l,m=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={item:this.state.editItem,rec_stage_1:this.state.rec_stage_1,rec_stage_2:this.state.rec_stage_2,rec_stage_3:this.state.rec_stage_3,pf_stage_1:this.state.pf_stage_1,pf_stage_2:this.state.pf_stage_2,pf_stage_3:this.state.pf_stage_3,item_items:this.state.item_items},e.next=3,this.getData("saveNewItem",t);case 3:a=e.sent,console.log(a),!1===a.st?alert(a.text):(this.openSnack("Данные обновлены"),this.myDropzoneOld.files.length>0&&(n=this.state.editItem.name,s=a.id,this.myDropzoneOld.on("sending",(function(e,t,a){var i=e.name.split(".");i=(i=i[i.length-1]).toLowerCase(),a.append("typeFile","old"),a.append("name",n),a.append("id",s)})),this.myDropzoneOld.on("queuecomplete",(function(e){var t=!1,a=m.myDropzoneNew;m.myDropzoneOld.files.map((function(e,n){"error"==e.status&&(t=!0),"success"==e.status&&a.files[0]&&"success"==a.files[0].status&&(m.setState({modalNew:!1,editItem:null,ItemTab:"1"}),m.getItems())})),t&&alert("Ошибка при загрузке фотографии old")}))),this.myDropzoneNew.files.length>0&&(i=this.state.editItem.name,l=a.id,this.myDropzoneNew.on("sending",(function(e,t,a){var n=e.name.split(".");n=(n=n[n.length-1]).toLowerCase(),a.append("typeFile","new"),a.append("name",i),a.append("id",l)})),this.myDropzoneNew.on("queuecomplete",(function(e){var t=!1,a=m.myDropzoneOld;m.myDropzoneNew.files.map((function(e,n){"error"==e.status&&(t=!0),"success"==e.status&&a.files[0]&&"success"==a.files[0].status&&(m.setState({modalNew:!1,editItem:null,ItemTab:"1"}),m.getItems())})),t&&alert("Ошибка при загрузке фотографии new")}))),this.myDropzoneOld.files.length>0&&this.myDropzoneOld.processQueue(),this.myDropzoneNew.files.length>0&&this.myDropzoneNew.processQueue());case 6:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"changeTab",value:function(e,t){var a=this;this.setState({myDropzoneOld:this.myDropzoneOld.files,myDropzoneNew:this.myDropzoneNew.files}),this.setState({ItemTab:t}),1==parseInt(t)&&setTimeout((function(){if(a.myDropzoneOld=new K.Z("#for_img_edit_old",a.dropzoneOptions),a.myDropzoneNew=new K.Z("#for_img_edit_new",a.dropzoneOptions),a.state.myDropzoneOld[0]){var e={name:a.state.myDropzoneOld[0].name,size:a.state.myDropzoneOld[0].size,type:a.state.myDropzoneOld[0].type,status:a.state.myDropzoneOld[0].status,url:a.state.myDropzoneOld[0].dataURL,dataURL:a.state.myDropzoneOld[0].dataURL};a.myDropzoneOld.emit("addedfile",e),a.myDropzoneOld.emit("thumbnail",e,a.state.myDropzoneOld[0].dataURL),a.myDropzoneOld.files.push(a.state.myDropzoneOld[0])}if(a.state.myDropzoneNew[0]){var t={name:a.state.myDropzoneNew[0].name,size:a.state.myDropzoneNew[0].size,type:a.state.myDropzoneNew[0].type,status:a.state.myDropzoneNew[0].status,url:a.state.myDropzoneNew[0].dataURL,dataURL:a.state.myDropzoneNew[0].dataURL};a.myDropzoneNew.emit("addedfile",t),a.myDropzoneNew.emit("thumbnail",t,a.state.myDropzoneNew[0].dataURL),a.myDropzoneNew.files.push(a.state.myDropzoneNew[0])}}),300)}},{key:"closeSnack",value:function(){this.setState({is_snack:!1,textSnack:""})}},{key:"openSnack",value:function(e){this.setState({is_snack:!0,textSnack:e})}},{key:"searchPf",value:function(e){var t=this.state.item_pf.all,a=e.target.value;this.setState({searchPf:a});var n=[];t.map((function(e){-1!==e.name.toLowerCase().indexOf(a.toLowerCase())&&n.push(e)})),this.setState({item_pf_render:n})}},{key:"searchItems",value:function(e){var t=this.state.item_items_all,a=e.target.value;this.setState({searchItems:a});var n=[];t.map((function(e){-1!==e.name.toLowerCase().indexOf(a.toLowerCase())&&n.push(e)})),this.setState({item_items_render:n})}},{key:"closeEdit",value:function(){this.setState({modalEdit:!1,editItem:null,ItemTab:"1"}),this.getItems()}},{key:"closeNew",value:function(){this.setState({modalNew:!1,editItem:null,ItemTab:"1"}),this.getItems()}},{key:"changeSort",value:function(e,t,a){var n=a.target.value,s=this.state.cats;s[e].items[t].sort=n,this.setState({cats:s})}},{key:"saveSort",value:(a=(0,n.Z)(u().mark((function e(t,a){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t,sort:a.target.value},e.next=3,this.getData("saveSort",n);case 3:e.sent;case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"trueUpdateVK",value:(t=(0,n.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("updateVK",{});case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"updateVK",value:function(){confirm("Точно обновить товары в VK ?")&&this.trueUpdateVK()}},{key:"render",value:function(){var e=this,t=p.createElement(p.Fragment,null,p.createElement(Q.Z,{size:"small","aria-label":"close",color:"inherit",onClick:this.closeSnack.bind(this)},p.createElement(v.Z,{fontSize:"small"})));return p.createElement(p.Fragment,null,p.createElement(W.Z,{open:this.state.is_load,style:{zIndex:999}},p.createElement(F.Z,{color:"inherit"})),p.createElement(V.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.state.is_snack,autoHideDuration:6e3,onClose:this.closeSnack.bind(this),message:this.state.textSnack,action:t}),p.createElement(O.Z,{open:this.state.modalEdit,fullWidth:!0,maxWidth:"md",onClose:this.closeEdit.bind(this)},p.createElement(T.Z,null,"Редактирвоание товара"),p.createElement(M.Z,{style:{paddingBottom:10,paddingTop:10}},p.createElement(d.ZP,{container:!0,spacing:3},this.state.editItem&&this.state.modalEdit?p.createElement(p.Fragment,null,p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(S.ZP,{value:this.state.ItemTab},p.createElement(z.Z,{sx:{borderBottom:1,borderColor:"divider"}},p.createElement(N.Z,{onChange:this.changeTab.bind(this),variant:"fullWidth"},p.createElement(k.Z,{label:"Основные",value:"1"}),p.createElement(k.Z,{label:"Рецепты",value:"2"}),p.createElement(k.Z,{label:"Заготовки",value:"3"}),p.createElement(k.Z,{label:"Позиции",value:"4"}))),p.createElement(C.Z,{value:"1"},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.rZ,{label:"Название",value:this.state.editItem.name,func:this.changeItem.bind(this,"name")})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.rZ,{label:"Короткое название (20 сим.)",value:this.state.editItem.short_name,func:this.changeItem.bind(this,"short_name")})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.$S,{data:this.state.types,value:this.state.editItem.type,func:this.changeItem.bind(this,"type"),disabled:!0,label:"Тип"})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.$S,{data:this.state.cat_list,value:this.state.editItem.category_id,func:this.changeItem.bind(this,"category_id"),label:"Категория"})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Код из 1с",value:this.state.editItem.art,func:this.changeItem.bind(this,"art")})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Стол",value:this.state.editItem.stol,func:this.changeItem.bind(this,"stol")})),6==parseInt(this.state.editItem.category_id)?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Объем",value:this.state.editItem.weight,func:this.changeItem.bind(this,"weight")})):p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Вес",value:this.state.editItem.weight,func:this.changeItem.bind(this,"weight")})),14!=parseInt(this.state.editItem.category_id)?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Кол-во кусочков",value:this.state.editItem.count_part,func:this.changeItem.bind(this,"count_part")})):p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Размер пиццы",value:this.state.editItem.size_pizza,func:this.changeItem.bind(this,"size_pizza")})))),2!=parseInt(this.state.editItem.type)?p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Белки",value:this.state.editItem.protein,func:this.changeItem.bind(this,"protein")})),p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Жиры",value:this.state.editItem.fat,func:this.changeItem.bind(this,"fat")})),p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Углеводы",value:this.state.editItem.carbohydrates,func:this.changeItem.bind(this,"carbohydrates")})),p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Энергетическая ценность",value:this.state.editItem.kkal,func:this.changeItem.bind(this,"kkal")})))):null,2!=parseInt(this.state.editItem.type)?p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Время на 1 этап (ММ:СС)",value:this.state.editItem.time_stage_1,func:this.changeItem.bind(this,"time_stage_1")})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Время на 2 этап (ММ:СС)",value:this.state.editItem.time_stage_2,func:this.changeItem.bind(this,"time_stage_2")})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Время на 3 этап (ММ:СС)",value:this.state.editItem.time_stage_3,func:this.changeItem.bind(this,"time_stage_3")})))):null,p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(H.Z,null,"Картинка соотношением сторон (3:2) (пример: 600х400) только JPG")),p.createElement(d.ZP,{item:!0,xs:12,sm:6},this.state.editItem.img_new.length>0?p.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.editItem.img_new+"600х400.jpg?"+this.state.editItem.img_new_update,style:{maxWidth:300,maxHeight:300}}):p.createElement("div",{style:{maxWidth:300,maxHeight:300}})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement("div",{className:"dropzone",id:"for_img_edit_old",style:{width:"100%",minHeight:150}})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(H.Z,null,"Картинка соотношением сторон (1:1) (пример: 2000х2000) только JPG")),p.createElement(d.ZP,{item:!0,xs:12,sm:6},this.state.editItem.img_app.length>0?p.createElement("picture",null,p.createElement("source",{srcSet:"\n                                            https://storage.yandexcloud.net/site-img/".concat(this.state.editItem.img_app,"_276x276.jpg 138w, \n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_292x292.jpg 146w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_366x366.jpg 183w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_466x466.jpg 233w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_585x585.jpg 292w\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_732x732.jpg 366w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_1168x1168.jpg 584w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_1420x1420.jpg 760w,\n                                            https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{style:{maxHeight:300},src:"https://storage.yandexcloud.net/site-img/".concat(this.state.editItem.img_app,"_276х276.jpg")})):p.createElement("div",{style:{maxWidth:300,maxHeight:300}})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement("div",{className:"dropzone",id:"for_img_edit_new",style:{width:"100%",minHeight:150}})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(B.rZ,{label:"Состав",value:this.state.editItem.tmp_desc,func:this.changeItem.bind(this,"tmp_desc")})),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(B.rZ,{label:"Короткое описание (в списке)",value:this.state.editItem.marc_desc,func:this.changeItem.bind(this,"marc_desc")})),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(B.rZ,{label:"Полное описание (в карточке)",value:this.state.editItem.marc_desc_full,func:this.changeItem.bind(this,"marc_desc_full")})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.IA,{label:"Новинка",value:1==parseInt(this.state.editItem.is_new),func:this.changeItem.bind(this,"is_new"),style:{justifyContent:"center"}})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.IA,{label:"Хит",value:1==parseInt(this.state.editItem.is_hit),func:this.changeItem.bind(this,"is_hit"),style:{justifyContent:"center"}})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.IA,{label:"Активность",value:1==parseInt(this.state.editItem.is_show),func:this.changeItem.bind(this,"is_show"),style:{justifyContent:"center"}})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.IA,{label:"На сайте",value:1==parseInt(this.state.editItem.show_site),func:this.changeItem.bind(this,"show_site"),style:{justifyContent:"center"}})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.IA,{label:"На складе",value:1==parseInt(this.state.editItem.show_program),func:this.changeItem.bind(this,"show_program"),style:{justifyContent:"center"}})))))),p.createElement(C.Z,{value:"2"},p.createElement(d.ZP,{container:!0,spacing:3},this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,this.state.item_rec.all.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(w.Z,{onClick:e.openMenu.bind(e,"rec",t)})))}))))):null,this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:8},p.createElement(G,{title:"1 этап",type:"rec",arr:"rec_stage_1",data:this.state.rec_stage_1,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"2 этап",type:"rec",arr:"rec_stage_2",data:this.state.rec_stage_2,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"3 этап",type:"rec",arr:"rec_stage_3",data:this.state.rec_stage_3,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)})):null)),p.createElement(C.Z,{value:"3"},p.createElement(d.ZP,{container:!0,spacing:3},this.state.item_pf?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:2},p.createElement(B.rZ,{label:"Поиск",value:this.state.searchPf,func:this.searchPf.bind(this)}))),this.state.item_pf_render.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(w.Z,{onClick:e.openMenu.bind(e,"pf",t)})))}))))):null,this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:8},p.createElement(G,{title:"1 этап",type:"pf",arr:"pf_stage_1",data:this.state.pf_stage_1,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"2 этап",type:"pf",arr:"pf_stage_2",data:this.state.pf_stage_2,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"3 этап",type:"pf",arr:"pf_stage_3",data:this.state.pf_stage_3,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)})):null)),p.createElement(C.Z,{value:"4"},p.createElement(d.ZP,{container:!0,spacing:3},this.state.item_pf?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:2},p.createElement(B.rZ,{label:"Поиск",value:this.state.searchItems,func:this.searchItems.bind(this)}))),this.state.item_items_render.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(x.Z,{onClick:e.forwardItem.bind(e,t),style:{cursor:"pointer"}})))}))))):null,this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:8},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:5,style:{textAlign:"center"}},this.props.title)),p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null,"Количество"),p.createElement(Z.Z,null,"Авт. добавление"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,this.state.item_items.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(B.rZ,{label:"",value:t.count,func:e.changeData.bind(e,"item","item_items","count",a)})),p.createElement(Z.Z,null,p.createElement(B.IA,{label:"",value:1==parseInt(t.is_add),func:e.changeData.bind(e,"item","item_items","is_add",a)})),p.createElement(Z.Z,null,p.createElement(v.Z,{onClick:e.delItem.bind(e,"item","",a),style:{cursor:"pointer"}})))}))))):null))))),p.createElement(P.Z,{anchorEl:this.state.anchorEl,open:this.state.openMenu,onClose:this.closeMenu.bind(this)},p.createElement(D.Z,{onClick:this.chooseStage.bind(this,1)},"1 этап"),p.createElement(D.Z,{onClick:this.chooseStage.bind(this,2)},"2 этап"),p.createElement(D.Z,{onClick:this.chooseStage.bind(this,3)},"3 этап")))):null)),p.createElement(j.Z,null,p.createElement(_.Z,{onClick:this.saveEditItem.bind(this),color:"primary"},"Сохранить"))),p.createElement(O.Z,{open:this.state.modalNew,fullWidth:!0,maxWidth:"md",onClose:this.closeNew.bind(this)},p.createElement(T.Z,null,"Новый товар"),p.createElement(M.Z,{style:{paddingBottom:10,paddingTop:10}},p.createElement(d.ZP,{container:!0,spacing:3},this.state.editItem&&this.state.modalNew?p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(S.ZP,{value:this.state.ItemTab},p.createElement(z.Z,{sx:{borderBottom:1,borderColor:"divider"}},p.createElement(N.Z,{onChange:this.changeTab.bind(this),variant:"fullWidth"},p.createElement(k.Z,{label:"Основные",value:"1"}),p.createElement(k.Z,{label:"Рецепты",value:"2"}),p.createElement(k.Z,{label:"Заготовки",value:"3"}),p.createElement(k.Z,{label:"Позиции",value:"4"}))),p.createElement(C.Z,{value:"1"},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.rZ,{label:"Название",value:this.state.editItem.name,func:this.changeItem.bind(this,"name")})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.rZ,{label:"Короткое название (20 сим.)",value:this.state.editItem.short_name,func:this.changeItem.bind(this,"short_name")})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.$S,{data:this.state.types,value:this.state.editItem.type,func:this.changeItem.bind(this,"type"),disabled:!0,label:"Тип"})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.$S,{data:this.state.cat_list,value:this.state.editItem.category_id,func:this.changeItem.bind(this,"category_id"),label:"Категория"})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Код из 1с",value:this.state.editItem.art,func:this.changeItem.bind(this,"art")})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Стол",value:this.state.editItem.stol,func:this.changeItem.bind(this,"stol")})),6==parseInt(this.state.editItem.category_id)?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Объем",value:this.state.editItem.weight,func:this.changeItem.bind(this,"weight")})):p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Вес",value:this.state.editItem.weight,func:this.changeItem.bind(this,"weight")})),14!=parseInt(this.state.editItem.category_id)?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Кол-во кусочков",value:this.state.editItem.count_part,func:this.changeItem.bind(this,"count_part")})):p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Размер пиццы",value:this.state.editItem.size_pizza,func:this.changeItem.bind(this,"size_pizza")})))),2!=parseInt(this.state.editItem.type)?p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Белки",value:this.state.editItem.protein,func:this.changeItem.bind(this,"protein")})),p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Жиры",value:this.state.editItem.fat,func:this.changeItem.bind(this,"fat")})),p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Углеводы",value:this.state.editItem.carbohydrates,func:this.changeItem.bind(this,"carbohydrates")})),p.createElement(d.ZP,{item:!0,xs:12,sm:3},p.createElement(B.rZ,{label:"Энергетическая ценность",value:this.state.editItem.kkal,func:this.changeItem.bind(this,"kkal")})))):null,2!=parseInt(this.state.editItem.type)?p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Время на 1 этап (ММ:СС)",value:this.state.editItem.time_stage_1,func:this.changeItem.bind(this,"time_stage_1")})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Время на 2 этап (ММ:СС)",value:this.state.editItem.time_stage_2,func:this.changeItem.bind(this,"time_stage_2")})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.rZ,{label:"Время на 3 этап (ММ:СС)",value:this.state.editItem.time_stage_3,func:this.changeItem.bind(this,"time_stage_3")})))):null,p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(H.Z,null,"Картинка соотношением сторон (3:2) (пример: 600х400) только JPG")),p.createElement(d.ZP,{item:!0,xs:12,sm:6},this.state.editItem.img_new.length>0?p.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.editItem.img_new+"600х400.jpg?"+this.state.editItem.img_new_update,style:{maxWidth:300,maxHeight:300}}):p.createElement("div",{style:{maxWidth:300,maxHeight:300}})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement("div",{className:"dropzone",id:"for_img_edit_old",style:{width:"100%",minHeight:150}})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(H.Z,null,"Картинка соотношением сторон (1:1) (пример: 2000х2000) только JPG")),p.createElement(d.ZP,{item:!0,xs:12,sm:6},this.state.editItem.img_app.length>0?p.createElement("picture",null,p.createElement("source",{srcSet:"\n                                              https://storage.yandexcloud.net/site-img/".concat(this.state.editItem.img_app,"_276x276.jpg 138w, \n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_292x292.jpg 146w,\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_366x366.jpg 183w,\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_466x466.jpg 233w,\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_585x585.jpg 292w\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_732x732.jpg 366w,\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_1168x1168.jpg 584w,\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_1420x1420.jpg 760w,\n                                              https://storage.yandexcloud.net/site-img/").concat(this.state.editItem.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),p.createElement("img",{style:{maxHeight:300},src:"https://storage.yandexcloud.net/site-img/".concat(this.state.editItem.img_app,"_276x276.jpg")})):p.createElement("div",{style:{maxWidth:300,maxHeight:300}})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement("div",{className:"dropzone",id:"for_img_edit_new",style:{width:"100%",minHeight:150}})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12},p.createElement(B.rZ,{label:"Состав",value:this.state.editItem.tmp_desc,func:this.changeItem.bind(this,"tmp_desc")})),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(B.rZ,{label:"Короткое описание (в карточке)",value:this.state.editItem.marc_desc,func:this.changeItem.bind(this,"marc_desc")})),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(B.rZ,{label:"Полное описание (в карточке)",value:this.state.editItem.marc_desc_full,func:this.changeItem.bind(this,"marc_desc_full")})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.IA,{label:"Новинка",value:1==parseInt(this.state.editItem.is_new),func:this.changeItem.bind(this,"is_new"),style:{justifyContent:"center"}})),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(B.IA,{label:"Хит",value:1==parseInt(this.state.editItem.is_hit),func:this.changeItem.bind(this,"is_hit"),style:{justifyContent:"center"}})))),p.createElement(d.ZP,{item:!0,xs:12},p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.IA,{label:"Активность",value:1==parseInt(this.state.editItem.is_show),func:this.changeItem.bind(this,"is_show"),style:{justifyContent:"center"}})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.IA,{label:"На сайте",value:1==parseInt(this.state.editItem.show_site),func:this.changeItem.bind(this,"show_site"),style:{justifyContent:"center"}})),p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(B.IA,{label:"На складе",value:1==parseInt(this.state.editItem.show_program),func:this.changeItem.bind(this,"show_program"),style:{justifyContent:"center"}})))))),p.createElement(C.Z,{value:"2"},p.createElement(d.ZP,{container:!0,spacing:3},this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,this.state.item_rec.all.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(w.Z,{onClick:e.openMenu.bind(e,"rec",t)})))}))))):null,this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:8},p.createElement(G,{title:"1 этап",type:"rec",arr:"rec_stage_1",data:this.state.rec_stage_1,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"2 этап",type:"rec",arr:"rec_stage_2",data:this.state.rec_stage_2,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"3 этап",type:"rec",arr:"rec_stage_3",data:this.state.rec_stage_3,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)})):null)),p.createElement(C.Z,{value:"3"},p.createElement(d.ZP,{container:!0,spacing:3},this.state.item_pf?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:2},p.createElement(B.rZ,{label:"Поиск",value:this.state.searchPf,func:this.searchPf.bind(this)}))),this.state.item_pf_render.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(w.Z,{onClick:e.openMenu.bind(e,"pf",t)})))}))))):null,this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:8},p.createElement(G,{title:"1 этап",type:"pf",arr:"pf_stage_1",data:this.state.pf_stage_1,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"2 этап",type:"pf",arr:"pf_stage_2",data:this.state.pf_stage_2,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)}),p.createElement(G,{title:"3 этап",type:"pf",arr:"pf_stage_3",data:this.state.pf_stage_3,changeData:this.changeData.bind(this),delItem:this.delItem.bind(this)})):null)),p.createElement(C.Z,{value:"4"},p.createElement(d.ZP,{container:!0,spacing:3},this.state.item_pf?p.createElement(d.ZP,{item:!0,xs:12,sm:4},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:2},p.createElement(B.rZ,{label:"Поиск",value:this.state.searchItems,func:this.searchItems.bind(this)}))),this.state.item_items_render.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(x.Z,{onClick:e.forwardItem.bind(e,t),style:{cursor:"pointer"}})))}))))):null,this.state.item_rec?p.createElement(d.ZP,{item:!0,xs:12,sm:8},p.createElement(g.Z,{size:"small"},p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{colSpan:5,style:{textAlign:"center"}},this.props.title)),p.createElement(I.Z,null,p.createElement(Z.Z,null,"Название"),p.createElement(Z.Z,null,"Количество"),p.createElement(Z.Z,null,"Авт. добавление"),p.createElement(Z.Z,null))),p.createElement(E.Z,null,this.state.item_items.map((function(t,a){return p.createElement(I.Z,{key:a},p.createElement(Z.Z,null,t.name),p.createElement(Z.Z,null,p.createElement(B.rZ,{label:"",value:t.count,func:e.changeData.bind(e,"item","item_items","count",a)})),p.createElement(Z.Z,null,p.createElement(B.IA,{label:"",value:1==parseInt(t.is_add),func:e.changeData.bind(e,"item","item_items","is_add",a)})),p.createElement(Z.Z,null,p.createElement(v.Z,{onClick:e.delItem.bind(e,"item","",a),style:{cursor:"pointer"}})))}))))):null))))),p.createElement(P.Z,{anchorEl:this.state.anchorEl,open:this.state.openMenu,onClose:this.closeMenu.bind(this)},p.createElement(D.Z,{onClick:this.chooseStage.bind(this,1)},"1 этап"),p.createElement(D.Z,{onClick:this.chooseStage.bind(this,2)},"2 этап"),p.createElement(D.Z,{onClick:this.chooseStage.bind(this,3)},"3 этап"))):null)),p.createElement(j.Z,null,p.createElement(_.Z,{onClick:this.saveNewItem.bind(this),color:"primary"},"Сохранить"))),p.createElement(d.ZP,{container:!0,spacing:3},p.createElement(d.ZP,{item:!0,xs:12,sm:12},p.createElement("h1",null,this.state.module_name)),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(_.Z,{onClick:this.openNew.bind(this),color:"primary",variant:"contained"},"Новый товар")),p.createElement(d.ZP,{item:!0,xs:12,sm:6},p.createElement(_.Z,{onClick:this.updateVK.bind(this),color:"primary",variant:"contained"},"Обновить товары VK")),p.createElement(d.ZP,{item:!0,xs:12},0==this.state.cats.length?null:this.state.cats.map((function(t,a){return p.createElement(L.Z,{key:a},p.createElement(A.Z,{expandIcon:p.createElement(U.Z,null)},p.createElement(H.Z,null,t.name)),p.createElement(R.Z,{style:{width:"100%",overflow:"scroll"}},p.createElement(g.Z,null,p.createElement(f.Z,null,p.createElement(I.Z,null,p.createElement(Z.Z,{style:{width:"2%"}},"id"),p.createElement(Z.Z,{style:{width:"38%"}},"Название"),p.createElement(Z.Z,{style:{width:"15%"}},"Сортировка"),p.createElement(Z.Z,{style:{width:"15%"}},"Активность"),p.createElement(Z.Z,{style:{width:"15%"}},"Сайт"),p.createElement(Z.Z,{style:{width:"15%"}},"Склад"))),p.createElement(E.Z,null,t.items.map((function(t,n){return p.createElement(I.Z,{key:n},p.createElement(Z.Z,null,t.id),p.createElement(Z.Z,{onClick:e.openItem.bind(e,t)},t.name),p.createElement(Z.Z,null,p.createElement(B.rZ,{label:"",value:t.sort,func:e.changeSort.bind(e,a,n),onBlur:e.saveSort.bind(e,t.id)})),p.createElement(Z.Z,null,1==parseInt(t.is_show)?p.createElement(y.Z,null):p.createElement(b.Z,null)),p.createElement(Z.Z,null,1==parseInt(t.show_site)?p.createElement(y.Z,null):p.createElement(b.Z,null)),p.createElement(Z.Z,null,1==parseInt(t.show_program)?p.createElement(y.Z,null):p.createElement(b.Z,null)))}))))))})))))}}]),te}(p.Component);function X(){return p.createElement($,null)}},3692:(e,t,a)=>{var n=a(4783)(e.id,{locals:!1});e.hot.dispose(n),e.hot.accept(void 0,n)}}]);
//# sourceMappingURL=252.9690a8ff14e26eb40ba5.js.map