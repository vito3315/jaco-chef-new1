{"version":3,"file":"66.94ee1a18b7a77827c51d.js","mappings":"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","sources":["webpack://package.json/./src/components/tender/tender.component.jsx","webpack://package.json/./src/components/tender/tender.style.scss?9070"],"sourcesContent":["import React from 'react';\n\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\n\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport TableContainer from '@mui/material/TableContainer';\n\nimport Backdrop from '@mui/material/Backdrop';\nimport CircularProgress from '@mui/material/CircularProgress';\n\nimport { MyAutocomplite, MySelect } from '../../stores/elements';\n\nconst queryString = require('query-string');\n\n\nclass Tender_ extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      module: 'tender',\n      module_name: '',\n      is_load: false,\n\n      cities: [],\n      city: '',\n\n      newCities: [],\n\n      vendors: [],\n      vendor: [],\n\n      cats: [],\n\n      newCats: [],\n      newCat: '',\n\n    };\n  }\n\n  async componentDidMount() {\n    let data = await this.getData('get_all');\n\n    console.log(data);\n\n    this.setState({\n      module_name: data.module_info.name,\n      cities: data.cities,\n      city: data.cities[0].id,\n      vendors: data.vendors,\n      newCats: data.cats,\n    });\n\n    document.title = data.module_info.name;\n  }\n\n  getData = (method, data = {}) => {\n    this.setState({\n      is_load: true,\n    });\n\n    return fetch('https://jacochef.ru/api/index_new.php', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n      },\n      body: queryString.stringify({\n        method: method,\n        module: this.state.module,\n        version: 2,\n        login: localStorage.getItem('token'),\n        data: JSON.stringify(data),\n      }),\n    })\n      .then((res) => res.json())\n      .then((json) => {\n        if (json.st === false && json.type == 'redir') {\n          window.location.pathname = '/';\n          return;\n        }\n\n        if (json.st === false && json.type == 'auth') {\n          window.location.pathname = '/auth';\n          return;\n        }\n\n        setTimeout(() => {\n          this.setState({\n            is_load: false,\n          });\n        }, 300);\n\n        return json;\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          is_load: false,\n        });\n      });\n  };\n\n  changeCity(event) {\n    this.setState({\n      city: event.target.value,\n    });\n  }\n\n  changeVendor(event, value) {\n    this.setState({\n      vendor: value,\n      newCat: '',\n    });\n  }\n\n  changeCat(event, value) {\n    this.setState({\n      newCat: value,\n      vendor: [],\n    });\n  }\n\n  async getDataTable() {\n    const data = {\n      city_id: this.state.city,\n      vendors: this.state.vendor,\n      cat: this.state.newCat,\n    };\n\n    const res = await this.getData('get_data', data);\n\n    console.log(res)\n\n    this.getDataTableCell(res);\n\n  }\n\n  getDataTableCell(res) {\n    const vendors = res.vendors;\n\n    const items = res.vendor_items_price;\n\n    const vendors_items = vendors.map((el) => {\n      el.price = [];\n\n      items.forEach((it) => {\n        if (it.vendor_id === el.id) {\n          el.price.push(it);\n        }\n      });\n\n      return el;\n    });\n\n    this.setState({\n      cats: res.items,\n      vendors: vendors_items,\n      newCities: res.cities,\n    });\n  }\n\n  changeSelect(vendor_id, cat_id, price_vendor, event) {\n    // console.log(vendor_id, cat_id, price_vendor, event.target.value)\n\n    const vendors = this.state.vendors;\n    const newCities = this.state.newCities;\n    const cats = this.state.cats;\n\n    cats.forEach(cat => {\n      cat.cats.forEach(it => {\n        it.items.forEach(item => {\n\n            if(item.id === cat_id && event.target.value === '') {\n\n              if(vendor_id === item.vendor_all) {\n                item.city_all = null;\n                item.price_all = null;\n                item.vendor_all = null;\n              }\n\n              if(vendor_id === item.vendor_tlt) {\n                item.city_tlt = null;\n                item.price_tlt = null;\n                item.vendor_tlt = null;\n              }\n\n              if(vendor_id === item.vendor_smr) {\n                item.city_smr = null;\n                item.price_smr = null;\n                item.vendor_smr = null;\n              }\n            }\n     \n            if(item.id === cat_id && event.target.value === -1) {\n              item.city_tlt = null;\n              item.price_tlt = null;\n              item.vendor_tlt = null;\n\n              item.city_smr = null;\n              item.price_smr - null;\n              item.vendor_smr = null;\n\n              item.city_all = newCities.find(city => city.id === event.target.value)\n              item.price_all = price_vendor;\n              item.vendor_all = vendor_id;\n            } \n\n            if(item.id === cat_id && event.target.value === '1') {\n              item.city_all = null;\n              item.price_all = null;\n              item.vendor_all = null;\n\n              if(!!item.city_tlt && !!item.city_smr && item.vendor_smr === vendor_id) {\n                item.city_smr = null;\n                item.price_smr = null;\n                item.vendor_smr = null;\n              }\n\n              item.city_tlt = newCities.find(city => city.id === event.target.value)\n              item.price_tlt = price_vendor;\n              item.vendor_tlt = vendor_id;\n            } \n\n            if(item.id === cat_id && event.target.value === '2') {\n              item.city_all = null;\n              item.price_all = null;\n              item.vendor_all = null;\n\n              if(!!item.city_tlt && !!item.city_smr && item.vendor_tlt === vendor_id) {\n                item.city_tlt = null;\n                item.price_tlt = null;\n                item.vendor_tlt = null;\n              }\n\n              item.city_smr = newCities.find(city => city.id === event.target.value)\n              item.price_smr = price_vendor;\n              item.vendor_smr = vendor_id;\n            } \n          \n        })\n      })\n    })\n\n\n    vendors.forEach(vendor => {\n      vendor.price.forEach(price => {\n\n        if(price.item_id === cat_id && price.vendor_id === vendor_id) {\n\n          price.city = newCities.find(city => city.id === event.target.value)\n\n        } \n\n        if (price.item_id === cat_id && price.vendor_id !== vendor_id) {\n\n          if(price.city) {\n\n            if(price.city.id === event.target.value || event.target.value === - 1) {\n\n              price.city = null\n\n            } else if (price.city.id === -1 && event.target.value !== - 1) {\n\n              price.city = null\n\n            }\n          } \n        }\n        \n      })\n\n    })\n\n    // console.log(vendors)\n\n    this.setState({\n      vendors,\n      cats,\n    });\n\n  }\n\n  async saveData () {\n    const data = {\n      city_id: this.state.city,\n      vendors: this.state.vendors,\n      vendor: this.state.vendor,\n      cat: this.state.newCat,\n      cats: this.state.cats,\n    };\n\n    console.log(data);\n\n    const res = await this.getData('save', data);\n\n    console.log(res)\n  }\n\n  render() {\n\n    console.log('render')\n\n    return (\n      <>\n        <Backdrop open={this.state.is_load}>\n          <CircularProgress color=\"inherit\" />\n        </Backdrop>\n\n        <Grid container spacing={3} mb={3}>\n          <Grid item xs={12} sm={12}>\n            <h1>{this.state.module_name}</h1>\n          </Grid>\n        </Grid>\n\n        <Grid container spacing={3} justifyContent=\"center\" mb={5}>\n\n          <Grid item xs={12} sm={3}>\n            <MySelect\n              data={this.state.cities}\n              value={this.state.city}\n              func={this.changeCity.bind(this)}\n              label=\"Город\"\n            />\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n            <MyAutocomplite\n              label=\"Поставщик\"\n              multiple={true}\n              data={this.state.vendors}\n              value={this.state.vendor}\n              func={this.changeVendor.bind(this)}\n            />\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n            <MyAutocomplite\n              label=\"Категория\"\n              multiple={false}\n              data={this.state.newCats}\n              value={this.state.newCat}\n              func={this.changeCat.bind(this)}\n            />\n          </Grid>\n\n          <Grid container spacing={3} item sm={3}>\n\n          <Grid item xs={12} sm={6}>\n            <Button\n              variant=\"contained\"\n              style={{ whiteSpace: 'nowrap' }}\n              onClick={this.getDataTable.bind(this)}\n            >\n              Обновить данные\n            </Button>\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n            <Button\n              style={{ whiteSpace: 'nowrap', backgroundColor: '#00a550', color: 'white' }}\n              onClick={this.saveData.bind(this)}\n            >\n              Сохранить изменения\n            </Button>\n          </Grid>\n\n          </Grid>\n\n        </Grid>\n\n        {!this.state.cats.length ? null : (\n          <Grid container spacing={3}>\n            <Grid item xs={12} sm={12}>\n              <TableContainer sx={{ maxHeight: { xs: 'none', sm: 650 } }}>\n                <Table stickyHeader aria-label=\"sticky table\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>Категория</TableCell>\n                      <TableCell>Параметры</TableCell>\n                      <TableCell>Все</TableCell>\n                      <TableCell>Тольятти</TableCell>\n                      <TableCell>Самара</TableCell>\n                      {this.state.vendors.map((vendor, key) => (\n                        <TableCell\n                          key={key}\n                          style={{\n                            whiteSpace: 'nowrap',\n                            minWidth: 300,\n                            textAlign: 'center'\n                          }}\n                          colSpan={2}\n                        >\n                          {vendor.name}\n                        </TableCell>\n                      ))}\n                    </TableRow>\n                  </TableHead>\n\n                  <TableBody>\n                    {this.state.cats.map((item, key) => (\n                      <React.Fragment key={key}>\n                        <TableRow>\n                          <TableCell\n                            colSpan={`${5 + this.state.vendors.length * 2}`}\n                            sx={{\n                              backgroundColor: '#ADD8E6',\n                            }}\n                          >\n                            {item.name}\n                          </TableCell>\n                        </TableRow>\n\n                        {item.cats.map((category, key_cat) => (\n                          <React.Fragment key={key_cat}>\n                            <TableRow\n                              sx={{ '& td': { backgroundColor: '#ADD8E6' } }}\n                            >\n                              <TableCell>{category.name}</TableCell>\n                              <TableCell></TableCell>\n                              {key_cat === 0 ? (\n                                <TableCell colSpan={3}>\n                                  Зафиксированные цены\n                                </TableCell>\n                              ) : (\n                                <React.Fragment key={key_cat}>\n                                  <TableCell colSpan={3}></TableCell>\n                                </React.Fragment>\n                              )}\n                              {this.state.vendors.map((vendor, key) => (\n                                <React.Fragment key={key}>\n                                  <TableCell colSpan={2}></TableCell>\n                                </React.Fragment>\n                              ))}\n                            </TableRow>\n\n                            {category.items.map((item, k) => (\n                              <TableRow key={k} hover>\n                                <TableCell className=\"td_color\">\n                                  {item.name}\n                                </TableCell>\n                                <TableCell></TableCell>\n                                <TableCell>{item.city_all ? item.price_all : '' }</TableCell>\n                                <TableCell>{item.city_tlt ? item.price_tlt : ''}</TableCell>\n                                <TableCell>{item.city_smr ? item.price_smr : '' }</TableCell>\n                                {this.state.vendors.map((vendor, key) => (\n                                 <React.Fragment key={key}>\n                                 {vendor.price.find(\n                                   (it) => it.item_id === item.id\n                                 ) ? (\n                                   <>\n                                     <TableCell className='tdcity'>\n                                       <MySelect\n                                         data={this.state.newCities}\n                                         value={vendor.price.find((it) => it.item_id === item.id).city ? vendor.price.find((it) => it.item_id === item.id).city.id : ''}\n                                         func={this.changeSelect.bind(this, vendor.id, item.id, vendor.price.find((it) => it.item_id === item.id).price)}\n                                         label=\"\"\n                                       />\n                                     </TableCell>\n                                     <TableCell\n                                       className='tdprice'\n                                     >\n                                       {vendor.price.find((it) => it.item_id === item.id).price}\n                                     </TableCell>\n                                   </>\n                                 ) : (\n                                   <>\n                                     <TableCell colSpan={2}></TableCell>\n                                   </>\n                                 )}\n                               </React.Fragment>\n                                ))}\n                              </TableRow>\n                            ))}\n                          </React.Fragment>\n                        ))}\n                      </React.Fragment>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TableContainer>\n            </Grid>\n          </Grid>\n        )}\n      </>\n    );\n  }\n}\n\nexport function Tender() {\n  return <Tender_ />;\n}\n","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1667819109413\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","Tender_","props","method","data","setState","is_load","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","err","console","log","module_name","cities","city","newCities","vendors","vendor","cats","newCats","newCat","this","getData","module_info","name","id","document","title","event","target","value","city_id","cat","getDataTableCell","items","vendor_items_price","vendors_items","map","el","price","forEach","it","vendor_id","push","cat_id","price_vendor","item","vendor_all","city_all","price_all","vendor_tlt","city_tlt","price_tlt","vendor_smr","city_smr","price_smr","find","item_id","Backdrop","open","CircularProgress","color","Grid","container","spacing","mb","xs","sm","justifyContent","func","changeCity","bind","label","multiple","changeVendor","changeCat","Button","variant","style","whiteSpace","onClick","getDataTable","backgroundColor","saveData","length","TableContainer","sx","maxHeight","Table","stickyHeader","TableHead","TableRow","TableCell","key","minWidth","textAlign","colSpan","TableBody","category","key_cat","k","hover","className","changeSelect","React","Tender","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}