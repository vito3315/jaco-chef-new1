"use strict";(self.webpackChunkpackage_json=self.webpackChunkpackage_json||[]).push([[96],{4096:(e,t,n)=>{n.r(t),n.d(t,{default:()=>L}),n(3298);var a=n(5861),i=n(5671),s=n(3144),l=n(7326),c=n(136),r=n(6215),m=n(1120),o=n(4942),d=n(7462),p=n(5987),g=n(4687),u=n.n(g),h=n(7294),y=n(5725),E=n(4567),x=n(9062),_=n(4666),Z=n(7750),f=n(7645),w=n(6501),v=n(5697),b=n.n(v),j=n(20),P=n(2640),k=n(1508),T=n(9941),S=n(7425),C=n(5092),D=n(3508),B=n(2440),z=n(576),I=n(8619),R=n(9334),A=n(7109),H=n(2658),O=(n(6406),["children","value","index"]);var W=n(7563);function q(e){var t=e.children,n=e.value,a=e.index,i=(0,p.Z)(e,O);return h.createElement("div",(0,d.Z)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},i),n===a&&h.createElement(k.Z,{sx:{p:3}},t))}function F(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}q.propTypes={children:b().node,index:b().number.isRequired,value:b().number.isRequired};var J=function(e){(0,c.Z)(b,e);var t,n,p,g,v=(p=b,g=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=(0,m.Z)(p);if(g){var n=(0,m.Z)(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return(0,r.Z)(this,e)});function b(e){var t;return(0,i.Z)(this,b),t=v.call(this,e),(0,o.Z)((0,l.Z)(t),"getData",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.setState({is_load:!0}),fetch("https://jacochef.ru/api/index_new.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:W.stringify({method:e,module:t.state.module,version:2,login:localStorage.getItem("token"),data:JSON.stringify(n)})}).then((function(e){return e.json()})).then((function(e){if(!1!==e.st||"redir"!=e.type){if(!1!==e.st||"auth"!=e.type)return setTimeout((function(){t.setState({is_load:!1})}),300),e;window.location.pathname="/auth"}else window.location.pathname="/"})).catch((function(e){console.log(e),t.setState({is_load:!1})}))})),t.state={module:"show_cook",module_name:"",is_load:!1,modalDialog:!1,itemsEdit:null,stage_1:[],stage_2:[],stage_3:[],activeTab:0,pf:[],rec:[],cats:[]},t}return(0,s.Z)(b,[{key:"componentDidMount",value:(n=(0,a.Z)(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getData("get_all");case 2:t=e.sent,this.setState({pf:t.pf,rec:t.rec,cats:t.cats,module_name:t.module_info.name});case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"openItem",value:(t=(0,a.Z)(u().mark((function e(t){var n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t},e.next=3,this.getData("get_one",n);case 3:a=e.sent,console.log(a),this.setState({itemsEdit:a.item,stage_1:a.stage_1,stage_2:a.stage_2,stage_3:a.stage_3,modalDialog:!0});case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"changeTab",value:function(e,t){parseInt(t),this.setState({activeTab:t})}},{key:"render",value:function(){var e=this;return h.createElement(h.Fragment,null,h.createElement(E.Z,{style:{zIndex:99},open:this.state.is_load},h.createElement(x.Z,{color:"inherit"})),h.createElement(y.ZP,{container:!0,spacing:3},h.createElement(y.ZP,{item:!0,xs:12,sm:12},h.createElement("h1",null,this.state.module_name)),this.state.itemsEdit?h.createElement(_.Z,{open:this.state.modalDialog,maxWidth:"md",onClose:function(){e.setState({modalDialog:!1,itemsEdit:null})}},h.createElement(f.Z,{style:{textAlign:"center"}},this.state.itemsEdit.name),h.createElement(Z.Z,null,h.createElement(y.ZP,{container:!0,spacing:0},h.createElement(y.ZP,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"}},0==this.state.itemsEdit.img_app.length&&this.state.itemsEdit.img_new.length>0?h.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+this.state.itemsEdit.img_new+"600х400.jpg?"+this.state.itemsEdit.img_new_update,style:{maxHeight:400,width:"100%"},loading:"lazy"}):this.state.itemsEdit.img_app.length>0?h.createElement("picture",null,h.createElement("source",{srcSet:"\n                              https://storage.yandexcloud.net/site-img/".concat(this.state.itemsEdit.img_app,"_276x276.jpg 138w, \n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_292x292.jpg 146w,\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_366x366.jpg 183w,\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_466x466.jpg 233w,\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_585x585.jpg 292w\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_732x732.jpg 366w,\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_1168x1168.jpg 584w,\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_1420x1420.jpg 760w,\n                              https://storage.yandexcloud.net/site-img/").concat(this.state.itemsEdit.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),h.createElement("img",{style:{maxHeight:400,width:"100%"},src:"https://storage.yandexcloud.net/site-img/".concat(this.state.itemsEdit.img_app,"_276х276.jpg"),loading:"lazy"})):h.createElement("div",{style:{maxHeight:400,width:"100%"}})),this.state.stage_1.length>0?h.createElement(y.ZP,{item:!0,xs:12},h.createElement("h3",{style:{textAlign:"center"}},"Этап 1"),h.createElement(B.Z,null,this.state.stage_1.map((function(e,t){return h.createElement(z.ZP,{disablePadding:!0,key:t},h.createElement(I.Z,{style:{borderBottom:"1px solid #e5e5e5"}},h.createElement(R.Z,{primary:e.name,style:{width:"60%"}}),h.createElement(R.Z,{primary:e.count+" "+e.ei_name,style:{width:"40%"}})))})))):null,this.state.stage_2.length>0?h.createElement(y.ZP,{item:!0,xs:12},h.createElement("h3",{style:{textAlign:"center"}},"Этап 2"),h.createElement(B.Z,null,this.state.stage_2.map((function(e,t){return h.createElement(z.ZP,{disablePadding:!0,key:t},h.createElement(I.Z,{style:{borderBottom:"1px solid #e5e5e5"}},h.createElement(R.Z,{primary:e.name,style:{width:"60%"}}),h.createElement(R.Z,{primary:e.count+" "+e.ei_name,style:{width:"40%"}})))})))):null,this.state.stage_3.length>0?h.createElement(y.ZP,{item:!0,xs:12},h.createElement("h3",{style:{textAlign:"center"}},"Этап 3"),h.createElement(B.Z,null,this.state.stage_3.map((function(e,t){return h.createElement(z.ZP,{disablePadding:!0,key:t},h.createElement(I.Z,{style:{borderBottom:"1px solid #e5e5e5"}},h.createElement(R.Z,{primary:e.name,style:{width:"60%"}}),h.createElement(R.Z,{primary:e.count+" "+e.ei_name,style:{width:"40%"}})))})))):null))):null,h.createElement(y.ZP,{item:!0,xs:12,sm:12,style:{paddingBottom:24}},h.createElement(w.Z,null,h.createElement(j.Z,{value:this.state.activeTab,onChange:this.changeTab.bind(this),centered:!0,variant:"fullWidth"},h.createElement(P.Z,(0,d.Z)({label:"Товары"},F(0))),h.createElement(P.Z,(0,d.Z)({label:"Рецепты"},F(1))),h.createElement(P.Z,(0,d.Z)({label:"Сроки хранения"},F(2)))))),h.createElement(y.ZP,{item:!0,xs:12,sm:12,style:{paddingTop:0}},h.createElement(q,{value:this.state.activeTab,index:0,id:"items",style:{width:"auto",display:"flex",justifyContent:"center"}},this.state.cats.map((function(t,n){return h.createElement(T.Z,{key:n},h.createElement(S.Z,{expandIcon:h.createElement(D.Z,null)},h.createElement(H.Z,null,t.name)),h.createElement(C.Z,null,h.createElement(B.Z,null,t.items.map((function(t,n){return h.createElement(z.ZP,{disablePadding:!0,key:n,onClick:e.openItem.bind(e,t.id)},h.createElement(I.Z,null,h.createElement(A.Z,{sx:{width:60,height:60}},0==t.img_app.length&&t.img_new.length>0?h.createElement("img",{src:"https://storage.yandexcloud.net/site-img/"+t.img_new+"300х200.jpg?"+t.img_new_update,style:{height:"100%"},loading:"lazy"}):t.img_app.length>0?h.createElement("picture",{style:{width:"100%",height:"100%"}},h.createElement("source",{srcSet:"\n                                            https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_276x276.jpg 138w, \n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_292x292.jpg 146w,\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_366x366.jpg 183w,\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_466x466.jpg 233w,\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_585x585.jpg 292w\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_732x732.jpg 366w,\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1168x1168.jpg 584w,\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_1420x1420.jpg 760w,\n                                            https://storage.yandexcloud.net/site-img/").concat(t.img_app,"_2000x2000.jpg 1875w"),sizes:"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px"}),h.createElement("img",{style:{height:"100%"},src:"https://storage.yandexcloud.net/site-img/".concat(t.img_app,"_276х276.jpg"),loading:"lazy"})):h.createElement("div",{style:{height:"100%"}})),h.createElement(R.Z,{primary:t.name,style:{paddingLeft:20}})))})))))})))),h.createElement(y.ZP,{item:!0,xs:12,sm:12,style:{paddingTop:0}},h.createElement(q,{value:this.state.activeTab,index:1,id:"rec"},h.createElement(w.Z,{sx:{display:{xs:"block",md:"flex"},width:{xs:"100%",md:"50%"}},style:{justifyContent:"center",flexDirection:"column"}},this.state.rec.map((function(e,t){return h.createElement(T.Z,{key:t},h.createElement(S.Z,{expandIcon:h.createElement(D.Z,null)},h.createElement(H.Z,null,e.name)),h.createElement(C.Z,null,h.createElement(B.Z,null,e.items.map((function(e,t){return h.createElement(z.ZP,{disablePadding:!0,key:t},h.createElement(I.Z,{style:{borderBottom:"1px solid #e5e5e5"}},h.createElement(R.Z,{primary:e.name,style:{width:"70%"}}),h.createElement(R.Z,{primary:e.count+" "+e.ei_name,style:{width:"30%"}})))})),h.createElement(z.ZP,{disablePadding:!0},h.createElement(I.Z,null,h.createElement(R.Z,{primary:"",style:{width:"70%"}}),h.createElement("span",{style:{width:"30%",fontWeight:"900"}},e.all_w+" "+e.ei_name))))))}))))),h.createElement(y.ZP,{item:!0,xs:12,sm:12,style:{paddingTop:0}},h.createElement(q,{value:this.state.activeTab,index:2,id:"pf",style:{width:"auto",display:"flex",justifyContent:"center"}},h.createElement(w.Z,null,h.createElement(B.Z,null,this.state.pf.map((function(e,t){return h.createElement(z.ZP,{disablePadding:!0,key:t},h.createElement(I.Z,{style:{borderBottom:"1px solid #e5e5e5"}},h.createElement(R.Z,{primary:e.name,style:{width:"40%"}}),h.createElement(R.Z,{primary:e.shelf_life,style:{width:"60%"}})))}))))))))}}]),b}(h.Component);function L(){return h.createElement(J,null)}},3298:(e,t,n)=>{var a=n(4783)(e.id,{locals:!1});e.hot.dispose(a),e.hot.accept(void 0,a)}}]);
//# sourceMappingURL=96.0e3a944a0646025cabf3.js.map