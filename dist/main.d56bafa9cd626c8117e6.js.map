{"version":3,"file":"main.d56bafa9cd626c8117e6.js","mappings":"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","sources":["webpack://package.json/./src/components/revizion/revizion.component.jsx","webpack://package.json/./src/components/site_sale_2/site_sale_2.component.jsx","webpack://package.json/./src/components/site_sale_min/site_sale_min.component.jsx","webpack://package.json/./src/components/app/app.component.jsx","webpack://package.json/./src/index.prod.js","webpack://package.json/./src/stores/elements.js","webpack://package.json/./src/components/app/app.style.scss?aab7","webpack://package.json/./src/components/revizion/revizion.style.scss?88b3","webpack://package.json/./src/components/site_sale_2/site_sale_2.style.scss","webpack://package.json/./src/components/site_sale_min/site_sale_min.style.scss"],"sourcesContent":["import React from 'react';\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport RestoreIcon from '@mui/icons-material/Restore';\r\nimport SaveIcon from '@mui/icons-material/SaveAs';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport Paper from '@mui/material/Paper';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\n// главная страница\r\nclass Revizion_ extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      search: '',\r\n\r\n      items: [],\r\n      pf: [],\r\n      rec: [],\r\n      items_b: [],\r\n      pf_b: [],\r\n      rec_b: [],\r\n      all_data: [],\r\n        \r\n      chooseTab: 0,\r\n      \r\n    };\r\n  }\r\n\r\n  // переменные для фильтра\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name,\r\n\t  all_data: data.get_data_for_new_rev\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n   // смена точки\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n       point: data,\r\n       search: ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getRevList();\r\n    }, 50 )\r\n  }\r\n\r\n  // смена ревизии\r\n  changeRev(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n        chooseRev: data,\r\n        search : ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n\r\n   // поиск\r\n  async search(event){\r\n\t    \r\n\t\tlet data = {\r\n\t\t\tpoint_id: this.state.point,\r\n\t\t\tshowReady: this.state.showReady === true ? 1 : 0\r\n\t\t};\r\n    \r\n        // дергаем товары, полуфабрикаты, рецпеты\r\n        let res = this.state;\r\n        let items, rec, pf, text;\r\n        text = event.target.value.toLowerCase();\r\n\r\n        // Фильтрация\r\n        items = this.state.items_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        rec = this.state.rec_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        pf = this.state.pf_b.filter((item) => item.name.toLowerCase().includes(text));\r\n\r\n        this.setState({\r\n            items  : items,\r\n            rec    : rec,\r\n            pf     : pf,\r\n            search : text\r\n         })\r\n\t\r\n  }\r\n\r\n   // метод обновления данных\r\n  async updateData(){\r\n\t  \r\n    let data = {\r\n      rev_id\t: this.state.chooseRev,\r\n      point_id\t: this.state.point,\r\n    };\r\n\t\r\n\t// to do переписать\r\n    let res = await this.getData('get_data_rev', data);\r\n          \r\n\t// отрисовка\r\n\tthis.setState({\r\n      items     : res.item,\r\n      rec       : res.rec,\r\n      pf        : res.pf,\r\n      items_b   : res.item,\r\n      rec_b     : res.rec,\r\n      pf_b      : res.pf,\r\n    })\r\n  }\r\n\r\n   // получение списка ревизий\r\n  async getRevList(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n    \r\n    this.setState({\r\n      revList: res,\r\n      chooseRev: res.length > 0 ? res[0]['id'] : ''\r\n    })\r\n    \r\n    if( res.length > 0 ){\r\n      setTimeout( () => {\r\n        this.getDataRev();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n   // получение данных ревизии\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      rev_id: this.state.chooseRev\r\n    };\r\n    \r\n    let res = await this.getData('get_data_rev', data);\r\n    \r\n    this.setState({\r\n        items: res.item,\r\n        rec: res.rec,\r\n        pf: res.pf,\r\n        items_b: res.item,\r\n        rec_b: res.rec,\r\n        pf_b: res.pf,\r\n    })\r\n  }\r\n\r\n\r\n   // рендер главная\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Link to={\"/revizion/new\"}>Новая ревизия</Link>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.revList} value={this.state.chooseRev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\t\t      <Grid item xs={12} sm={6}>\r\n\t\t\t      <MyTextInput func={ this.search.bind(this) } label='Поиск' value={this.state.search} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Товар</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.items.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Заготовка</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.pf.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// Данные для страницы новая ревизия\r\nclass RevizionNewItem extends React.Component{\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        item    : this.props.item,\r\n        pf      : this.props.pf,\r\n        change  : this.props.change,\r\n        type    : this.props.type,\r\n    };\r\n   }\r\n\r\n  // to do del\r\n  componentWillMount() {\r\n      //console.log('Will type=' + this.state.type);\r\n  }\r\n  componentDidMount() {\r\n      //console.log('type=' + this.state.type);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n        this.state.change !== nextState.change ||\r\n        this.state.change !== nextProps.change\r\n    );\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          //aria-controls=\"panel1a-content\"\r\n          //id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{ width: '60%' }}>{this.state.item.name} </Typography>\r\n          <Typography style={{ width: '40%' }}>{this.state.item.value} {this.state.item.ei_name} </Typography>\r\n        </AccordionSummary>\r\n\r\n            {/* Товары */}\r\n            {this.state.type != 'item'  ? null :\r\n                <AccordionDetails>\r\n                    {this.state.item.counts.map((it, k) =>\r\n                        \r\n                        <Grid container spacing={3} key={k} style={{ paddingTop: 10, paddingBottom: 10 }}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <MySelect data={this.state.item.size} value={it.need_pq} func={this.props.func.bind(this, 'item', this.props.itemKey, 'need_pq', k)} label='Объем упаковки' />\r\n                            </Grid>\r\n                            <Grid item xs={k == 0 ? 12 : 9} sm={5}>\r\n                                <TextField value={it.value} onChange={this.props.func.bind(this, 'item', this.props.itemKey, 'value', k)} fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                            </Grid>\r\n                            {k == 0 ? null :\r\n                                <Grid item xs={3} sm={1}>\r\n                                    <Button onClick={this.props.clear.bind(this, 'item', this.props.itemKey, k)} variant=\"contained\"> <CloseIcon /> </Button>\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        \r\n                    ) }\r\n          \r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button variant=\"contained\" onClick={this.props.copy.bind(this, 'item', this.props.itemKey)}>Дублировать</Button>\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n            { /* Заготовки */}\r\n            {this.state.type != 'pf' ? null :\r\n                <AccordionDetails> \r\n                    <Grid item sm={5}> \r\n                        <TextField value={this.state.pf.value} onChange={ this.props.func.bind(this, 'pf', this.props.itemKey, 'value', 0) }  fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n      </Accordion>\r\n    )\r\n  }\r\n}\r\n\r\n// Новая ревизия\r\nclass RevizionNew_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      storages: [],\r\n      items: [],\r\n      rec: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      modalDialog: false,\r\n      open: false\r\n    };\r\n    }\r\n\r\n\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n\r\n    // измение точки подгрузка данных\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300)\r\n\r\n    }\r\n\r\n  // метод получения данных\r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n\t  \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n    // получаем данные\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_data_for_new_rev', data);\r\n      \r\n    this.setState({\r\n      storages: res['storages'],\r\n      items: res['items'],\r\n      rec: res['rec'],\r\n      pf: res['pf']\r\n    })\r\n\r\n  }\r\n\r\n  // предварительное сохранение\r\n  saveData(type, key_item, data, key_data, event){\r\n      console.log('saveData');\r\n\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'][key_data][ [data] ] = event.target.value;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n      }\r\n\r\n      if (type == 'pf') {\r\n\r\n          let pf = this.state.pf;\r\n         \r\n          pf[key_item]['value'] = event.target.value;\r\n          pf[key_item]['change']++;\r\n\r\n          this.setState({\r\n              pf: pf\r\n          })\r\n          console.log('pf', pf);\r\n      }\r\n    \r\n  }\r\n\r\n   // проверка полей, отображения модального окна\r\n   checkData() {\r\n       console.log('checkData');\r\n       let items = this.state.items;\r\n       let pf = this.state.pf;\r\n\r\n       // проверка заполнения полей товаров, скрываем не заполненные\r\n       items.map((item, key) =>  {\r\n            if(item.value != 0){\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('item=', item, ' key ', key);\r\n       })\r\n\r\n       pf.map((item, key) => {\r\n            if (item.value != 0) {\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('pf=', item, ' pf ', key);\r\n       })\r\n\r\n       this.setState({\r\n           items: items,\r\n           pf   : pf\r\n       })\r\n\r\n       this.setState({\r\n           modalDialog: true,\r\n           titleDialog: 'Ты уверен в правильности этих позиций ?'\r\n       })\r\n   }\r\n\r\n  // копируем\r\n  copyData(type, key_item){\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'].push({ need_pq: items[key_item]['counts'][0]['need_pq'], value: 0 })\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n  }\r\n\r\n  // очищаем\r\n  clearData(type, key_item, key_data){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      let new_counts = [];\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        if( key != key_data ){\r\n          new_counts.push( item )\r\n        }\r\n      } )\r\n      \r\n      items[key_item]['counts'] = new_counts;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  // получение данных ревизии\r\n  async saveRev() {\r\n    let data = {\r\n        point_id: this.state.point,\r\n        item: this.state.item,\r\n        rec: this.state.rec,\r\n        pf: this.state.pf,\r\n    };\r\n    console.log('saveRev ', data);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новая ревизии</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.checkData.bind(this)} >Сохранить</Button>\r\n           </Grid>\r\n\r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n\r\n            {/* Товары * to do меняем TabPanel на div и в стилях скрываем style: this.state.chooseTab == 1 ? {display: blovk} : {display: monr} */}\r\n            <div style = { this.state.chooseTab == 0 ? {display: 'block'} : {display: 'none'} } >\r\n              \r\n              {this.state.items.map((item, key) => \r\n                parseInt(item.is_show) == 0 ? null :\r\n                   <RevizionNewItem key={key} type=\"item\" itemKey={key} item={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this)} />\r\n              )} \r\n              \r\n            </div>\r\n\r\n            {/* Заготовки */}\r\n            <div style={this.state.chooseTab == 1 ? { display: 'block' } : { display: 'none' }} >\r\n\r\n                {this.state.pf.map((item, key) =>\r\n                   parseInt(item.is_show) == 0 ? null :\r\n                    <RevizionNewItem key={key} type=\"pf\" itemKey={key} item={item} pf={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this) } />\r\n                )}\r\n              \r\n            </div>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.storages.map( (item, key) =>\r\n                <ListItem button key={key}>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        { this.state.storages.length == 0 ? null :\r\n          <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n            <BottomNavigation\r\n              showLabels\r\n             \r\n            >\r\n              <BottomNavigationAction onClick={(event, newValue) => {\r\n                            this.setState({ open: true })\r\n                        }}  label=\"Recents\" icon={<RestoreIcon />} />\r\n                        <BottomNavigationAction onClick={this.checkData.bind(this)} label=\"Save\" icon={<SaveIcon />} />\r\n            </BottomNavigation>\r\n          </Paper>\r\n         }\r\n\r\n        <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={() => { this.setState({ modalDialog: false }) }}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{this.state.titleDialog}</DialogTitle>\r\n                <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <Grid container spacing={3}>Не все поля заполнены </Grid>\r\n                    </DialogContentText>\r\n\r\n                    <Grid container spacing={3}>\r\n                        <Grid item>Позиция </Grid>\r\n                        <Grid item>Кол-во </Grid>\r\n                        <Grid item>Ед. измер. </Grid>\r\n                    </Grid>\r\n                        \r\n                    \r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\">Хорошо</Button>\r\n                <Button color=\"primary\">Сохранить</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function Revizion() {\r\n  return (\r\n    <Revizion_ />\r\n  );\r\n}\r\n\r\nexport function RevizionNew() {\r\n  return (\r\n    <RevizionNew_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nclass MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSale2_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new');\r\n    \r\n    let date = new Date();\r\n    let fullDate = '';\r\n    \r\n    let Y = date.getFullYear();\r\n    let M = date.getMonth()+1;\r\n    let D = date.getDate();\r\n    \r\n    fullDate = Y + '-' + ( parseInt(M) > 9 ? M : '0'+M ) + '-' + ( parseInt(D) > 9 ? D : '0'+D );\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      date_start: fullDate,\r\n      date_end: fullDate,\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n\r\n            <br />\r\n\r\n            <Typography>Созданыне промокоды: { this.state.createdPromo.join(', ') }</Typography>\r\n\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { this.state.generate_new === true ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.promo_name} func={ this.changeData.bind(this, 'promo_name') } label='Название промокода' />\r\n              </Grid>\r\n            }\r\n            { this.state.generate_new === false ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            \r\n            }\r\n            \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n            \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass SiteSale2_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: 0,\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_2/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_2/stat\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Статистика</Button>\r\n              </Link>\r\n\r\n              <Link to={\"/site_sale_2/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_2/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_Stat_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      spam_list: [],\r\n      spam_id: 0,\r\n      findPromoList: [],\r\n      \r\n      spam_list_data: [],\r\n      spam_list_data_stat: {\r\n        true: 0,\r\n        all: 0,\r\n        percent: 0\r\n      },\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n  \r\n  changeSpam(event){\r\n    this.setState({spam_id: event.target.value})\r\n    \r\n    setTimeout( () => {\r\n      this.show()\r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.spam_list} value={this.state.spam_id} func={ this.changeSpam.bind(this) } label='Рассылка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Всего</TableCell>\r\n                    <TableCell>Использовали</TableCell>\r\n                    <TableCell>%</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  <TableRow>\r\n                    <TableCell>{this.state.spam_list_data_stat.all}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.true}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.percent}</TableCell>\r\n                  </TableRow>\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Номер</TableCell>\r\n                    <TableCell>Ост активаций</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.spam_list_data.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>{item.number}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      \r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users', data);\r\n    \r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSale2_New () {\r\n  return (\r\n    <SiteSale2_new_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Edit () {\r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSale2_edit_ promoId={promoId} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2 () {\r\n  return (\r\n    <SiteSale2_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Stat () {\r\n  return (\r\n    <SiteSale2_Stat_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_StatList () {\r\n  return (\r\n    <SiteSale2_StatList_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSaleMin_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_min',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: '',\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        /*{id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},*/\r\n        {id: 4, name: 'Отправить в смс'},\r\n        /*{id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},*/\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        //{id: 1, name: 'На товары'},\r\n        //{id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        //{id: 1, name: 'В определенные даты'},\r\n        //{id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        //{id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        //{id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 4,\r\n      promo_name: '',\r\n      generate_new: true,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 0,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 4,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:40',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 2,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: [],\r\n\r\n      order_id: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new_min');\r\n    \r\n    let thisDay = new Date();\r\n    let nextDay = new Date();\r\n    nextDay.setDate(nextDay.getDate() + 30);\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n      date_start: formatDate(thisDay),\r\n      date_end: formatDate(nextDay),\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList,\r\n        order_id: this.state.order_id\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo_min', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 && this.state.city != '' ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новый промокод контакт-центр</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput disabled={true} value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n            </Grid>\r\n            \r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox disabled={true} value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput disabled={true} value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput disabled={true} value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.order_id} func={ this.changeData.bind(this, 'order_id') } label='Номер заказа' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            }\r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Divider style={{ width: '100%', marginTop: 20 }} />\r\n\r\n            \r\n\r\n            <Divider style={{ width: '100%', marginTop: 20 }} />\r\n\r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSaleMin_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_min',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Редактирование промокода</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={6}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={6}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={6}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n\r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            \r\n          </Grid>\r\n\r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSaleMin_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_min',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: '',\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Промокоды контакт-центр</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_min/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_min/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_min/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSaleMin_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_min',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users_min', data);\r\n    \r\n    console.log( res )\r\n\r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(type, data){\r\n    this.setState({\r\n      [type]: formatDate(data)\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Выписанные промокоды контакт-центр</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSaleMin_New () {\r\n  return (\r\n    <SiteSaleMin_new_ />\r\n  );\r\n}\r\n\r\nexport function SiteSaleMin_Edit () {\r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSaleMin_edit_ promoId={promoId} />\r\n  );\r\n}\r\n\r\nexport function SiteSaleMin () {\r\n  return (\r\n    <SiteSaleMin_ />\r\n  );\r\n}\r\n\r\nexport function SiteSaleMin_StatList () {\r\n  return (\r\n    <SiteSaleMin_StatList_ />\r\n  );\r\n}","import React, { Suspense } from 'react';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport Container from '@mui/material/Container';\r\nimport Grid from '@mui/material/Grid';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nconst queryString = require('query-string');\r\n\r\n\r\nconst Home = React.lazy(() => import(\"../home\"));\r\nconst Auth = React.lazy(() => import(\"../auth\"));\r\nconst Reg = React.lazy(() => import(\"../registration\"));\r\n\r\n//import { Home } from '../home';\r\n//import { Auth } from '../auth';\r\n//import { Reg } from '../registration';\r\n\r\n//import { LiveOrders } from '../live_orders';\r\n//import { Events } from '../events';\r\n//import { RasByBill } from '../ras_by_bill';\r\n//import { CategoryItems } from '../category_items';\r\n//import { VendorModule } from '../vendor_module';\r\n\r\nconst LiveOrders = React.lazy(() => import(\"../live_orders\"));\r\nconst Events = React.lazy(() => import(\"../events\"));\r\nconst RasByBill = React.lazy(() => import(\"../ras_by_bill\"));\r\nconst CategoryItems = React.lazy(() => import(\"../category_items\"));\r\nconst VendorModule = React.lazy(() => import(\"../vendor_module\"));\r\n\r\nconst VendorItemPrice = React.lazy(() => import(\"../vendor_item_price\"));\r\nconst Tender = React.lazy(() => import(\"../tender\"));\r\nconst WorkSchedule = React.lazy(() => import(\"../work_schedule\"));\r\n\r\n//import { VendorItemPrice } from '../vendor_item_price';\r\n//import { Tender } from '../tender';\r\n//import { WorkSchedule } from '../work_schedule';\r\n\r\nimport { Revizion, RevizionNew } from '../revizion';\r\nimport { SiteSale2, SiteSale2_New, SiteSale2_Edit, SiteSale2_Stat, SiteSale2_StatList } from '../site_sale_2';\r\n\r\nconst DriveMapStatAll = React.lazy(() => import(\"../drive_map_stat_all\"));\r\nconst DriverStat = React.lazy(() => import(\"../driver_stat\"));\r\nconst Concenter = React.lazy(() => import(\"../concenter\"));\r\nconst SocialNetwork = React.lazy(() => import(\"../socialnetwork\"));\r\nconst CatWork = React.lazy(() => import(\"../cat_work\"));\r\n\r\n//import { DriveMapStatAll } from '../drive_map_stat_all';\r\n//import { DriverStat } from '../driver_stat';\r\n//import { Concenter } from '../concenter';\r\n//import { SocialNetwork } from '../socialnetwork';\r\n//import { CatWork } from '../cat_work';\r\n\r\nconst AppWorkPoint = React.lazy(() => import(\"../app_work_point\"));\r\nconst AppWork = React.lazy(() => import(\"../app_work\"));\r\nconst AppWorkShow = React.lazy(() => import(\"../app_work_show\"));\r\nconst SiteStatMarc = React.lazy(() => import(\"../site_stat_marc\"));\r\nconst AdvertisingCompany = React.lazy(() => import(\"../advertising_company\"));\r\n\r\n//import { AppWorkPoint } from '../app_work_point';\r\n//import { AppWork } from '../app_work';\r\n//import { AppWorkShow } from '../app_work_show';\r\n//import { SiteStatMarc } from '../site_stat_marc';\r\n//import { AdvertisingCompany } from '../advertising_company';\r\n\r\nconst RasBillAndCook = React.lazy(() => import(\"../ras_bill_and_cook\"));\r\nconst SkladItemsModule = React.lazy(() => import(\"../sklad_items_module\"));\r\nconst SiteUserManager = React.lazy(() => import(\"../site_user_manager\"));\r\nconst PromoItemsStat = React.lazy(() => import(\"../promo_items_stat\"));\r\nconst SiteItems = React.lazy(() => import(\"../site_items\"));\r\n\r\n//import { RasBillAndCook } from '../ras_bill_and_cook';\r\n//import { SkladItemsModule } from '../sklad_items_module';\r\n//import { SiteUserManager } from '../site_user_manager';\r\n//import { PromoItemsStat } from '../promo_items_stat';\r\n//import { SiteItems } from '../site_items';\r\n\r\nconst HotMap = React.lazy(() => import(\"../hot_map\"));\r\nconst ShowCook = React.lazy(() => import(\"../show_cook\"));\r\nconst СafeUprEdit = React.lazy(() => import(\"../cafe_upr_edit\"));\r\n\r\n\r\n//import { HotMap } from '../hot_map';\r\nimport { SiteSaleMin, SiteSaleMin_New, SiteSaleMin_Edit, SiteSaleMin_StatList } from '../site_sale_min';\r\n\r\n\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#c03',\r\n      },\r\n      def: {\r\n        main: '#353b48',\r\n        secondary: '#fff'\r\n      },\r\n    },\r\n});\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'header',\r\n      \r\n      open: false,\r\n      menu: [],\r\n      full_menu: [],\r\n      \r\n      left: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      menu: data.info.left_menu,\r\n      full_menu: data.info.full_menu,\r\n    })\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      console.log( json )\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  handleDrawerOpen(){\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  \r\n  handleDrawerClose(){\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  \r\n  logOut(){\r\n    localStorage.removeItem('token')\r\n      \r\n    setTimeout( () => {\r\n      window.location.pathname = '/'\r\n    }, 300)\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleDrawerOpen.bind(this)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\r\n              Dashboard\r\n            </Typography>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        \r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', padding: 10 }}>\r\n            \r\n              <Autocomplete\r\n                size=\"small\"\r\n                options={this.state.full_menu}\r\n                getOptionLabel={(option) => option.name}\r\n                onChange={(event, newValue) => {\r\n                  if( newValue ){\r\n                    window.location.pathname = \"/\"+newValue.key_query+\"/\";\r\n                  }\r\n                }}\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <TextField {...params} label=\"Поиск\" variant=\"outlined\" />}\r\n              />\r\n              \r\n              <IconButton onClick={this.handleDrawerClose.bind(this)}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            \r\n            { this.state.menu.map( (item, key) =>\r\n              <Accordion key={key} >\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>{ item.parent.name }</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  \r\n                  <List style={{ width: '100%' }}>\r\n                  \r\n                    { item.chaild.map( (it, k) =>\r\n                      <ListItem button key={k}>\r\n                        <Link to={\"/\"+it.key_query+\"/\"}>\r\n                          <ListItemText primary={ it.name } />\r\n                        </Link>\r\n                      </ListItem>\r\n                    ) }\r\n                  \r\n                  </List>\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n\r\n            \r\n\r\n            <Accordion>\r\n              <AccordionSummary onClick={this.logOut.bind(this)}>\r\n                <Typography>Выйти из аккаунта</Typography>\r\n              </AccordionSummary>\r\n            </Accordion>\r\n\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Status({ code, children }) {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function NotFound() {\r\n  return (\r\n    <Status code={404}>\r\n        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n    </Status>\r\n  );\r\n}\r\n\r\nexport function App () {\r\n    let history = useLocation();\r\n    let check_header = true;\r\n    \r\n    if( \r\n      history.pathname == '/auth/' || \r\n      history.pathname == '/auth' || \r\n      history.pathname == '/registration/' ||\r\n      history.pathname == '/registration'\r\n    ){\r\n      check_header = false;\r\n    }\r\n    \r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div>\r\n          { !check_header ? null :\r\n            <>\r\n              <CssBaseline />\r\n              <Header />\r\n            </>\r\n          }\r\n          <main style={{flexGrow: 1, overflow: 'auto'}}>\r\n            <Container maxWidth={false} style={{ marginTop: 80 }}>\r\n          \r\n              <Suspense fallback={<div>Loading...</div>}>\r\n                <Routes>\r\n                  \r\n                  <Route path={'/'} exact={ true } element={ <Home /> } />\r\n                  <Route path={'/auth'} exact={ true } element={ <Auth /> } />\r\n                  <Route path={'/registration'} exact={ true } element={ <Reg /> } />\r\n\r\n                  <Route path={'/live_orders'} exact={ true } element={ <LiveOrders /> } />\r\n                  <Route path={'/events'} exact={ true } element={ <Events /> } />\r\n                  <Route path={'/ras_by_bill'} exact={ true } element={ <RasByBill /> } />\r\n                  <Route path={'/category_items'} exact={ true } element={ <CategoryItems /> } />\r\n                  <Route path={'/vendor_module'} exact={ true } element={ <VendorModule /> } />\r\n\r\n                  <Route path={'/vendor_item_price'} exact={ true } element={ <VendorItemPrice /> } />\r\n                  <Route path={'/tender'} exact={ true } element={ <Tender /> } />\r\n                  <Route path={'/revizion'} exact={ true } element={ <Revizion /> } />\r\n                  <Route path={'/revizion/new'} exact={ true } element={ <RevizionNew /> } />\r\n                  <Route path={'/work_schedule'} exact={ true } element={ <WorkSchedule /> } />\r\n                  <Route path={'/site_sale_2'} exact={ true } element={ <SiteSale2 /> } />\r\n                  <Route path={'/site_sale_2/new'} exact={ true } element={ <SiteSale2_New /> } />\r\n                  <Route path={'/site_sale_2/edit/:promoId'} exact={ true } element={ <SiteSale2_Edit /> } />\r\n                  <Route path={'/site_sale_2/stat'} exact={ true } element={ <SiteSale2_Stat /> } />\r\n                  <Route path={'/site_sale_2/stat_list'} exact={ true } element={ <SiteSale2_StatList /> } />\r\n\r\n                  <Route path={'/drive_map_stat_all'} exact={ true } element={ <DriveMapStatAll /> } />\r\n                  <Route path={'/driver_stat'} exact={ true } element={ <DriverStat /> } />\r\n                  <Route path={'/concenter'} exact={ true } element={ <Concenter /> } />\r\n                  <Route path={'/socialnetwork'} exact={ true } element={ <SocialNetwork /> } />\r\n                  <Route path={'/cat_work'} exact={ true } element={ <CatWork /> } />\r\n\r\n                  <Route path={'/app_work_point'} exact={ true } element={ <AppWorkPoint /> } />\r\n                  <Route path={'/app_work'} exact={ true } element={ <AppWork /> } />\r\n                  <Route path={'/app_work_show'} exact={ true } element={ <AppWorkShow /> } />\r\n                  <Route path={'/site_stat_marc'} exact={ true } element={ <SiteStatMarc /> } />\r\n                  <Route path={'/advertising_company'} exact={ true } element={ <AdvertisingCompany /> } />\r\n\r\n                  <Route path={'/ras_bill_and_cook'} exact={ true } element={ <RasBillAndCook /> } />\r\n                  <Route path={'/sklad_items_module'} exact={ true } element={ <SkladItemsModule /> } />\r\n                  <Route path={'/site_user_manager'} exact={ true } element={ <SiteUserManager /> } />\r\n                  <Route path={'/promo_items_stat'} exact={ true } element={ <PromoItemsStat /> } />\r\n                  <Route path={'/site_items'} exact={ true } element={ <SiteItems /> } />\r\n\r\n                  <Route path={'/hot_map'} exact={ true } element={ <HotMap /> } />\r\n                  <Route path={'/site_sale_min'} exact={ true } element={ <SiteSaleMin /> } />\r\n                  <Route path={'/site_sale_min/new'} exact={ true } element={ <SiteSaleMin_New /> } />\r\n                  <Route path={'/site_sale_min/edit/:promoId'} exact={ true } element={ <SiteSaleMin_Edit /> } />\r\n                  <Route path={'/site_sale_min/stat_list'} exact={ true } element={ <SiteSaleMin_StatList /> } />\r\n                  \r\n                  <Route path={'/show_cook'} exact={ true } element={ <ShowCook /> } />\r\n                  <Route path={'/cafe_upr_edit'} exact={ true } element={ <СafeUprEdit /> } />\r\n                  \r\n                  <Route\r\n                    component={ () =>\r\n                      <Status code={404}>\r\n                        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n                          <Grid item xs={12}>\r\n                            <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Status>\r\n                    }\r\n                  />\r\n\r\n                </Routes>\r\n              </Suspense>\r\n\r\n            </Container>\r\n          </main>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n}","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\nimport { App } from './components/app';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst container = document.getElementById('app');\r\nconst root = createRoot(container);\r\n\r\nroot.render(<BrowserRouter><App/></BrowserRouter>);","import React from 'react';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\n\r\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class MyDaterange extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale} size=\"small\">\r\n        <DateRangePicker\r\n          \r\n          allowSameDateSelection={true}\r\n          showTodayButton={true}\r\n          startText={this.props.startText}\r\n          endText={this.props.endText}\r\n          value={this.props.value}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          mask=\"____-__-__\"\r\n          onChange={this.props.func}\r\n          renderInput={(startProps, endProps) => (\r\n            <React.Fragment>\r\n              <TextField style={{ width: '100%' }} {...startProps} />\r\n              <TextField style={{ width: '100%' }} {...endProps} />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          disableCloseOnSelect={true}\r\n          //multiple={true}\r\n          id={ this.props.id ?? null }\r\n          options={this.props.data}\r\n          getOptionLabel={(option) => option.name}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => parseInt(option.id) === parseInt(value.id) }\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite2 extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    if( this.props.id && this.props.id == 'promoName' ){\r\n      return (\r\n        <Stack spacing={3}>\r\n          <Autocomplete\r\n            freeSolo={ this.props.freeSolo ? this.props.freeSolo : false }\r\n            size=\"small\"\r\n            disableCloseOnSelect={true}\r\n            onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n            id={ this.props.id ?? null }\r\n            options={this.props.data}\r\n            \r\n\r\n            getOptionLabel={(option) => option.name}\r\n            value={this.props.value}\r\n            onChange={this.props.func}\r\n            //filterSelectedOptions\r\n            multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n            //isOptionEqualToValue={(option, value) => option.id === value.id}\r\n            renderInput={(params) => (\r\n              <TextField\r\n                {...params}\r\n                label={this.props.label}\r\n                placeholder={this.props.placeholder}\r\n              />\r\n            )}\r\n          />\r\n        </Stack>\r\n      )\r\n    }\r\n\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          freeSolo={ this.props.freeSolo ? this.props.freeSolo : false }\r\n          size=\"small\"\r\n          //disableCloseOnSelect={true}\r\n          onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n          id={ this.props.id ?? null }\r\n          \r\n          options={this.props.data.map((option) => option.name)}\r\n\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          //filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => option.id === value.id}\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MySelect extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n        <InputLabel>{this.props.label}</InputLabel>\r\n        <Select\r\n          value={this.props.value}\r\n          label={this.props.label}\r\n          disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n          onChange={ this.props.func }\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n        >\r\n          {this.props.is_none === false ? null : \r\n            <MenuItem value=\"\"><em>None</em></MenuItem>\r\n          }\r\n          \r\n          { this.props.data.map( (item, key) =>\r\n            <MenuItem key={key} value={item.id}>{item.name}</MenuItem>\r\n          ) }\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTextInput extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      type: 'text'\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField \r\n        label={this.props.label}\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n        onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n        disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n        variant=\"outlined\" \r\n        size={'small'} \r\n        color='primary'\r\n        multiline={this.props.multiline ? this.props.multiline : false}\r\n        maxRows={this.props.maxRows ? this.props.maxRows : 1}\r\n        type={ this.props.type ? this.props.type : this.state.type }\r\n        style={{ width: '100%' }} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTimePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      thisVal: ''\r\n    };\r\n  }\r\n  \r\n  onChange(event){\r\n    this.setState({\r\n      thisVal: event.target.value\r\n    })\r\n  }\r\n\r\n  onBlur(){\r\n    this.setState({\r\n      thisVal: ''\r\n    })\r\n\r\n    this.props.onBlur();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={this.props.label}\r\n        type=\"time\"\r\n        id={ this.props.id ? this.props.id : null }\r\n        value={ this.props.func ? this.props.value : this.state.thisVal }\r\n        style={{ width: '100%' }}\r\n        onChange={this.props.func ? this.props.func : this.onChange.bind(this)}\r\n        onBlur={this.props.onBlur ? this.onBlur.bind(this) : null}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        step={600}\r\n        inputProps={{\r\n          step: 600, // 5 min\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerNew extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} adapterLocale={ruLocale}>\r\n        <DatePicker\r\n          multiple={true}\r\n          mask=\"____-__-__\"\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          label={this.props.label}\r\n          value={formatDate(this.props.value)}\r\n          onChange={this.props.func}\r\n          onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n          renderInput={(params) => <TextField variant=\"outlined\" size={'small'} color='primary' style={{ width: '100%' }} {...params} />}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyCheckBox extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormGroup row style={ this.props.style ? this.props.style : {} }>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n              checked={this.props.value}\r\n              onChange={this.props.func}\r\n              color=\"primary\"\r\n              \r\n            />\r\n          }\r\n          label={this.props.label}\r\n        />\r\n      </FormGroup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class TextEditor extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <tinymce-editor\r\n        apiKey=\"r0ihgs4ukfpmudzw7aexxgb88tnx5jw26h1xx9x6409ji3gx\"\r\n        id={this.props.id}\r\n        menubar={true}\r\n        plugins=\"advlist autolink lists link image charmap print preview anchor\r\n        searchreplace visualblocks code fullscreen\r\n        insertdatetime media table paste code help wordcount\"\r\n        toolbar=\"undo redo | formatselect | bold italic backcolor |\r\n        alignleft aligncenter alignright alignjustify |\r\n        bullist numlist outdent indent | removeformat | help\"\r\n        content_style=\"body\r\n        {\r\n          font-family:Helvetica,Arial,sans-serif;\r\n          font-size:14px\r\n        }\"\r\n        >\r\n\r\n        {this.props.text}\r\n\r\n      </tinymce-editor>\r\n    )\r\n  }\r\n}","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1659358321068\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1659358321163\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1659358321167\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1659358321170\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","TabPanel","props","children","value","index","other","role","hidden","id","Box","sx","p","a11yProps","propTypes","PropTypes","Revizion_","method","data","setState","is_load","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","err","console","log","module_name","points","point","revList","chooseRev","search","items","pf","rec","items_b","pf_b","rec_b","all_data","chooseTab","this","getData","point_list","length","module_info","name","get_data_for_new_rev","document","title","event","target","getRevList","getDataRev","showReady","text","toLowerCase","filter","item","includes","rev_id","point_id","Backdrop","style","zIndex","open","CircularProgress","color","container","spacing","xs","sm","to","func","changePoint","bind","label","changeRev","Button","variant","onClick","updateData","Tabs","onChange","key","textColor","indicatorColor","centered","Tab","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","map","ei_name","React","RevizionNewItem","change","nextProps","nextState","Accordion","AccordionSummary","expandIcon","ExpandMore","width","AccordionDetails","counts","it","k","paddingTop","paddingBottom","size","need_pq","itemKey","TextField","fullWidth","clear","Close","copy","RevizionNew_","storages","modalDialog","key_item","key_data","allVal","parseFloat","is_show","titleDialog","push","new_counts","checkData","display","parseInt","saveData","copyData","clearData","SwipeableDrawer","anchor","onClose","onOpen","List","ListItem","button","ListItemText","primary","position","bottom","left","right","elevation","BottomNavigation","showLabels","BottomNavigationAction","newValue","icon","Restore","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Revizion","RevizionNew","MyDatePicker","format","multiple","sort","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","join","formatDateDot","formatDateName","m","SiteSale2_new_","click","modalText","cities","city","modalLink","where_promo_list","promo_action_list","sale_list","promo_conditions_list","promo_sale_list","type_sale_list","date_promo_list","type_order_list","where_order_list","promo_prizw_vk","spamNameSMS","auto_text","where_promo","promo_name","generate_new","count_action","promo_action","type_sale","promo_sale","sale_type","promo_conditions","price_start","price_end","date_promo","date_start","date_end","rangeDate","time_start","time_end","promo_length","promo_count","day_1","day_2","day_3","day_4","day_5","day_6","day_7","type_order","where_order","numberList","promo_desc_true","promo_desc_false","textSMS","addItem","addItemCount","addItemPrice","addItemAllPrice","itemsAdd","itemsAddPrice","cats","saleCat","saleItem","priceItem","conditionItems","testDate","createdPromo","Y","M","D","fullDate","generateTextDescFalse","generateTextDescTrue","count_promo","find","promo_items","promo_cat","dateList","toISOString","split","promo_vk_prize","cert_text","addr","promo_len","generate","promo_in_count","promo_type_sale","promo_type","promo_summ","promo_summ_to","promo_when","promo_type_order","promo_where","promo_city","promo_point","about_promo_text","condition_promo_text","promo_items_add","promo_items_sale","promo_conditions_items","date_between","text_err","promo_text","link","thisDay","nextDay","setDate","checked","textTrue","substring","itemText","dop_text","slice","textFalse","thisItems","item_id","thisItem","count","price","newItems","href","direction","justifyContent","changeData","changeDataCheck","Divider","marginTop","changeDataData","addItemAdd","delItemAdd","cursor","TableFooter","priceItemAdd","delItemPrice","changeDateRange","TextareaAutosize","placeholder","minRows","save","SiteSale2_edit_","promo_id","promoId","promo","parse","findItem","limDate","limit","date1","date2","time1","time2","d1","d2","d3","d4","d5","d6","d7","city_id","coment","condition_text","SiteSale2_","city_list","promoName","findPromoList","all_city_list","confirm","showPromoList","marginLeft","city_name","def_count","delPromo","SiteSale2_Stat_","spam_list","spam_id","spam_list_data","spam_list_data_stat","true","all","percent","stat","show","changeSpam","number","SiteSale2_StatList_","promo_list","dateStart","dateEnd","className","startText","endText","getUsers","backgroundColor","is_delete","Check","SiteSale2_New","SiteSale2_Edit","useParams","SiteSale2","SiteSale2_Stat","SiteSale2_StatList","SiteSaleMin_new_","order_id","disabled","SiteSaleMin_edit_","SiteSaleMin_","SiteSaleMin_StatList_","SiteSaleMin_New","SiteSaleMin_Edit","SiteSaleMin","SiteSaleMin_StatList","Home","Auth","Reg","LiveOrders","Events","RasByBill","CategoryItems","VendorModule","VendorItemPrice","Tender","WorkSchedule","DriveMapStatAll","DriverStat","Concenter","SocialNetwork","CatWork","AppWorkPoint","AppWork","AppWorkShow","SiteStatMarc","AdvertisingCompany","RasBillAndCook","SkladItemsModule","SiteUserManager","PromoItemsStat","SiteItems","HotMap","ShowCook","СafeUprEdit","theme","createTheme","palette","main","def","secondary","Header","menu","full_menu","info","left_menu","removeItem","AppBar","Toolbar","IconButton","edge","handleDrawerOpen","Menu","noWrap","flexGrow","Badge","badgeContent","Notifications","alignItems","padding","Autocomplete","options","getOptionLabel","option","key_query","renderInput","params","handleDrawerClose","ChevronLeft","parent","chaild","logOut","Status","code","render","staticContext","status","App","history","useLocation","check_header","ThemeProvider","CssBaseline","overflow","Container","maxWidth","Suspense","fallback","path","exact","element","getElementById","createRoot","MyDaterange","dateAdapter","AdapterDateFns","locale","ruLocale","allowSameDateSelection","showTodayButton","inputFormat","mask","startProps","endProps","MyAutocomplite","disableCloseOnSelect","filterSelectedOptions","isOptionEqualToValue","MySelect","is_none","MyTextInput","onBlur","multiline","maxRows","MyTimePicker","thisVal","InputLabelProps","shrink","step","inputProps","MyDatePickerNew","adapterLocale","MyCheckBox","row","control","TextEditor","apiKey","menubar","plugins","toolbar","content_style","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}