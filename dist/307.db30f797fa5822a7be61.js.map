{"version":3,"file":"307.db30f797fa5822a7be61.js","mappings":"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","sources":["webpack://package.json/./src/components/ras_by_bill/ras_by_bill.component.jsx","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.style.scss"],"sourcesContent":["import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass RasByBill_ extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'ras_by_bill',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      points: [],\r\n      point: [],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      items: [],\r\n      cats: [],\r\n      items_cat: [],\r\n      item_cat: 0,\r\n      \r\n      myItems: [],\r\n      \r\n      calendar: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      \r\n      items: data.items,\r\n      cats: data.cats,\r\n      items_cat: data.items_cat\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n  \r\n  changeItems(event, data){\r\n    this.setState({\r\n      myItems: data\r\n    })\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      item_cat: this.state.item_cat,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev', data);\r\n    \r\n    let summ = 0;\r\n    \r\n    res.items_ras.map( (item, key) => {\r\n      summ += parseFloat(item.sum);\r\n    } )\r\n    \r\n    this.setState({\r\n      resItems: {\r\n        items_ras: res.items_ras,\r\n        pf_ras: res.pf_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      catItems: null\r\n    })\r\n  }\r\n  \r\n  async getCats(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev_cat', data);\r\n    \r\n    \r\n    let summ = 0;\r\n    \r\n    res.rec_ras.map( (item, key) => {\r\n      summ += parseFloat(item.this_price);\r\n    } )\r\n    \r\n    this.setState({\r\n      catItems: {\r\n        count_pos: res.count_pos,\r\n        items_ras: res.items_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      resItems: null\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">  </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => {} } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} multiple={true} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.items_cat} multiple={false} value={this.state.item_cat} func={ (event) => {this.setState({ item_cat: event.target.value })} } label='Категория товара' />\r\n          </Grid>\r\n          \r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.items} multiple={true} value={this.state.myItems} func={ this.changeItems.bind(this) } label='Заготовки' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getItems.bind(this)}>Показать заготовки</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getCats.bind(this)}>Показать категории</Button>\r\n          </Grid>\r\n        \r\n        \r\n          { this.state.resItems && this.state.resItems.items_ras ?\r\n              \r\n            <>\r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Куплено по наклданым</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование товара</TableCell>\r\n                        <TableCell>Объем товра</TableCell>\r\n                        <TableCell>Объем заготовки</TableCell>\r\n                        <TableCell>Сумма</TableCell>\r\n                        <TableCell>Кол-во наклданых</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.items_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.name } </TableCell>\r\n                          <TableCell> { item.count_item + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name_pf } </TableCell>\r\n                          <TableCell> { item.sum } </TableCell>\r\n                          <TableCell> { item.count_bill } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                      <TableRow>\r\n                        <TableCell> Всего: </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> { this.state.resItems.full_sum } </TableCell>\r\n                        <TableCell> </TableCell>\r\n                      </TableRow>\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход заготовок (включая рецепты)</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                        <TableCell>Сумма роллов (примерно)</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.pf_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                          <TableCell> { item.price_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход рецептов</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.rec_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            </>\r\n              :\r\n            null              \r\n          }\r\n          \r\n          { this.state.catItems && this.state.catItems.rec_ras ?\r\n            <Grid item xs={12}>\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '50%' }}>Роллов: {this.state.catItems.count_pos.count_rolls}</Typography>\r\n                  <Typography style={{ width: '50%' }}>Пиццы: {this.state.catItems.count_pos.count_pizza}</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n              { this.state.catItems.rec_ras.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                  >\r\n                    <Typography style={{ width: '60%' }}>{item.name}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.this_price}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.price_by_items}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                    { item.parent_cat.map( (it, k) =>\r\n                      <Accordion key={k}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                        >\r\n                          <Typography style={{ width: '60%', paddingLeft: 20 }}>{it.name}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.this_price}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.price_by_items}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          <Accordion disabled={true}>\r\n                            <AccordionSummary>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товар</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товара</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Заготовок</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Накладных</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Сумма</Typography>\r\n                            </AccordionSummary>\r\n                          </Accordion>\r\n                          \r\n                          { it.items.map( (parent_items, parent_key) =>\r\n                            <Accordion key={parent_key} disabled={true}>\r\n                              <AccordionSummary>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_item} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_pf} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_bill}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.sum}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                          \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    ) }\r\n                    \r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) }\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '60%', marginRight: -15 }}>Всего:</Typography>\r\n                  <Typography style={{ width: '40%' }}>{ this.state.catItems.full_sum }</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n            </Grid>\r\n              :\r\n            null              \r\n          }\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function RasByBill() {\r\n  return (\r\n    <RasByBill_ />\r\n  );\r\n}","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1659313540463\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","RasByBill_","props","method","data","setState","is_load","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","st","type","setTimeout","window","location","pathname","err","console","log","module_name","modalDialog","points","point","date_start","date_end","rangeDate","items","cats","items_cat","item_cat","myItems","calendar","this","getData","module_info","name","document","title","event","target","value","start_date","end_date","summ","items_ras","map","item","key","parseFloat","sum","resItems","pf_ras","rec_ras","full_sum","toFixed","catItems","this_price","count_pos","Backdrop","style","zIndex","open","CircularProgress","color","Dialog","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","Grid","container","spacing","xs","sm","multiple","func","changePoint","bind","label","changeDateRange","changeItems","variant","getItems","getCats","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","count_item","ei_name","count_pf","ei_name_pf","count_bill","pf_name","count_rolls","price_rolls","Accordion","disabled","AccordionSummary","Typography","width","count_pizza","expandIcon","ExpandMore","price_by_items","AccordionDetails","parent_cat","it","k","paddingLeft","parent_items","parent_key","marginRight","React","RasByBill","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}