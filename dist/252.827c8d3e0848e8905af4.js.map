{"version":3,"file":"252.827c8d3e0848e8905af4.js","mappings":"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","sources":["webpack://package.json/./src/components/site_items/site_items.component.jsx","webpack://package.json/./src/components/site_items/site_items.style.scss"],"sourcesContent":["import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport DehazeIcon from '@mui/icons-material/Dehaze';\r\n\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Tab from '@mui/material/Tab';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass TableStages extends React.Component{\r\n  render (){\r\n    return (\r\n      <Table size='small' style={{ marginBottom: 50 }}>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Название</TableCell>\r\n            <TableCell>Количество</TableCell>\r\n            <TableCell></TableCell>\r\n            <TableCell>Сортировка</TableCell>\r\n            <TableCell></TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          { this.props.data.map( (item, key) =>\r\n            <TableRow key={key}>\r\n              <TableCell>{item.name}</TableCell>\r\n              <TableCell>\r\n                <MyTextInput label=\"\" value={item.count} func={ this.props.changeData.bind(this, this.props.type, this.props.arr, 'count', key) } />\r\n              </TableCell>\r\n              <TableCell>{item.ei_name}</TableCell>\r\n              <TableCell style={{ maxWidth: 100 }}>\r\n                <MyTextInput label=\"\" value={item.sort} func={ this.props.changeData.bind(this, this.props.type, this.props.arr, 'sort', key) } />\r\n              </TableCell>\r\n              <TableCell>\r\n                <CloseIcon onClick={this.props.delItem.bind(this, this.props.type, this.props.arr, key) } style={{ cursor: 'pointer' }} />\r\n              </TableCell>\r\n            </TableRow>\r\n          ) }\r\n        </TableBody>\r\n      </Table>\r\n    )\r\n  }\r\n}\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nclass SiteItems_ extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/site_img/upload_img_new.php\",\r\n  };\r\n  myDropzoneOld = null;\r\n  myDropzoneNew = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n      date_update: formatDate(new Date()),\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      //editItem: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0,\r\n\r\n\r\n\r\n\r\n\r\n      editItem: null,\r\n      item_rec: null,\r\n      item_pf: null,\r\n      item_items_all: [],\r\n      modalEdit: false,\r\n      modalNew: false,\r\n      types: [\r\n        { id: 1, name: 'Позиция (ролл)' },\r\n        { id: 2, name: 'Набор (сет)' },\r\n        { id: 3, name: 'Доп (палочки / соевый / ...)' },\r\n        { id: 4, name: 'Напиток' },\r\n      ],\r\n      cats: [],\r\n      cat_list: [],\r\n\r\n      ItemTab: '1',\r\n      ItemTab1: '0',\r\n\r\n      anchorEl: null,\r\n      openMenu: false,\r\n      openMenuType: null,\r\n      openMenuitem: null,\r\n\r\n      rec_stage_1: [],\r\n      rec_stage_2: [],\r\n      rec_stage_3: [],\r\n\r\n      pf_stage_1: [],\r\n      pf_stage_2: [],\r\n      pf_stage_3: [],\r\n\r\n      item_items: [],\r\n\r\n      myDropzoneOld: null,\r\n      myDropzoneNew: null,\r\n\r\n      is_snack: false,\r\n      textSnack: '',\r\n\r\n      searchPf: '',\r\n      item_pf_render: [],\r\n\r\n      searchItems: '',\r\n      item_items_render: [],\r\n\r\n      openHist: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n  }\r\n\r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }  \r\n\r\n  async openItem(item, type = 'origin'){\r\n    let data = {\r\n      id: item.id,\r\n      type: type,\r\n      hist_id: parseInt(this.state.ItemTab1)\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    var items_pf_stages_1 = [],\r\n\t\t\titems_pf_stages_2 = [],\r\n\t\t\titems_pf_stages_3 = [],\r\n\t\t\t\r\n\t\t\titems_rec_stages_1 = [],\r\n\t\t\titems_rec_stages_2 = [],\r\n\t\t\titems_rec_stages_3 = [],\r\n\r\n      items_items = [];\r\n\r\n    if(res.item_rec.stage_1){\r\n      res.item_rec.stage_1.map(function(item){\r\n        items_rec_stages_1.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n    if(res.item_rec.stage_2){\r\n      res.item_rec.stage_2.map(function(item){\r\n        items_rec_stages_2.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n    if(res.item_rec.stage_3){\r\n      res.item_rec.stage_3.map(function(item){\r\n        items_rec_stages_3.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n\r\n\r\n    if(res.item_pf.stage_1){\r\n\t\t\tres.item_pf.stage_1.map(function(item){\r\n\t\t\t\titems_pf_stages_1.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(res.item_pf.stage_2){\r\n\t\t\tres.item_pf.stage_2.map(function(item){\r\n\t\t\t\titems_pf_stages_2.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(res.item_pf.stage_3){\r\n\t\t\tres.item_pf.stage_3.map(function(item){\r\n\t\t\t\titems_pf_stages_3.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\r\n    \r\n\t\t\r\n\t\tif(res.item_items.this_items){\r\n\t\t\tres.item_items.this_items.map(function(item){\r\n\t\t\t\titems_items.push({item_id: item['item_id'], name: item['name'], count: item['count'], is_add: parseInt(item['is_add']) });\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\r\n\t\tthis.setState({\r\n      editItem: res.item,\r\n      item_rec: res.item_rec,\r\n      item_pf: res.item_pf,\r\n      item_pf_render: res.item_pf.all,\r\n      item_items_all: res.item_items.all_items,\r\n      item_items_render: res.item_items.all_items,\r\n\r\n      rec_stage_1: items_rec_stages_1,\r\n      rec_stage_2: items_rec_stages_2,\r\n      rec_stage_3: items_rec_stages_3,\r\n\r\n      pf_stage_1: items_pf_stages_1,\r\n      pf_stage_2: items_pf_stages_2,\r\n      pf_stage_3: items_pf_stages_3,\r\n\r\n      item_items: items_items,\r\n\r\n      openHist: res.hist,\r\n\r\n      modalEdit: true,\r\n\r\n      date_update: formatDate(res.item.date_start) ?? formatDate(new Date()),\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n      this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNew(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    var items_pf_stages_1 = [],\r\n\t\t\titems_pf_stages_2 = [],\r\n\t\t\titems_pf_stages_3 = [],\r\n\t\t\t\r\n\t\t\titems_rec_stages_1 = [],\r\n\t\t\titems_rec_stages_2 = [],\r\n\t\t\titems_rec_stages_3 = [],\r\n\r\n      items_items = [];\r\n\r\n    this.setState({\r\n      editItem: res.item,\r\n      item_rec: res.item_rec,\r\n      item_pf: res.item_pf,\r\n      item_pf_render: res.item_pf.all,\r\n      item_items_all: res.item_items.all_items,\r\n      item_items_render: res.item_items.all_items,\r\n\r\n      rec_stage_1: items_rec_stages_1,\r\n      rec_stage_2: items_rec_stages_2,\r\n      rec_stage_3: items_rec_stages_3,\r\n\r\n      pf_stage_1: items_pf_stages_1,\r\n      pf_stage_2: items_pf_stages_2,\r\n      pf_stage_3: items_pf_stages_3,\r\n\r\n      item_items: items_items,\r\n\r\n      modalNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n      this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editItem;\r\n    \r\n    if( data == 'category_id' ){\r\n      let val = event.target.value;\r\n      let type = 1;\r\n      let stol = vendor.stol;\r\n\r\n      //сеты\r\n      if( parseInt(val) == 4 ){\r\n        type = 2;\r\n        stol = -1;\r\n      }\r\n\r\n      //напитки\r\n      if( parseInt(val) == 6 ){\r\n        type = 4;\r\n        stol = 0;\r\n      }\r\n\r\n      //соуса\r\n      if( parseInt(val) == 7 ){\r\n        type = 3;\r\n        stol = 0;\r\n      }\r\n\r\n      vendor['type'] = type;\r\n      vendor['stol'] = stol;\r\n    }\r\n    \r\n    if( data == 'is_show' || data == 'show_site' || data == 'show_program' || data == 'is_new' || data == 'is_hit' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    \r\n    this.setState({ \r\n      editItem: vendor\r\n    })\r\n  }\r\n\r\n  closeMenu(){\r\n    this.setState({\r\n      anchorEl: null,\r\n      openMenu: false,\r\n      openMenuType: null,\r\n      openMenuitem: null\r\n    })\r\n  }\r\n\r\n  openMenu(type, item, event){\r\n    this.setState({\r\n      anchorEl: event.currentTarget,\r\n      openMenu: true,\r\n      openMenuType: type,\r\n      openMenuitem: item\r\n    })\r\n  }\r\n\r\n  chooseStage(stage){\r\n    if( this.state.openMenuType == 'rec' ){\r\n      let check = false;\r\n\r\n      let rec = stage == 1 ? this.state.rec_stage_1 : stage == 2 ? this.state.rec_stage_2 : stage == 3 ? this.state.rec_stage_3 : [];\r\n\r\n      rec = rec ? rec : [];\t\r\n      \r\n      rec.map((this_item) => {\r\n        if(parseInt(this.state.openMenuitem.id) == parseInt(this_item.item_id) ){\r\n          check = true;\r\n        }\r\n      })\r\n\r\n      if( !check ){\r\n\r\n        rec.push({item_id: this.state.openMenuitem.id, name: this.state.openMenuitem.name, count: 0, sort: 0, ei_name: this.state.openMenuitem.ei_name});\r\n\r\n        if( stage == 1 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_1: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 2 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_2: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 3 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_3: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n      }\r\n    }\r\n\r\n    if( this.state.openMenuType == 'pf' ){\r\n      let check = false;\r\n\r\n      let rec = stage == 1 ? this.state.pf_stage_1 : stage == 2 ? this.state.pf_stage_2 : stage == 3 ? this.state.pf_stage_3 : [];\r\n\r\n      rec = rec ? rec : [];\t\r\n      \r\n      rec.map((this_item) => {\r\n        if(parseInt(this.state.openMenuitem.id) == parseInt(this_item.item_id) ){\r\n          check = true;\r\n        }\r\n      })\r\n\r\n      if( !check ){\r\n\r\n        rec.push({item_id: this.state.openMenuitem.id, name: this.state.openMenuitem.name, count: 0, sort: 0, ei_name: this.state.openMenuitem.ei_name});\r\n\r\n        if( stage == 1 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_1: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 2 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_2: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 3 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_3: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n      }\r\n    }\r\n\r\n    this.closeMenu();\r\n  }\r\n\r\n  forwardItem(item){\r\n    let check = false;\r\n\r\n    let rec = this.state.item_items;\r\n\r\n    rec = rec ? rec : [];\t\r\n    \r\n    rec.map((this_item) => {\r\n      if(parseInt(item.id) == parseInt(this_item.item_id) ){\r\n        check = true;\r\n      }\r\n    })\r\n\r\n    if( !check ){\r\n\r\n      rec.push({item_id: item.id, name: item.name, count: 1, is_add: 0});\r\n\r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  changeData(type, arr, data, key, event){\r\n    if( type == 'rec' ){\r\n      let rec = arr == 'rec_stage_1' ? this.state.rec_stage_1 : arr == 'rec_stage_2' ? this.state.rec_stage_2 : arr == 'rec_stage_3' ? this.state.rec_stage_3 : [];\r\n\r\n      rec[ key ][ data ] = event.target.value;\r\n\r\n      if( arr == 'rec_stage_1' ){\r\n        this.setState({\r\n          rec_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_2' ){\r\n        this.setState({\r\n          rec_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_3' ){\r\n        this.setState({\r\n          rec_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'pf' ){\r\n      let rec = arr == 'pf_stage_1' ? this.state.pf_stage_1 : arr == 'pf_stage_2' ? this.state.pf_stage_2 : arr == 'pf_stage_3' ? this.state.pf_stage_3 : [];\r\n\r\n      rec[ key ][ data ] = event.target.value;\r\n\r\n      if( arr == 'pf_stage_1' ){\r\n        this.setState({\r\n          pf_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_2' ){\r\n        this.setState({\r\n          pf_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_3' ){\r\n        this.setState({\r\n          pf_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'item' ){\r\n      let rec = this.state.item_items;\r\n\r\n      if( data == 'is_add' ){\r\n        rec[ key ][ data ] = event.target.checked === true ? 1 : 0;\r\n      }else{\r\n        rec[ key ][ data ] = event.target.value;\r\n      }\r\n      \r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  delItem(type, arr, key){\r\n    if( type == 'rec' ){\r\n      let rec = arr == 'rec_stage_1' ? this.state.rec_stage_1 : arr == 'rec_stage_2' ? this.state.rec_stage_2 : arr == 'rec_stage_3' ? this.state.rec_stage_3 : [];\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      if( arr == 'rec_stage_1' ){\r\n        this.setState({\r\n          rec_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_2' ){\r\n        this.setState({\r\n          rec_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_3' ){\r\n        this.setState({\r\n          rec_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'pf' ){\r\n      let rec = arr == 'pf_stage_1' ? this.state.pf_stage_1 : arr == 'pf_stage_2' ? this.state.pf_stage_2 : arr == 'pf_stage_3' ? this.state.pf_stage_3 : [];\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      if( arr == 'pf_stage_1' ){\r\n        this.setState({\r\n          pf_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_2' ){\r\n        this.setState({\r\n          pf_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_3' ){\r\n        this.setState({\r\n          pf_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'item' ){\r\n      let rec = this.state.item_items;\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  saveImg(dropzone, name, id, type){\r\n    dropzone.on(\"sending\", (file, xhr, data) => {\r\n      let file_type = (file.name).split('.');\r\n      file_type = file_type[file_type.length - 1];\r\n      file_type = file_type.toLowerCase();\r\n      \r\n      data.append(\"filetype\", 'user_'+id+'.'+file_type);\r\n      data.append(\"filename\", 'user_'+id);\r\n      data.append(\"typeFile\", type);\r\n      data.append(\"name\", name);\r\n    });\r\n\r\n    dropzone.on(\"queuecomplete\", (data) => {\r\n\r\n      var check_img = false;\r\n\r\n      dropzone['files'].map(function(item, key){\r\n        if( item['status'] == \"error\" ){\r\n          check_img = true;\r\n        }\r\n      })\r\n      \r\n      if( check_img ){\r\n        alert('Ошибка при загрузке фотографии '+type)\r\n      }\r\n    })\r\n  }\r\n\r\n  async saveEditItem(){\r\n    if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        type = 'old';\r\n\r\n      this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n      });\r\n  \r\n      this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n  \r\n        var check_img = false;\r\n  \r\n        var myDropzoneNew = this.myDropzoneNew;\r\n\r\n        this.myDropzoneOld['files'].map((item, key) => {\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success' ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    if( this.myDropzoneNew['files'].length > 0 ){\r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        type = 'new';\r\n\r\n      this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n      });\r\n  \r\n      this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n        var check_img = false;\r\n  \r\n        var myDropzoneOld = this.myDropzoneOld;\r\n\r\n        this.myDropzoneNew['files'].map((item, key) => {  \r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success' ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveEditItem', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveEditItemHist(){\r\n    if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        date_update = this.state.date_update,\r\n        hist_id = this.state.editItem.hist_id,\r\n        type = 'old';\r\n\r\n      this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n        data.append(\"hist_id\", hist_id);\r\n        data.append(\"date_update\", date_update);\r\n      });\r\n  \r\n      this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n  \r\n        var check_img = false;\r\n  \r\n        var myDropzoneNew = this.myDropzoneNew;\r\n\r\n        this.myDropzoneOld['files'].map((item, key) => {\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( (myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success') || myDropzoneNew['files'].length == 0 ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab1: '0'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    if( this.myDropzoneNew['files'].length > 0 ){\r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        date_update = this.state.date_update,\r\n        hist_id = this.state.editItem.hist_id,\r\n        type = 'new';\r\n\r\n      this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n        data.append(\"hist_id\", hist_id);\r\n        data.append(\"date_update\", date_update);\r\n      });\r\n  \r\n      this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n        var check_img = false;\r\n  \r\n        var myDropzoneOld = this.myDropzoneOld;\r\n\r\n        this.myDropzoneNew['files'].map((item, key) => {  \r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( (myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success') || myDropzoneOld['files'].length == 0 ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab1: '0',\r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      dateUpdate: this.state.date_update,\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveEditItemHist', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneOld['files'].length == 0 && this.myDropzoneNew['files'].length == 0 ){\r\n        this.setState({ \r\n          modalEdit: false, \r\n          editItem: null, \r\n          ItemTab1: '0',\r\n          ItemTab: '1'\r\n        })\r\n\r\n        this.getItems();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewItemHist(){\r\n    let data = {\r\n      dateUpdate: this.state.date_update,\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveNewItemHist', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n        let name = this.state.editItem.name,\r\n          id = this.state.editItem.id,\r\n          date_update = this.state.date_update,\r\n          hist_id = res.hist_id,\r\n          type = 'old';\r\n  \r\n        this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n          data.append(\"hist_id\", hist_id);\r\n          data.append(\"date_update\", date_update);\r\n        });\r\n    \r\n        this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n    \r\n          var check_img = false;\r\n    \r\n          var myDropzoneNew = this.myDropzoneNew;\r\n  \r\n          this.myDropzoneOld['files'].map((item, key) => {\r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( (myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success') || myDropzoneNew['files'].length == 0 ){\r\n                this.setState({ \r\n                  modalEdit: false, \r\n                  editItem: null, \r\n                  ItemTab1: '0',\r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n  \r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        let name = this.state.editItem.name,\r\n          id = this.state.editItem.id,\r\n          date_update = this.state.date_update,\r\n          hist_id = res.hist_id,\r\n          type = 'new';\r\n  \r\n        this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n          data.append(\"hist_id\", hist_id);\r\n          data.append(\"date_update\", date_update);\r\n        });\r\n    \r\n        this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n          var check_img = false;\r\n    \r\n          var myDropzoneOld = this.myDropzoneOld;\r\n  \r\n          this.myDropzoneNew['files'].map((item, key) => {  \r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( (myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success') || myDropzoneOld['files'].length == 0 ){\r\n                this.setState({ \r\n                  modalEdit: false, \r\n                  editItem: null, \r\n                  ItemTab: '1',\r\n                  ItemTab1: '0'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneOld['files'].length == 0 && this.myDropzoneNew['files'].length == 0 ){\r\n        this.setState({ \r\n          modalEdit: false, \r\n          editItem: null, \r\n          ItemTab1: '0',\r\n          ItemTab: '1'\r\n        })\r\n\r\n        this.getItems();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewItem(){\r\n    let data = {\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveNewItem', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n        let name = this.state.editItem.name,\r\n          id = res.id,\r\n          type = 'old';\r\n  \r\n        this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n        });\r\n    \r\n        this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n    \r\n          var check_img = false;\r\n    \r\n          var myDropzoneNew = this.myDropzoneNew;\r\n  \r\n          this.myDropzoneOld['files'].map((item, key) => {\r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success' ){\r\n                this.setState({ \r\n                  modalNew: false, \r\n                  editItem: null, \r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n  \r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        let name = this.state.editItem.name,\r\n          id = res.id,\r\n          type = 'new';\r\n  \r\n        this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n        });\r\n    \r\n        this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n          var check_img = false;\r\n    \r\n          var myDropzoneOld = this.myDropzoneOld;\r\n  \r\n          this.myDropzoneNew['files'].map((item, key) => {  \r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success' ){\r\n                this.setState({ \r\n                  modalNew: false, \r\n                  editItem: null, \r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async delUpdateItemTrue(){\r\n    let data = {\r\n      item: this.state.editItem,\r\n    };\r\n\r\n    let res = await this.getData('delUpdateItem', data);\r\n\r\n    this.setState({\r\n      ItemTab1: '0'\r\n    })\r\n\r\n    setTimeout( () => {\r\n      //if( parseInt(this.state.ItemTab1) == -1 || parseInt(this.state.ItemTab1) == 0 ){\r\n        this.openItem(this.state.editItem, 'origin');\r\n      //}else{\r\n      //  this.openItem(this.state.editItem, 'hist');\r\n      //}\r\n    }, 300 )\r\n  }\r\n\r\n  delUpdateItem(){\r\n\r\n    const result = confirm('Точно удалить ?');\r\n    if (result) {\r\n      this.delUpdateItemTrue();\r\n    //document.querySelector('#result').textContent = 'Вы ответили, что Вам нравится JavaScript';\r\n    } else {\r\n    //document.querySelector('#result').textContent = 'Вы ответили, что Вам не нравится JavaScript';\r\n    }\r\n  }\r\n\r\n  changeTab(event, value){\r\n\r\n    this.setState({\r\n      myDropzoneOld: this.myDropzoneOld['files'],\r\n      myDropzoneNew: this.myDropzoneNew['files'],\r\n    })\r\n\r\n    this.setState({ \r\n      ItemTab: value \r\n    })\r\n\r\n    if( parseInt(value) == 1 ){\r\n      setTimeout( () => {\r\n        this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n        this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n\r\n        if( this.state.myDropzoneOld[0] ){\r\n          var mockFileOld = { \r\n            name: this.state.myDropzoneOld[0].name,\r\n            size: this.state.myDropzoneOld[0].size, \r\n            type: this.state.myDropzoneOld[0].type, \r\n            status: this.state.myDropzoneOld[0].status,\r\n            url: this.state.myDropzoneOld[0].dataURL,\r\n            dataURL: this.state.myDropzoneOld[0].dataURL\r\n          };\r\n\r\n          this.myDropzoneOld.emit(\"addedfile\", mockFileOld);\r\n          this.myDropzoneOld.emit(\"thumbnail\", mockFileOld, this.state.myDropzoneOld[0].dataURL);\r\n          this.myDropzoneOld.files.push(this.state.myDropzoneOld[0]);\r\n        }\r\n\r\n        if( this.state.myDropzoneNew[0] ){\r\n          var mockFileNew = { \r\n            name: this.state.myDropzoneNew[0].name,\r\n            size: this.state.myDropzoneNew[0].size, \r\n            type: this.state.myDropzoneNew[0].type, \r\n            status: this.state.myDropzoneNew[0].status,\r\n            url: this.state.myDropzoneNew[0].dataURL,\r\n            dataURL: this.state.myDropzoneNew[0].dataURL\r\n          };\r\n\r\n          this.myDropzoneNew.emit(\"addedfile\", mockFileNew);\r\n          this.myDropzoneNew.emit(\"thumbnail\", mockFileNew, this.state.myDropzoneNew[0].dataURL);\r\n          this.myDropzoneNew.files.push(this.state.myDropzoneNew[0]);\r\n        }\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n  changeTab1(event, value){\r\n    this.setState({ \r\n      ItemTab1: value \r\n    })\r\n\r\n    setTimeout( () => {\r\n      if( parseInt(value) == -1 || parseInt(value) == 0 ){\r\n        this.openItem(this.state.editItem, 'origin');\r\n      }else{\r\n        this.openItem(this.state.editItem, 'hist');\r\n      }\r\n    }, 300 )\r\n  }\r\n\r\n  closeSnack(){\r\n    this.setState({\r\n      is_snack: false,\r\n      textSnack: ''\r\n    })\r\n  }\r\n\r\n  openSnack(text){\r\n    this.setState({\r\n      is_snack: true,\r\n      textSnack: text\r\n    })\r\n  }\r\n\r\n  searchPf(event){\r\n    let all_data = this.state.item_pf.all;\r\n    let name = event.target.value;\r\n\r\n    this.setState({\r\n      searchPf: name\r\n    })\r\n\r\n    let data_to_render = [];\r\n\r\n    all_data.map( (item) => {\r\n      if( item.name.toLowerCase().indexOf(name.toLowerCase()) !== -1 ){\r\n        data_to_render.push(item)\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      item_pf_render: data_to_render\r\n    })\r\n  }\r\n\r\n  searchItems(event){\r\n    let all_data = this.state.item_items_all;\r\n    let name = event.target.value;\r\n\r\n    this.setState({\r\n      searchItems: name\r\n    })\r\n\r\n    let data_to_render = [];\r\n\r\n    all_data.map( (item) => {\r\n      if( item.name.toLowerCase().indexOf(name.toLowerCase()) !== -1 ){\r\n        data_to_render.push(item)\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      item_items_render: data_to_render\r\n    })\r\n  }\r\n\r\n  closeEdit(){\r\n    this.setState({ \r\n      modalEdit: false, \r\n      editItem: null, \r\n      ItemTab: '1',\r\n      ItemTab1: '0',\r\n      date_update: formatDate(new Date()),\r\n    })\r\n\r\n    this.getItems();\r\n  }\r\n\r\n  closeNew(){\r\n    this.setState({ \r\n      modalNew: false, \r\n      editItem: null, \r\n      ItemTab: '1' \r\n    })\r\n\r\n    this.getItems();\r\n  }\r\n\r\n  changeSort(key_cat, key_item, event){\r\n    let value = event.target.value;\r\n    let data = this.state.cats;\r\n    \r\n    data[ key_cat ]['items'][ key_item ]['sort'] = value;\r\n\r\n    this.setState({\r\n      cats: data\r\n    })\r\n  }\r\n\r\n  async changeDateUpdate(key_cat, key_item, update_id, event){\r\n    let value = event;\r\n    let cats = this.state.cats;\r\n    \r\n    cats[ key_cat ]['items'][ key_item ]['date_update'] = formatDate(value);\r\n\r\n    this.setState({\r\n      cats: cats\r\n    })\r\n\r\n    let data = {\r\n      update_id: update_id,\r\n      dateUpdate: formatDate(value)\r\n    };\r\n\r\n    let res = await this.getData('saveUpdateDate', data);\r\n  }\r\n\r\n  async saveSort(item_id, event){\r\n    let data = {\r\n      id: item_id,\r\n      sort: event.target.value\r\n    };\r\n\r\n    let res = await this.getData('saveSort', data);\r\n  }\r\n\r\n  async saveUpdateDate(item_id, update_id, event){\r\n    let data = {\r\n      id: item_id,\r\n      update_id: update_id,\r\n      dateUpdate: formatDate(event)\r\n    };\r\n\r\n    console.log( data )\r\n\r\n    let res = await this.getData('saveUpdateDate', data);\r\n  }\r\n\r\n  async trueUpdateVK(){\r\n    let res = await this.getData('updateVK', {});\r\n  }\r\n\r\n  updateVK(){\r\n    const result = confirm('Точно обновить товары в VK ?');\r\n    if(result){\r\n      //true\r\n\r\n      this.trueUpdateVK();\r\n    } else {\r\n      //false\r\n    }\r\n  }\r\n\r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n\r\n  render(){\r\n    const action = (\r\n      <React.Fragment>\r\n        <IconButton\r\n          size=\"small\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={this.closeSnack.bind(this)}\r\n        >\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </React.Fragment>\r\n    );\r\n  \r\n\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99999 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n          open={this.state.is_snack}\r\n          autoHideDuration={6000}\r\n          onClose={this.closeSnack.bind(this)}\r\n          message={this.state.textSnack}\r\n          action={action}\r\n        />\r\n        \r\n        <Dialog\r\n          open={this.state.modalEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ this.closeEdit.bind(this) }\r\n        >\r\n          <DialogTitle>Редактирвоание товара</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              {this.state.editItem && this.state.modalEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <TabContext value={this.state.ItemTab1}>\r\n                      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                        <TabList onChange={ this.changeTab1.bind(this) } variant=\"fullWidth\">\r\n                          <Tab label=\"Текущая\" value=\"0\" />\r\n                          { this.state.openHist.map( (item, key) => \r\n                            <Tab key={key} label={item.date_start} value={item.id} />\r\n                          ) }\r\n                          <Tab label=\"Добавить\" value=\"-1\" />\r\n                        </TabList>\r\n                      </Box>\r\n                    </TabContext>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TabContext value={this.state.ItemTab}>\r\n                          <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                            <TabList onChange={ this.changeTab.bind(this) } variant=\"fullWidth\">\r\n                              <Tab label=\"Основные\" value=\"1\" />\r\n                              <Tab label=\"Рецепты\" value=\"2\" />\r\n                              <Tab label=\"Заготовки\" value=\"3\" />\r\n                              <Tab label=\"Позиции\" value=\"4\" />\r\n                            </TabList>\r\n                          </Box>\r\n                          <TabPanel value=\"1\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { parseInt( this.state.ItemTab1 ) == -1 || parseInt( this.state.ItemTab1 ) > 0 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3} justifyContent=\"center\">\r\n                                    <Grid item xs={4}>\r\n                                      <MyDatePickerNew label=\"Дата обновления\" value={ this.state.date_update } func={ this.changeDateRange.bind(this, 'date_update') } />\r\n                                    </Grid>\r\n\r\n                                    { parseInt( this.state.ItemTab1 ) > 0 ?\r\n                                      <Grid item xs={4}>\r\n                                        <Button onClick={this.delUpdateItem.bind(this)} style={{ backgroundColor: '#c03', color: '#fff', height: '100%' }}><CloseIcon /></Button>\r\n                                      </Grid>\r\n                                        :\r\n                                      null\r\n                                    }\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                  </Grid>\r\n                                  \r\n                                  { parseInt(this.state.editItem.category_id) == 6 ?\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Объем\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                    </Grid>\r\n                                      :\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                    </Grid>\r\n                                  }\r\n\r\n                                  { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                    </Grid>\r\n                                      :\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                    </Grid>\r\n                                  }\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              \r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    { this.state.editItem.img_new.length > 0 ?\r\n                                      <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                        :\r\n                                      <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                    }\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (1:1) (пример: 2000х2000) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    { this.state.editItem.img_app.length > 0 ?\r\n                                      <picture>\r\n                                        <source srcSet={`\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_276x276.jpg 138w, \r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_292x292.jpg 146w,\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_366x366.jpg 183w,\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_466x466.jpg 233w,\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_585x585.jpg 292w\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_732x732.jpg 366w,\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_1168x1168.jpg 584w,\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_1420x1420.jpg 760w,\r\n                                            https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_2000x2000.jpg 1875w`} \r\n                                            sizes=\"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px\" />\r\n                                        <img style={{ maxHeight: 300 }} src={`https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_276х276.jpg`} />\r\n                                      </picture>\r\n                                        :\r\n                                      <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                    }\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Короткое описание (в списке)\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Полное описание (в карточке)\" value={ this.state.editItem.marc_desc_full } func={ this.changeItem.bind(this, 'marc_desc_full') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"2\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                      { this.state.item_rec.all.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <DehazeIcon onClick={this.openMenu.bind(this, 'rec', item)} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <TableStages title={'1 этап'} type={'rec'} arr={'rec_stage_1'} data={this.state.rec_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'2 этап'} type={'rec'} arr={'rec_stage_2'} data={this.state.rec_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'3 этап'} type={'rec'} arr={'rec_stage_3'} data={this.state.rec_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                </Grid>\r\n                              }\r\n                              \r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"3\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_pf ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={2}>\r\n                                          <MyTextInput label=\"Поиск\" value={ this.state.searchPf } func={ this.searchPf.bind(this) } />\r\n                                        </TableCell>\r\n                                      </TableRow>\r\n\r\n                                      { this.state.item_pf_render.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <DehazeIcon onClick={this.openMenu.bind(this, 'pf', item)} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <TableStages title={'1 этап'} type={'pf'} arr={'pf_stage_1'} data={this.state.pf_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'2 этап'} type={'pf'} arr={'pf_stage_2'} data={this.state.pf_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'3 этап'} type={'pf'} arr={'pf_stage_3'} data={this.state.pf_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                </Grid>\r\n                              }\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"4\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_pf ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={2}>\r\n                                          <MyTextInput label=\"Поиск\" value={ this.state.searchItems } func={ this.searchItems.bind(this) } />\r\n                                        </TableCell>\r\n                                      </TableRow>\r\n\r\n                                      { this.state.item_items_render.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <AddIcon onClick={this.forwardItem.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n                                      </TableRow>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell>Количество</TableCell>\r\n                                        <TableCell>Авт. добавление</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                      { this.state.item_items.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <MyTextInput label=\"\" value={item.count} func={ this.changeData.bind(this, 'item', 'item_items', 'count', key) } />\r\n                                          </TableCell>\r\n                                          <TableCell>\r\n                                            <MyCheckBox label=\"\" value={ parseInt(item.is_add) == 1 ? true : false } func={ this.changeData.bind(this, 'item', 'item_items', 'is_add', key) } />\r\n                                          </TableCell>\r\n                                          <TableCell>\r\n                                            <CloseIcon onClick={ this.delItem.bind(this, 'item', '', key) } style={{ cursor: 'pointer' }} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                        </TabContext>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                    <Menu\r\n                      anchorEl={this.state.anchorEl}\r\n                      open={this.state.openMenu}\r\n                      onClose={this.closeMenu.bind(this)}\r\n                    >\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 1)}>1 этап</MenuItem>\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 2)}>2 этап</MenuItem>\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 3)}>3 этап</MenuItem>\r\n                    </Menu>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            { parseInt( this.state.ItemTab1 ) == -1 ?\r\n              <Button onClick={this.saveNewItemHist.bind(this)} color=\"primary\">Сохранить</Button>\r\n                :\r\n                parseInt( this.state.ItemTab1 ) == 0 ?\r\n                  <Button onClick={this.saveEditItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n                    :\r\n                  <Button onClick={this.saveEditItemHist.bind(this)} color=\"primary\">Сохранить</Button>\r\n            }\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ this.closeNew.bind(this) }\r\n        >\r\n          <DialogTitle>Новый товар</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editItem && this.state.modalNew ?\r\n                  \r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <TabContext value={this.state.ItemTab}>\r\n                            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                              <TabList onChange={ this.changeTab.bind(this) } variant=\"fullWidth\">\r\n                                <Tab label=\"Основные\" value=\"1\" />\r\n                                <Tab label=\"Рецепты\" value=\"2\" />\r\n                                <Tab label=\"Заготовки\" value=\"3\" />\r\n                                <Tab label=\"Позиции\" value=\"4\" />\r\n                              </TabList>\r\n                            </Box>\r\n                            <TabPanel value=\"1\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MySelect data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MySelect data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                    </Grid>\r\n                                    { parseInt(this.state.editItem.category_id) == 6 ?\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Объем\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                      </Grid>\r\n                                        :\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                      </Grid>\r\n                                    }\r\n                                    { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                      </Grid>\r\n                                        :\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                      </Grid>\r\n                                    }\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                \r\n\r\n                                { parseInt( this.state.editItem.type ) != 2 ?\r\n                                  <Grid item xs={12}>\r\n                                    <Grid container spacing={3}>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                { parseInt( this.state.editItem.type ) != 2 ?\r\n                                  <Grid item xs={12}>\r\n                                    <Grid container spacing={3}>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                    </Grid>\r\n                                  \r\n\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      { this.state.editItem.img_new.length > 0 ?\r\n                                        <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                          :\r\n                                        <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                      }\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <Typography>Картинка соотношением сторон (1:1) (пример: 2000х2000) только JPG</Typography>\r\n                                    </Grid>\r\n                                  \r\n\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      { this.state.editItem.img_app.length > 0 ?\r\n                                        <picture>\r\n                                          <source srcSet={`\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_276x276.jpg 138w, \r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_292x292.jpg 146w,\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_366x366.jpg 183w,\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_466x466.jpg 233w,\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_585x585.jpg 292w\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_732x732.jpg 366w,\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_1168x1168.jpg 584w,\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_1420x1420.jpg 760w,\r\n                                              https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_2000x2000.jpg 1875w`} \r\n                                              sizes=\"(max-width=1439px) 233px, (max-width=1279px) 218px, 292px\" />\r\n                                          <img style={{ maxHeight: 300 }} src={`https://storage.yandexcloud.net/site-img/${this.state.editItem.img_app}_276x276.jpg`} />\r\n                                        </picture>\r\n                                          :\r\n                                        <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                      }\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Короткое описание (в карточке)\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Полное описание (в карточке)\" value={ this.state.editItem.marc_desc_full } func={ this.changeItem.bind(this, 'marc_desc_full') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"2\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n                                        { this.state.item_rec.all.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <DehazeIcon onClick={this.openMenu.bind(this, 'rec', item)} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <TableStages title={'1 этап'} type={'rec'} arr={'rec_stage_1'} data={this.state.rec_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'2 этап'} type={'rec'} arr={'rec_stage_2'} data={this.state.rec_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'3 этап'} type={'rec'} arr={'rec_stage_3'} data={this.state.rec_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  </Grid>\r\n                                }\r\n                                \r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"3\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_pf ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={2}>\r\n                                            <MyTextInput label=\"Поиск\" value={ this.state.searchPf } func={ this.searchPf.bind(this) } />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n\r\n                                        { this.state.item_pf_render.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <DehazeIcon onClick={this.openMenu.bind(this, 'pf', item)} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <TableStages title={'1 этап'} type={'pf'} arr={'pf_stage_1'} data={this.state.pf_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'2 этап'} type={'pf'} arr={'pf_stage_2'} data={this.state.pf_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'3 этап'} type={'pf'} arr={'pf_stage_3'} data={this.state.pf_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  </Grid>\r\n                                }\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"4\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_pf ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={2}>\r\n                                            <MyTextInput label=\"Поиск\" value={ this.state.searchItems } func={ this.searchItems.bind(this) } />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n\r\n                                        { this.state.item_items_render.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <AddIcon onClick={this.forwardItem.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell>Количество</TableCell>\r\n                                          <TableCell>Авт. добавление</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n                                        { this.state.item_items.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <MyTextInput label=\"\" value={item.count} func={ this.changeData.bind(this, 'item', 'item_items', 'count', key) } />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                              <MyCheckBox label=\"\" value={ parseInt(item.is_add) == 1 ? true : false } func={ this.changeData.bind(this, 'item', 'item_items', 'is_add', key) } />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                              <CloseIcon onClick={ this.delItem.bind(this, 'item', '', key) } style={{ cursor: 'pointer' }} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                          </TabContext>\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n\r\n                      <Menu\r\n                        anchorEl={this.state.anchorEl}\r\n                        open={this.state.openMenu}\r\n                        onClose={this.closeMenu.bind(this)}\r\n                      >\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 1)}>1 этап</MenuItem>\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 2)}>2 этап</MenuItem>\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 3)}>3 этап</MenuItem>\r\n                      </Menu>\r\n\r\n                    </Grid>\r\n                  \r\n                  \r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <Button onClick={this.openNew.bind(this)} color=\"primary\" variant='contained'>Новый товар</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Button onClick={this.updateVK.bind(this)} color=\"primary\" variant='contained'>Обновить товары VK</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.length == 0 ? null :\r\n\r\n              this.state.cats.map( (cat, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>{cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                    \r\n                    <Table>\r\n                    \r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell style={{ width: '2%' }}>id</TableCell>\r\n\r\n                          <TableCell style={{ width: '23%' }}>Название</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Ближайшее обновление</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сортировка</TableCell>\r\n\r\n                          <TableCell style={{ width: '15%' }}>Активность</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сайт</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Склад</TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n\r\n                      <TableBody>\r\n                        \r\n                        { cat.items.map( (it, k) =>\r\n                          <TableRow key={k}>\r\n                            <TableCell>{it.id}</TableCell>\r\n                            <TableCell onClick={this.openItem.bind(this, it, 'origin')}>{it.name}</TableCell>\r\n                            { it.date_update ?\r\n                              <TableCell>\r\n                                <MyDatePickerNew label=\"\" value={ it.date_update } func={ this.changeDateUpdate.bind(this, key, k, it.date_update_id) } />\r\n                              </TableCell>\r\n                                :\r\n                              <TableCell></TableCell>\r\n                            }\r\n                            <TableCell>\r\n                              <MyTextInput label=\"\" value={it.sort} func={ this.changeSort.bind(this, key, k) } onBlur={this.saveSort.bind(this, it.id)} />\r\n                            </TableCell>\r\n\r\n                            <TableCell> \r\n                              { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.show_site) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.show_program) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n\r\n                            \r\n                          </TableRow>           \r\n                        ) }\r\n                      \r\n                      </TableBody>\r\n                    \r\n                    </Table>\r\n\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              )\r\n              \r\n            }\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteItems() {\r\n  return (\r\n    <SiteItems_ />\r\n  );\r\n}","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1657715381103\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","TableStages","Table","size","style","marginBottom","TableHead","TableRow","TableCell","colSpan","textAlign","this","props","title","TableBody","data","map","item","key","name","label","value","count","func","changeData","bind","type","arr","ei_name","maxWidth","sort","Close","onClick","delItem","cursor","React","formatDate","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","SiteItems_","autoProcessQueue","autoQueue","maxFiles","timeout","parallelUploads","acceptedFiles","addRemoveLinks","url","method","is_load","setState","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","st","setTimeout","window","location","pathname","err","console","log","module_name","allItems","vendor_items","modalItemEdit","modalItemNew","itemEdit","itemName","checkArtDialog","checkArtList","freeItems","date_update","point_list","point_list_render","point_id","app_list","app_id","users","modalUserEdit","modalUserNew","textDel","delModal","graphModal","graphType","editItem","item_rec","item_pf","item_items_all","modalEdit","modalNew","types","id","cats","cat_list","ItemTab","ItemTab1","anchorEl","openMenu","openMenuType","openMenuitem","rec_stage_1","rec_stage_2","rec_stage_3","pf_stage_1","pf_stage_2","pf_stage_3","item_items","myDropzoneOld","myDropzoneNew","is_snack","textSnack","searchPf","item_pf_render","searchItems","item_items_render","openHist","getData","module_info","document","hist_id","parseInt","items_pf_stages_1","items_pf_stages_2","items_pf_stages_3","items_rec_stages_1","items_rec_stages_2","items_rec_stages_3","items_items","stage_1","push","item_id","stage_2","stage_3","this_items","is_add","all","all_items","hist","date_start","Dropzone","dropzoneOptions","event","vendor","val","target","stol","checked","currentTarget","stage","check","rec","this_item","closeMenu","splice","dropzone","on","file","xhr","file_type","split","toLowerCase","append","check_img","alert","getItems","text","openSnack","processQueue","dateUpdate","openItem","confirm","delUpdateItemTrue","mockFileOld","status","dataURL","emit","files","mockFileNew","all_data","data_to_render","indexOf","key_cat","key_item","update_id","trueUpdateVK","action","IconButton","color","closeSnack","fontSize","Backdrop","open","zIndex","CircularProgress","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","onClose","message","Dialog","fullWidth","closeEdit","DialogTitle","DialogContent","paddingBottom","paddingTop","Grid","container","spacing","xs","TabContext","Box","sx","borderBottom","borderColor","TabList","onChange","changeTab1","variant","Tab","changeTab","TabPanel","justifyContent","changeDateRange","Button","delUpdateItem","backgroundColor","height","sm","changeItem","short_name","disabled","category_id","art","weight","count_part","size_pizza","protein","fat","carbohydrates","kkal","time_stage_1","time_stage_2","time_stage_3","Typography","img_new","src","img_new_update","maxHeight","className","width","minHeight","img_app","srcSet","sizes","tmp_desc","marc_desc","marc_desc_full","is_new","is_hit","is_show","show_site","show_program","Dehaze","Add","forwardItem","Menu","MenuItem","chooseStage","DialogActions","saveNewItemHist","saveEditItem","saveEditItemHist","closeNew","saveNewItem","openNew","updateVK","cat","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","overflow","items","it","k","changeDateUpdate","date_update_id","changeSort","onBlur","saveSort","Visibility","VisibilityOff","SiteItems","cssReload","hot","dispose","accept","undefined"],"sourceRoot":""}