{"version":3,"file":"main.9d9a7ab686bc8d54a7bd.js","mappings":"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","sources":["webpack://package.json/./src/components/home/home.component.jsx","webpack://package.json/./src/components/auth/auth.component.jsx","webpack://package.json/./src/components/registration/registration.component.jsx","webpack://package.json/./src/stores/elements.js","webpack://package.json/./src/components/live_orders/live_orders.component.jsx","webpack://package.json/./src/components/events/events.component.jsx","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.component.jsx","webpack://package.json/./src/components/category_items/category_items.component.jsx","webpack://package.json/./src/components/vendor_module/vendor_module.component.jsx","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.component.jsx","webpack://package.json/./src/components/tender/tender.component.jsx","webpack://package.json/./src/components/revizion/revizion.component.jsx","webpack://package.json/./src/components/work_schedule/work_schedule.component.jsx","webpack://package.json/./src/components/site_sale_2/site_sale_2.component.jsx","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.component.jsx","webpack://package.json/./src/components/driver_stat/driver_stat.component.jsx","webpack://package.json/./src/components/concenter/concenter.component.jsx","webpack://package.json/./src/components/socialnetwork/socialnetwork.component.jsx","webpack://package.json/./src/components/cat_work/cat_work.component.jsx","webpack://package.json/./src/components/app_work_point/app_work_point.component.jsx","webpack://package.json/./src/components/app_work/app_work.component.jsx","webpack://package.json/./src/components/app_work_show/app_work_show.component.jsx","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.component.jsx","webpack://package.json/./src/components/advertising_company/advertising_company.component.jsx","webpack://package.json/./src/components/ras_bill_and_cook/ras_bill_and_cook.component.jsx","webpack://package.json/./src/components/sklad_items_module/sklad_items_module.component.jsx","webpack://package.json/./src/components/site_user_manager/site_user_manager.component.jsx","webpack://package.json/./src/components/promo_items_stat/promo_items_stat.component.jsx","webpack://package.json/./src/components/site_items/site_items.component.jsx","webpack://package.json/./src/components/app/app.component.jsx","webpack://package.json/./src/index.prod.js","webpack://package.json/./src/components/advertising_company/advertising_company.style.scss","webpack://package.json/./src/components/app/app.style.scss?aab7","webpack://package.json/./src/components/app_work/app_work.style.scss","webpack://package.json/./src/components/app_work_point/app_work_point.style.scss","webpack://package.json/./src/components/app_work_show/app_work_show.style.scss","webpack://package.json/./src/components/auth/auth.style.scss","webpack://package.json/./src/components/cat_work/cat_work.style.scss","webpack://package.json/./src/components/category_items/category_items.style.scss","webpack://package.json/./src/components/concenter/concenter.style.scss","webpack://package.json/./src/components/drive_map_stat_all/drive_map_stat_all.style.scss","webpack://package.json/./src/components/driver_stat/driver_stat.style.scss","webpack://package.json/./src/components/events/events.style.scss?0175","webpack://package.json/./src/components/home/home.style.scss","webpack://package.json/./src/components/live_orders/live_orders.style.scss","webpack://package.json/./src/components/promo_items_stat/promo_items_stat.style.scss","webpack://package.json/./src/components/ras_bill_and_cook/ras_bill_and_cook.style.scss","webpack://package.json/./src/components/ras_by_bill/ras_by_bill.style.scss","webpack://package.json/./src/components/registration/registration.style.scss","webpack://package.json/./src/components/revizion/revizion.style.scss?88b3","webpack://package.json/./src/components/site_items/site_items.style.scss","webpack://package.json/./src/components/site_sale_2/site_sale_2.style.scss","webpack://package.json/./src/components/site_stat_marc/site_stat_marc.style.scss","webpack://package.json/./src/components/site_user_manager/site_user_manager.style.scss","webpack://package.json/./src/components/sklad_items_module/sklad_items_module.style.scss","webpack://package.json/./src/components/socialnetwork/socialnetwork.style.scss","webpack://package.json/./src/components/tender/tender.style.scss?9070","webpack://package.json/./src/components/vendor_item_price/vendor_item_price.style.scss","webpack://package.json/./src/components/vendor_module/vendor_module.style.scss","webpack://package.json/./src/components/work_schedule/work_schedule.style.scss?55ba"],"sourcesContent":["import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class Home extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'home',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12} style={{ height: '100vh' }}>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class Auth extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n      \r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async auth(){\r\n    let data = {\r\n      login: document.getElementById('phone').value,\r\n      pwd: document.getElementById('password').value\r\n    };\r\n    \r\n    let res = await this.getData('auth', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      setTimeout( () => {\r\n        this.setState({ \r\n          modalDialog: true,\r\n          dialogTitle: 'Предупреждение',\r\n          dialogText: res.text\r\n        })\r\n      }, 500 )\r\n    }else{\r\n      localStorage.setItem('token', res.token)\r\n      \r\n      setTimeout( () => {\r\n        window.location.pathname = '/'\r\n      }, 300)\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', }}>\r\n              <Avatar style={{ borderRadius: 0, width: '100%', height: 150, margin: 0, backgroundColor: '#fff' }}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              <form style={{ width: '100%' }} noValidate>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"phone\"\r\n                  label=\"Номер телефона\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"phone\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  size=\"small\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Пароль\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"current-password\"\r\n                />\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ marginTop: 10, marginBottom: 10 }}\r\n                  onClick={ this.auth.bind(this) }\r\n                >\r\n                  Войти\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/registration\" style={{ color: '#c03' }}>Восстановить пароль</a>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Avatar from '@mui/material/Avatar';\r\nimport TextField from '@mui/material/TextField';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Stepper from '@mui/material/Stepper';\r\nimport Step from '@mui/material/Step';\r\nimport StepLabel from '@mui/material/StepLabel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class Reg extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'auth',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      dialogTitle: '',\r\n      dialogText: '',\r\n      \r\n      activeStep: 0,\r\n      steps: ['Телефон', 'Подтверждение', 'Новый пароль'],\r\n      \r\n      phone: '',\r\n      code: '',\r\n      pwd: ''\r\n    };\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: '+79879340391',\r\n        //login: localStorage.getItem('login'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  async nextStep(){\r\n    if( this.state.activeStep == 0 ){\r\n      let data = {\r\n        login: document.getElementById('phone').value\r\n      }\r\n      \r\n      let res = await this.getData('check_phone', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          phone: data.login\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 1 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n\t\t\t  code: document.getElementById('code').value\r\n      }\r\n      \r\n      let res = await this.getData('check_code', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        this.setState({ \r\n          activeStep: this.state.activeStep+1,\r\n          code: data.code\r\n        })\r\n      }\r\n    }else if( this.state.activeStep == 2 ){\r\n      let data = {\r\n        login: this.state.phone,\r\n        code: this.state.code,\r\n        pwd: document.getElementById('password').value\r\n      }\r\n      \r\n      let res = await this.getData('save_new_pwd', data);\r\n      \r\n      if( res.st === false ){\r\n        setTimeout( () => {\r\n          this.setState({ \r\n            modalDialog: true,\r\n            dialogTitle: 'Предупреждение',\r\n            dialogText: res.text\r\n          })\r\n        }, 500 )\r\n      }else{\r\n        localStorage.setItem('token', res.token)\r\n      \r\n        setTimeout( () => {\r\n          window.location.pathname = '/'\r\n        }, 300)\r\n      }\r\n    }\r\n  }\r\n  \r\n  enterNextStep(event){\r\n    if( event.charCode == 13 ){\r\n      this.nextStep();\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.dialogTitle}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">{this.state.dialogText}</DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => { this.setState({ modalDialog: false }) } } color=\"primary\" autoFocus>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3} direction=\"row\" justifyContent=\"center\" alignItems=\"center\">\r\n          <Grid item xs={12} sm={6} md={6} lg={4} xl={3}>\r\n            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', }}>\r\n              <Avatar style={{ borderRadius: 0, width: '100%', height: 150, margin: 0, backgroundColor: '#fff', marginBottom: 20 }}>\r\n                <img alt=\"Жако доставка роллов и пиццы\" src=\"../assets/img_other/Favikon.png\" style={{ height: '100%' }} />\r\n              </Avatar>\r\n              \r\n              <Stepper activeStep={this.state.activeStep} alternativeLabel style={{ width: '100%' }}>\r\n                {this.state.steps.map((label) => (\r\n                  <Step key={label}>\r\n                    <StepLabel>{label}</StepLabel>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n              <div style={{ width: '100%' }}>\r\n                \r\n                { this.state.activeStep == 0 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"phone\"\r\n                    label=\"Номер телефона\"\r\n                    name=\"phone\"\r\n                    autoComplete=\"phone\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 1 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    id=\"code\"\r\n                    label=\"Код из смс\"\r\n                    name=\"code\"\r\n                    autoComplete=\"code\"\r\n                    autoFocus\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />  \r\n                    :\r\n                  null\r\n                }\r\n                \r\n                { this.state.activeStep == 2 ?\r\n                  <TextField\r\n                    variant=\"outlined\"\r\n                    margin=\"normal\"\r\n                    size=\"small\"\r\n                    required\r\n                    fullWidth\r\n                    name=\"password\"\r\n                    label=\"Пароль\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    autoComplete=\"current-password\"\r\n                    onKeyPress={ this.enterNextStep.bind(this) }\r\n                  />\r\n                    :\r\n                  null\r\n                }\r\n                                  \r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  style={{ marginTop: 10, marginBottom: 10 }}\r\n                  onClick={ this.nextStep.bind(this) }\r\n                >\r\n                  Дальше\r\n                </Button>\r\n                <Grid container>\r\n                  <Grid item xs>\r\n                    <a href=\"/auth\" style={{ color: '#c03' }}>Вернуться к авторизации</a>\r\n                  </Grid>\r\n                </Grid>\r\n                \r\n                \r\n              </div>\r\n              \r\n              \r\n            </div>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport InputLabel from '@mui/material/InputLabel';\r\nimport MenuItem from '@mui/material/MenuItem';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport Select from '@mui/material/Select';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport FormGroup from '@mui/material/FormGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\nimport Stack from '@mui/material/Stack';\r\n\r\nimport ruLocale from \"date-fns/locale/ru\";\r\n\r\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\r\nimport { LocalizationProvider } from '@mui/x-date-pickers/LocalizationProvider';\r\nimport { DatePicker } from '@mui/x-date-pickers/DatePicker';\r\n\r\nimport { DateRangePicker } from '@mui/x-date-pickers-pro/DateRangePicker';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class MyDaterange extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale} size=\"small\">\r\n        <DateRangePicker\r\n          \r\n          allowSameDateSelection={true}\r\n          showTodayButton={true}\r\n          startText={this.props.startText}\r\n          endText={this.props.endText}\r\n          value={this.props.value}\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          mask=\"____-__-__\"\r\n          onChange={this.props.func}\r\n          renderInput={(startProps, endProps) => (\r\n            <React.Fragment>\r\n              <TextField style={{ width: '100%' }} {...startProps} />\r\n              <TextField style={{ width: '100%' }} {...endProps} />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyAutocomplite extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Stack spacing={3}>\r\n        <Autocomplete\r\n          size=\"small\"\r\n          disableCloseOnSelect={true}\r\n          //multiple={true}\r\n          id={ this.props.id ?? null }\r\n          options={this.props.data}\r\n          getOptionLabel={(option) => option.name}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n          filterSelectedOptions\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          isOptionEqualToValue={(option, value) => parseInt(option.id) === parseInt(value.id) }\r\n          renderInput={(params) => (\r\n            <TextField\r\n              {...params}\r\n              label={this.props.label}\r\n              placeholder={this.props.placeholder}\r\n            />\r\n          )}\r\n        />\r\n      </Stack>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MySelect extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormControl fullWidth variant=\"outlined\" size=\"small\">\r\n        <InputLabel>{this.props.label}</InputLabel>\r\n        <Select\r\n          value={this.props.value}\r\n          label={this.props.label}\r\n          disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n          onChange={ this.props.func }\r\n          multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n        >\r\n          <MenuItem value=\"\"><em>None</em></MenuItem>\r\n          { this.props.data.map( (item, key) =>\r\n            <MenuItem key={key} value={item.id}>{item.name}</MenuItem>\r\n          ) }\r\n        </Select>\r\n      </FormControl>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTextInput extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      type: 'text'\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <TextField \r\n        label={this.props.label}\r\n        value={this.props.value}\r\n        onChange={this.props.func}\r\n        onBlur={this.props.onBlur ? this.props.onBlur : null}\r\n        disabled={ this.props.disabled || this.props.disabled === true ? true : false }\r\n        variant=\"outlined\" \r\n        size={'small'} \r\n        color='primary'\r\n        multiline={this.props.multiline ? this.props.multiline : false}\r\n        maxRows={this.props.maxRows ? this.props.maxRows : 1}\r\n        type={ this.props.type ? this.props.type : this.state.type }\r\n        style={{ width: '100%' }} \r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyTimePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      thisVal: ''\r\n    };\r\n  }\r\n  \r\n  onChange(event){\r\n    this.setState({\r\n      thisVal: event.target.value\r\n    })\r\n  }\r\n\r\n  onBlur(){\r\n    this.setState({\r\n      thisVal: ''\r\n    })\r\n\r\n    this.props.onBlur();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <TextField\r\n        variant=\"outlined\"\r\n        size=\"small\"\r\n        color=\"primary\"\r\n        label={this.props.label}\r\n        type=\"time\"\r\n        id={ this.props.id ? this.props.id : null }\r\n        value={ this.props.func ? this.props.value : this.state.thisVal }\r\n        style={{ width: '100%' }}\r\n        onChange={this.props.func ? this.props.func : this.onChange.bind(this)}\r\n        onBlur={this.props.onBlur ? this.onBlur.bind(this) : null}\r\n        InputLabelProps={{\r\n          shrink: true,\r\n        }}\r\n        step={600}\r\n        inputProps={{\r\n          step: 600, // 5 min\r\n        }}\r\n      />\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyDatePickerNew extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <LocalizationProvider dateAdapter={AdapterDateFns} locale={ruLocale}>\r\n        <DatePicker\r\n          multiple={true}\r\n          mask=\"____-__-__\"\r\n          inputFormat=\"yyyy-MM-dd\"\r\n          label={this.props.label}\r\n          value={formatDate(this.props.value)}\r\n          onChange={this.props.func}\r\n          renderInput={(params) => <TextField variant=\"outlined\" size={'small'} color='primary' style={{ width: '100%' }} {...params} />}\r\n        />\r\n      </LocalizationProvider>\r\n    )\r\n  }\r\n}\r\n\r\nexport class MyCheckBox extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <FormGroup row style={ this.props.style ? this.props.style : {} }>\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              checked={this.props.value}\r\n              onChange={this.props.func}\r\n              color=\"primary\"\r\n              \r\n            />\r\n          }\r\n          label={this.props.label}\r\n        />\r\n      </FormGroup>\r\n    )\r\n  }\r\n}\r\n\r\nexport class TextEditor extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <tinymce-editor\r\n        apiKey=\"r0ihgs4ukfpmudzw7aexxgb88tnx5jw26h1xx9x6409ji3gx\"\r\n        id={this.props.id}\r\n        menubar={true}\r\n        plugins=\"advlist autolink lists link image charmap print preview anchor\r\n        searchreplace visualblocks code fullscreen\r\n        insertdatetime media table paste code help wordcount\"\r\n        toolbar=\"undo redo | formatselect | bold italic backcolor |\r\n        alignleft aligncenter alignright alignjustify |\r\n        bullist numlist outdent indent | removeformat | help\"\r\n        content_style=\"body\r\n        {\r\n          font-family:Helvetica,Arial,sans-serif;\r\n          font-size:14px\r\n        }\"\r\n        >\r\n\r\n        {this.props.text}\r\n\r\n      </tinymce-editor>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class LiveOrders extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'live_orders',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      showReady: false,\r\n      read: [],\r\n      onstol: [],\r\n      ordersQueue: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      showReady: this.state.showReady === true ? 1 : 0\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.setState({\r\n      read: res.read,\r\n      onstol: res.onstol,\r\n      ordersQueue: res.prestol_new\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n            \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox value={this.state.showReady} func={ this.changeCheckOrders.bind(this) } label='Показывать готовые' />\r\n          </Grid>\r\n            \r\n          <Grid item xs={12} sm={12}>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Тип</TableCell>\r\n                    <TableCell>Время заказа</TableCell>\r\n                    <TableCell>Время предзакза</TableCell>\r\n                    \r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Во сколько собрали</TableCell>\r\n                    <TableCell>Закрыли</TableCell>\r\n                    \r\n                    <TableCell>Приготовили</TableCell>\r\n                    <TableCell>Отдали</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                    \r\n                    <TableCell>Статус</TableCell>\r\n                    <TableCell>Стол</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.read.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell>{item.give_data_time_}</TableCell>\r\n                      <TableCell>{item.close_date_time_order}</TableCell>\r\n                      \r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) == 1 ? '' : item.color}}>{item.time_}</TableCell>\r\n                      <TableCell style = {{backgroundColor: parseInt(item.type_) != 1 ? '' : item.color}}>{item.test_time}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                  {this.state.onstol.map( (item, key) => (\r\n                    <TableRow key={key} style = {{backgroundColor: 'yellow'}}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{item.type_order}</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? '' : item.date_time_order }</TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 1 ? item.date_time_preorder_ : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.unix_start_stol_or}</TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      \r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{ parseInt(item.preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.status}</TableCell>\r\n                      <TableCell>{item.stol_sborki}</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n            <TableContainer component={Paper}>\r\n              <Table aria-label=\"a dense table\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Пред</TableCell>\r\n                    <TableCell>Время оформления</TableCell>\r\n                    <TableCell>Время выхода на стол</TableCell>\r\n                    <TableCell>Время закрытия</TableCell>\r\n                    <TableCell>Обещали</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  {this.state.ordersQueue.map( (item, key) => (\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.id}</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 1 ? item.date_time_preorder : '' }</TableCell>\r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.date_time_order : '' }</TableCell>\r\n                      \r\n                      <TableCell>{item.time_start_order}</TableCell>\r\n                      <TableCell>{item.time_end_order}</TableCell>\r\n                      \r\n                      <TableCell>{ parseInt(item.is_preorder) == 0 ? item.unix_time_to_client : '' }</TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class Events extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'events',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      mounths: [],\r\n      years: [],\r\n      year: '0',\r\n      \r\n      calendar: [],\r\n      modalDialog: false,\r\n      \r\n      chooseDayHoly: '',\r\n      events: [],\r\n      chooseEvent: 0,\r\n      \r\n      eventPoint1: 0,\r\n      everyYear1: false,\r\n      timeStart2: '10:00',\r\n      timeEnd2: '21:30',\r\n      \r\n      expanded: '',\r\n      dayEvents: [],\r\n      events_hist: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n      mounths: data.mounth,\r\n      mounth: data.this_m,\r\n      years: data.years,\r\n      year: data.this_y,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeMounth(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      mounth: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  changeYear(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      year: data\r\n    })\r\n  }\r\n  \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      m: this.state.mounth,\r\n      y: this.state.year,\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_calendar', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      calendar: res.year,\r\n    })\r\n  }\r\n  \r\n  async chooseDay(day){\r\n    \r\n    if( day.full_day ){\r\n    \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false,\r\n        events_hist: []\r\n      })\r\n      \r\n      let data = {\r\n        date: day.full_day,\r\n        point_id: this.state.point\r\n      };\r\n      \r\n      let res = await this.getData('get_calendar_day', data);\r\n      \r\n      console.log( 'res', res )\r\n      \r\n      this.setState({\r\n        chooseDay: day,\r\n        chooseDayHoly: res.holy,\r\n        events: res.events,\r\n        events_hist: res.hist,\r\n        dayEvents: res.this_events,\r\n        modalDialog: true\r\n      })\r\n    }\r\n  }\r\n  \r\n  changeEvent(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      chooseEvent: data\r\n    })\r\n  }\r\n  \r\n  changePoint1(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      eventPoint1: data\r\n    })\r\n  }\r\n  \r\n  changeEveryYear1(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      everyYear1: data\r\n    })\r\n  }\r\n  \r\n  changeTimeStart2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeStart2: data\r\n    })\r\n  }\r\n  \r\n  changeTimeEnd2(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      timeEnd2: data\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      date: this.state.chooseDay.full_day,\r\n      point_id: this.state.eventPoint1,\r\n      event: this.state.chooseEvent,\r\n      every_year: this.state.everyYear1 === true ? 1 : 0,\r\n      \r\n      time_start: this.state.timeStart2,\r\n      time_end: this.state.timeEnd2,\r\n    };\r\n    \r\n    let res = await this.getData('save_event', data);\r\n    \r\n    console.log( res )\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  handleChange(data){\r\n    this.setState({\r\n      expanded: data\r\n    })\r\n  }\r\n  \r\n  async delEvent(event){\r\n    console.log( 'delEvent', event )\r\n    \r\n    if (confirm('Удалить событие \"'+event.title+' '+event.date+'\" ?')) {\r\n      let data = {\r\n        del_id: event.id\r\n      };\r\n      \r\n      let res = await this.getData('del_event', data);\r\n      \r\n      this.setState({\r\n        chooseDay: null,\r\n        eventPoint1: this.state.point,\r\n        chooseEvent: 0,\r\n        everyYear1: false,\r\n        timeStart2: '10:00',\r\n        timeEnd2: '21:30',\r\n        modalDialog: false\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.updateData();\r\n      }, 300 )\r\n    } else {\r\n      \r\n    }\r\n    \r\n\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">{this.state.chooseDay ? this.state.chooseDay.full_day : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                {this.state.chooseDayHoly.length == 0 ? null :\r\n                  <Grid item xs={12} sm={12}>\r\n                    <Typography component=\"span\">{this.state.chooseDayHoly}</Typography>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect data={this.state.events} value={this.state.chooseEvent} func={ this.changeEvent.bind(this) } label='Событие' />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MySelect data={this.state.points} value={ this.state.eventPoint1 } func={ this.changePoint1.bind(this) } label='Точка' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.chooseEvent) !== 2 ? null :\r\n                  <>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker value={ this.state.timeStart2 } func={ this.changeTimeStart2.bind(this) } label='Время начала работы' />\r\n                    </Grid>\r\n                    <Grid item xs={6} sm={6}>\r\n                      <MyTimePicker value={ this.state.timeEnd2 } func={ this.changeTimeEnd2.bind(this) } label='Время окончания работы' />\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyCheckBox value={ this.state.everyYear1 } func={ this.changeEveryYear1.bind(this) } label='Каждый год' />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n              \r\n              <List component=\"nav\">\r\n                { this.state.dayEvents.map( (item, key) => \r\n                  <ListItem key={key}>\r\n                    <ListItemText primary={item.title} />\r\n                    { parseInt(item.type) == 4 ? null :\r\n                      <CloseIcon color=\"primary\" onClick={this.delEvent.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                    }\r\n                  </ListItem>\r\n                )}\r\n              </List>\r\n              \r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List component=\"nav\">\r\n                    { this.state.events_hist.map( (item, key) => \r\n                      <ListItem key={key}>\r\n                        <ListItemText primary={item.title} />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.save.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect  data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect  data={this.state.mounths} value={this.state.mounth} func={ this.changeMounth.bind(this) } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect  data={this.state.years} value={this.state.year} func={ this.changeYear.bind(this) } label='Год' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }}>\r\n            \r\n            { this.state.calendar.map( (item, key) =>\r\n            \r\n              <Grid item xs={12} sm={4} key={key} style={{ padding: 20 }}>\r\n                <h1 style={{ textAlign: 'center' }}>{ item[0][0].mounth }</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" style={{ overflow: 'hidden' }}>\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Пн</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Вт</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Ср</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Чт</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Пт</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Сб</TableCell>\r\n                        <TableCell style={{ textAlign: 'center', padding: 15 }}>Вс</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { item.map( (mounth, m_key) =>\r\n                        <TableRow key={m_key}>\r\n                          { mounth.map( (day, k) =>\r\n                            <TableCell \r\n                              key={k} \r\n                              onClick={ this.chooseDay.bind(this, day) } \r\n                              \r\n                              style={{ color: day.dir ? 'yellow' : day.holy ? '#c03' : '#000' }}\r\n                              \r\n                              className={ day.event ? 'customCel' : 'tableCel' }\r\n                            > { day.day } </TableCell>\r\n                          ) }\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            )}\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class RasByBill extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'ras_by_bill',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      points: [],\r\n      point: [],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      items: [],\r\n      cats: [],\r\n      items_cat: [],\r\n      item_cat: 0,\r\n      \r\n      myItems: [],\r\n      \r\n      calendar: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      \r\n      items: data.items,\r\n      cats: data.cats,\r\n      items_cat: data.items_cat\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n  \r\n  changeItems(event, data){\r\n    this.setState({\r\n      myItems: data\r\n    })\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      item_cat: this.state.item_cat,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev', data);\r\n    \r\n    let summ = 0;\r\n    \r\n    res.items_ras.map( (item, key) => {\r\n      summ += parseFloat(item.sum);\r\n    } )\r\n    \r\n    this.setState({\r\n      resItems: {\r\n        items_ras: res.items_ras,\r\n        pf_ras: res.pf_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      catItems: null\r\n    })\r\n  }\r\n  \r\n  async getCats(){\r\n    let data = {\r\n      points: this.state.point,\r\n      items: this.state.myItems,\r\n      start_date: this.state.date_start,\r\n      end_date: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_this_rev_cat', data);\r\n    \r\n    \r\n    let summ = 0;\r\n    \r\n    res.rec_ras.map( (item, key) => {\r\n      summ += parseFloat(item.this_price);\r\n    } )\r\n    \r\n    this.setState({\r\n      catItems: {\r\n        count_pos: res.count_pos,\r\n        items_ras: res.items_ras,\r\n        rec_ras: res.rec_ras,\r\n        full_sum: summ.toFixed(2)\r\n      },\r\n      resItems: null\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">  </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              \r\n              \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ () => {} } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} multiple={true} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.items_cat} multiple={false} value={this.state.item_cat} func={ (event) => {this.setState({ item_cat: event.target.value })} } label='Категория товара' />\r\n          </Grid>\r\n          \r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.items} multiple={true} value={this.state.myItems} func={ this.changeItems.bind(this) } label='Заготовки' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getItems.bind(this)}>Показать заготовки</Button>\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getCats.bind(this)}>Показать категории</Button>\r\n          </Grid>\r\n        \r\n        \r\n          { this.state.resItems && this.state.resItems.items_ras ?\r\n              \r\n            <>\r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Куплено по наклданым</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование товара</TableCell>\r\n                        <TableCell>Объем товра</TableCell>\r\n                        <TableCell>Объем заготовки</TableCell>\r\n                        <TableCell>Сумма</TableCell>\r\n                        <TableCell>Кол-во наклданых</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.items_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.name } </TableCell>\r\n                          <TableCell> { item.count_item + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name_pf } </TableCell>\r\n                          <TableCell> { item.sum } </TableCell>\r\n                          <TableCell> { item.count_bill } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                      <TableRow>\r\n                        <TableCell> Всего: </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> </TableCell>\r\n                        <TableCell> { this.state.resItems.full_sum } </TableCell>\r\n                        <TableCell> </TableCell>\r\n                      </TableRow>\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход заготовок (включая рецепты)</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                        <TableCell>Сумма роллов (примерно)</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.pf_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                          <TableCell> { item.price_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12}>\r\n                \r\n                <h1>Расход рецептов</h1>\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell>Наименование заготовки</TableCell>\r\n                        <TableCell>Объем заготовок</TableCell>\r\n                        <TableCell>Кол-во роллов</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                      \r\n                      { this.state.resItems.rec_ras.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell> { item.pf_name } </TableCell>\r\n                          <TableCell> { item.count_pf + ' ' + item.ei_name } </TableCell>\r\n                          <TableCell> { item.count_rolls } </TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                      \r\n                    </TableBody>\r\n                  </Table>\r\n                </TableContainer>\r\n              </Grid>\r\n            </>\r\n              :\r\n            null              \r\n          }\r\n          \r\n          { this.state.catItems && this.state.catItems.rec_ras ?\r\n            <Grid item xs={12}>\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '50%' }}>Роллов: {this.state.catItems.count_pos.count_rolls}</Typography>\r\n                  <Typography style={{ width: '50%' }}>Пиццы: {this.state.catItems.count_pos.count_pizza}</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n              { this.state.catItems.rec_ras.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1bh-content\"\r\n                  >\r\n                    <Typography style={{ width: '60%' }}>{item.name}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.this_price}</Typography>\r\n                    <Typography style={{ width: '20%' }}>{item.price_by_items}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                    { item.parent_cat.map( (it, k) =>\r\n                      <Accordion key={k}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1bh-content\"\r\n                        >\r\n                          <Typography style={{ width: '60%', paddingLeft: 20 }}>{it.name}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.this_price}</Typography>\r\n                          <Typography style={{ width: '20%', paddingLeft: 20 }}>{it.price_by_items}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          <Accordion disabled={true}>\r\n                            <AccordionSummary>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товар</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Товара</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Заготовок</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Накладных</Typography>\r\n                              <Typography style={{ width: '20%', paddingLeft: 40 }}>Сумма</Typography>\r\n                            </AccordionSummary>\r\n                          </Accordion>\r\n                          \r\n                          { it.items.map( (parent_items, parent_key) =>\r\n                            <Accordion key={parent_key} disabled={true}>\r\n                              <AccordionSummary>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_item} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_pf} {parent_items.ei_name}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.count_bill}</Typography>\r\n                                <Typography style={{ width: '20%', paddingLeft: 40 }}>{parent_items.sum}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                          \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                    ) }\r\n                    \r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              ) }\r\n              \r\n              <Accordion disabled>\r\n                <AccordionSummary>\r\n                  <Typography style={{ width: '60%', marginRight: -15 }}>Всего:</Typography>\r\n                  <Typography style={{ width: '40%' }}>{ this.state.catItems.full_sum }</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>\r\n              \r\n            </Grid>\r\n              :\r\n            null              \r\n          }\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyAutocomplite } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class CategoryItems extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'category_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialog2: false,\r\n      modalDialog3: false,\r\n      \r\n      newMainCatMy: 0,\r\n      editMainCatMy: 0,\r\n      newMainNameMy: '',\r\n      editMainNameMy: '',\r\n      \r\n      editCat: null,\r\n      \r\n      allCats: [],\r\n      allItems: [],\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0,\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      allCats: data.cats,\r\n      allItems: data.items,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  createCat(){\r\n    this.setState({\r\n      modalDialog: true,\r\n      newMainCatMy: 0,\r\n      newMainNameMy: ''\r\n    })\r\n  }\r\n  \r\n  changeCatMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeCatMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainCatMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMain(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      newMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  changeNameMainEdit(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      editMainNameMy: data\r\n    })\r\n  }\r\n  \r\n  async saveCat(){\r\n    let data = {\r\n      name: this.state.newMainNameMy,\r\n      cat_id: this.state.newMainCatMy\r\n    };\r\n    \r\n    let res = await this.getData('save_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  addItems(cat_id){\r\n    \r\n    let myVal = this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(cat_id) );\r\n    let data = this.state.allItems.filter( (item) => parseInt(item.cat_id) == 0 );\r\n    \r\n    this.setState({\r\n      modalDialog2: true,\r\n      thisValItems: myVal,\r\n      thisDataItems: data,\r\n      thisCatId: cat_id\r\n    })\r\n  }\r\n  \r\n  async saveItems(){\r\n    let data = {\r\n      cat_id: this.state.thisCatId,\r\n      items: this.state.thisValItems\r\n    };\r\n    \r\n    let res = await this.getData('save_items_cat', data);\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      allItems: res.items,\r\n      modalDialog2: false,\r\n      \r\n      thisValItems: [],\r\n      thisDataItems: [],\r\n      thisCatId: 0\r\n    })\r\n  }\r\n  \r\n  editCat(cat){\r\n    this.setState({\r\n      modalDialog3: true,\r\n      editMainCatMy: cat.parent_id,\r\n      editMainNameMy: cat.name,\r\n      editCat: cat\r\n    })\r\n  }\r\n  \r\n  async saveEditCat(){\r\n    let data = {\r\n      name: this.state.editMainNameMy,\r\n      cat_id: this.state.editMainCatMy,\r\n      id: this.state.editCat.id\r\n    };\r\n    \r\n    let res = await this.getData('edit_cat', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      allCats: res.cats,\r\n      modalDialog: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) }\r\n                  value={this.state.newMainCatMy} \r\n                  func={ this.changeCatMain.bind(this) } />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField label=\"Название категории\" size=\"small\" variant=\"outlined\" style={{ width: '100%' }} color=\"primary\" value={this.state.newMainNameMy} onChange={this.changeNameMain.bind(this)} />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog2}\r\n          onClose={ () => { this.setState({ modalDialog2: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Позиции категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MyAutocomplite \r\n                  label=\"Выбранные позиции\" \r\n                  multiple={true}\r\n                  func={ (event, val) => { this.setState({ thisValItems: val }) } }\r\n                  data={ this.state.thisDataItems } \r\n                  value={ this.state.thisValItems } />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveItems.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog3}\r\n          onClose={ () => { this.setState({ modalDialog3: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Редактирование категории</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={12}>\r\n                <MySelect \r\n                  label=\"Главная категория\" \r\n                  data={ this.state.allCats.filter( (item) => parseInt(item.parent_id) == -1 || !item.parent_id ) } \r\n                  value={this.state.editMainCatMy} \r\n                  func={ this.changeCatMainEdit.bind(this) } \r\n                />\r\n              </Grid>  \r\n              <Grid item xs={12} sm={12}>\r\n                <TextField \r\n                  label=\"Название категории\" \r\n                  size=\"small\" \r\n                  variant=\"outlined\" \r\n                  style={{ width: '100%' }} \r\n                  color=\"primary\" \r\n                  value={this.state.editMainNameMy} \r\n                  onChange={ this.changeNameMainEdit.bind(this) }\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={ this.saveEditCat.bind(this) } color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.createCat.bind(this)}>Создать категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.allCats.map( (main_cat, main_key) =>\r\n              parseInt(main_cat.parent_id) != -1 ? null :\r\n                <Accordion key={main_key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                    aria-controls=\"panel1a-content\"\r\n                  >\r\n                    <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, main_cat) } />\r\n                    <Typography>{main_cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    \r\n                  { this.state.allCats.map( (parent_cat, parent_key) =>\r\n                    parseInt(main_cat.id) != parseInt(parent_cat.parent_id) ? null :\r\n                      <Accordion key={main_key+'_'+parent_key}>\r\n                        <AccordionSummary\r\n                          expandIcon={<ExpandMoreIcon />}\r\n                          aria-controls=\"panel1a-content\"\r\n                        >\r\n                          <MenuIcon style={{ marginRight: 10 }} onClick={ this.editCat.bind(this, parent_cat) } />\r\n                          <Typography>{parent_cat.name}</Typography>\r\n                        </AccordionSummary>\r\n                        <AccordionDetails>\r\n                          \r\n                          { this.state.allItems.filter( (item) => parseInt(item.cat_id) == parseInt(parent_cat.id) ).map( (item, key) =>\r\n                            <Accordion key={main_key+'_'+parent_key+'_'+key}>\r\n                              <AccordionSummary\r\n                                expandIcon={<ExpandMoreIcon />}\r\n                                aria-controls=\"panel1a-content\"\r\n                              >\r\n                                <Typography>{item.name}</Typography>\r\n                              </AccordionSummary>\r\n                            </Accordion>\r\n                          ) }\r\n                            \r\n                          <Button onClick={this.addItems.bind(this, parseInt(parent_cat.id))}>Добавить</Button>\r\n                            \r\n                        </AccordionDetails>\r\n                      </Accordion>\r\n                  )}\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>\r\n            ) }\r\n          </Grid>\r\n          \r\n          \r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\nimport DirectionsCarIcon from '@mui/icons-material/DirectionsCar';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class VendorModule extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'vendor_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalItems: false,\r\n      modalVendor: false,\r\n      modalVendorNew: false,\r\n      \r\n      vendors: [],\r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n      openVendor: null,\r\n      customAdd: 0,\r\n      \r\n      vendorCities: [],\r\n      allCities: [],\r\n      \r\n      nds: [\r\n        { id: -1, name: 'Без НДС' },\r\n        { id: 10, name: '10% НДС' },\r\n        { id: 20, name: '20% НДС' },\r\n      ],\r\n      nds_: [\r\n        -1, 10, 20\r\n      ],\r\n      \r\n      cities: [],\r\n      city: -1\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      vendors: data.vendors,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeNDS(item_id, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        item.nds = event.target.value;\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  async openModalItems(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: true,\r\n      allItems: res.all_items,\r\n      vendor_items: res.vendor_items,\r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async openModalVendor(vendor){\r\n    let data = {\r\n      vendor_id: vendor.id\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendor: true,\r\n      openVendor: res.vendor,\r\n      vendorCities: res.vendor_cities,\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async openModalVendorNew(){\r\n    let data = {\r\n      vendor_id: 0\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_info', data);\r\n    \r\n    this.setState({\r\n      modalVendorNew: true,\r\n      openVendor: {\r\n        addr: \"\",\r\n        bill_ex: \"0\",\r\n        email: \"\",\r\n        email_2: \"\",\r\n        inn: \"\",\r\n        min_price: \"\",\r\n        name: \"\",\r\n        need_img_bill_ex: \"0\",\r\n        ogrn: \"\",\r\n        phone: \"\",\r\n        text: \"\",\r\n      },\r\n      vendorCities: [],\r\n      allCities: res.all_cities,\r\n    })\r\n  }\r\n  \r\n  async saveVendorItems(){\r\n    let data = {\r\n      vendor_id: this.state.openVendor.id,\r\n      items: this.state.vendor_items\r\n    }\r\n    \r\n    let check = data.items.filter( (item, key) => !this.state.nds_.includes( parseInt(item.nds) ) );\r\n    \r\n    if( check.length > 0 ){\r\n      alert('У одной или нескольких позиций не заполнен НДС')\r\n      \r\n      return ;\r\n    }\r\n    \r\n    let res = await this.getData('save_vendor_items', data);\r\n    \r\n    this.setState({\r\n      modalItems: false,\r\n      vendor_items: [],\r\n      openVendor: null\r\n    })\r\n  }\r\n  \r\n  async saveVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('update_vendor', data);\r\n    \r\n    this.setState({\r\n      modalVendor: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  async addVendor(){\r\n    let data = {\r\n      vendor: this.state.openVendor,\r\n      vendor_cities: this.state.vendorCities,\r\n      city: this.state.city\r\n    }\r\n    \r\n    let res = await this.getData('new_vendor', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n      return ;\r\n    }\r\n    \r\n    this.setState({\r\n      modalVendorNew: false,\r\n      openVendor: null,\r\n      vendorCities: [],\r\n      allCities: [],\r\n      vendors: res.vendors\r\n    })\r\n  }\r\n  \r\n  delItem(item_id){\r\n    let items = this.state.vendor_items;\r\n    \r\n    items = items.filter( (item) => parseInt(item.item_id) != parseInt(item_id) );\r\n    \r\n    this.setState({\r\n      vendor_items: items\r\n    })\r\n  }\r\n  \r\n  addItem(item){\r\n    let this_items = this.state.vendor_items;\r\n    let check = this_items.find( (it) => parseInt(it.item_id) == parseInt(item.id) );\r\n    \r\n    if( !check ){\r\n      this_items.push({\r\n        item_id: item.id,\r\n        item_name: item.name,\r\n        nds: -2\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      vendor_items: this_items\r\n    })\r\n  }\r\n  \r\n  addItemCustom(){\r\n    let item = this.state.allItems.find( (item1) => parseInt(item1.id) == parseInt(this.state.customAdd) );\r\n    \r\n    this.addItem(item);\r\n  }\r\n  \r\n  testChange(data, event){\r\n    let vendor = this.state.openVendor;\r\n    \r\n    if( data == 'bill_ex' || data == 'need_img_bill_ex' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      openVendor: vendor\r\n    })\r\n  }\r\n  \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItems}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItems: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Товары поставщика {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container style={{ paddingTop: 20 }}>\r\n              \r\n              <Grid item xs={12} sm={5} style={{ paddingRight: 10 }}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    <TableRow style={{ height: 75 }}>\r\n                      <TableCell>\r\n                        <MySelect data={this.state.allItems} value={this.state.customAdd} func={ (event) => { this.setState({ customAdd: event.target.value }) } } />\r\n                      </TableCell>\r\n                      <TableCell><AddIcon onClick={this.addItemCustom.bind(this)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                    </TableRow>\r\n                    \r\n                    { this.state.allItems.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell><AddIcon onClick={this.addItem.bind(this, item)} style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              <Grid item xs={12} sm={7}>\r\n                \r\n                <Table>\r\n                  <TableBody>\r\n                    { this.state.vendor_items.map( (item, key) => \r\n                      <TableRow key={key} style={{ height: 75 }}>\r\n                        <TableCell>{item.item_name}</TableCell>\r\n                        <TableCell>\r\n                          <MyTextInput label=\"\" value={ item.sort } func={ this.changeSort.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell>\r\n                          <MySelect data={this.state.nds} value={item.nds} func={ this.changeNDS.bind(this, item.item_id) } />\r\n                        </TableCell>\r\n                        <TableCell><CloseIcon onClick={ this.delItem.bind(this, item.item_id) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                  </TableBody>\r\n                </Table>\r\n                \r\n              </Grid>\r\n              \r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendorItems.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendor}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendor: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Поставщик {this.state.openVendor ? this.state.openVendor.name : ''}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } disabled={true} />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite multiple={true} label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { console.log(value); this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalVendorNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalVendorNew: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новый поставщик</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.openVendor ?\r\n                <>\r\n                  <Grid item xs={12} sm={5}>\r\n                    <MyTextInput label=\"Наименование\" value={ this.state.openVendor.name } func={ this.testChange.bind(this, 'name') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Описание\" value={ this.state.openVendor.text } func={ this.testChange.bind(this, 'text') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyTextInput label=\"Мин. сумма заявки\" value={ this.state.openVendor.min_price } func={ this.testChange.bind(this, 'min_price') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ИНН\" value={ this.state.openVendor.inn } func={ this.testChange.bind(this, 'inn') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyTextInput label=\"ОГРН\" value={ this.state.openVendor.ogrn } func={ this.testChange.bind(this, 'ogrn') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={8}>\r\n                    <MyTextInput label=\"Адрес компании\" value={ this.state.openVendor.addr } func={ this.testChange.bind(this, 'addr') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Контактное лицо\" value={ this.state.openVendor.user } func={ this.testChange.bind(this, 'user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Телефон\" value={ this.state.openVendor.phone } func={ this.testChange.bind(this, 'phone') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Почта\" value={ this.state.openVendor.email } func={ this.testChange.bind(this, 'email') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Доп почта\" value={ this.state.openVendor.email_2 } func={ this.testChange.bind(this, 'email_2') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Работа по счетам\" value={ parseInt(this.state.openVendor.bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'bill_ex') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label=\"Необходима картинка\" value={ parseInt(this.state.openVendor.need_img_bill_ex) == 1 ? true : false } func={ this.testChange.bind(this, 'need_img_bill_ex') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={6}>\r\n                    <MyAutocomplite label='Города' data={this.state.allCities} value={this.state.vendorCities} func={ (event, value) => { this.setState({ vendorCities: value }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.addVendor.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalVendorNew.bind(this)} variant=\"contained\">Добавить поставщика</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell component=\"th\">Название</TableCell>\r\n                    <TableCell component=\"th\">Назначенные товары</TableCell>\r\n                    <TableCell component=\"th\"><VisibilityIcon /></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.vendors.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell><Typography onClick={ this.openModalVendor.bind(this, item) } style={{ cursor: 'pointer', width: 'max-content' }}>{item.name}</Typography></TableCell>\r\n                      <TableCell><DirectionsCarIcon onClick={ this.openModalItems.bind(this, item) } style={{ cursor: 'pointer' }} /></TableCell>\r\n                      <TableCell>{ parseInt(item.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> }</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class VendorItemPrice extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'vendor_item_price',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      vendors: [],\r\n      vendor: null,\r\n      \r\n      items: [],\r\n      \r\n      cities: [],\r\n      city: '',\r\n      allCity: false,\r\n      isPrioriti: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value,\r\n      vendor: null,\r\n      items: []\r\n    })\r\n  }\r\n  \r\n  async changeVendor(event, value){\r\n\r\n    console.log( event.target.value, value )\r\n\r\n    let data = {\r\n      city: this.state.city,\r\n      vendor_id: value.id,\r\n    }\r\n    \r\n    let res = await this.getData('get_vendor_items', data);\r\n    \r\n    this.setState({\r\n      items: res,\r\n      vendor: value,\r\n    })\r\n  }\r\n  \r\n  update(item_id, data, event){\r\n    let this_items = this.state.items;\r\n    \r\n    this_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(item_id) ){\r\n        this_items[key][data] = event.target.value;\r\n        \r\n        this_items[key]['price'] = (parseFloat(this_items[key]['full_price']) / parseFloat(this_items[key]['rec_pq'])).toFixed(2);\r\n      }\r\n    } )\r\n    \r\n    this.setState({\r\n      items: this_items\r\n    })\r\n  }\r\n  \r\n  async save(){\r\n    let data = {\r\n      vendor_id: this.state.vendor,\r\n      items: this.state.items,\r\n      city_id: this.state.city,\r\n      all_city: this.state.allCity === true ? 1 : 0,\r\n      is_prioriti: this.state.isPrioriti === true ? 1 : 0,\r\n    }\r\n    \r\n    if( data.all_city == 1 ){\r\n      if( confirm(\"Точно сохранить на все города поставщика ?\") ){\r\n        let res = await this.getData('save_price', data);\r\n      }\r\n    }else{\r\n      let res = await this.getData('save_price', data);\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 999 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\"></DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n            \r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.cities} value={this.state.city} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite data={this.state.vendors} value={this.state.vendor} func={ this.changeVendor.bind(this) } multiple={false} label='Поставщик' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyCheckBox value={this.state.allCity} func={ (event) => { this.setState({ allCity: event.target.checked }) } } label='На все города поставщика' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={12}>\r\n            <MyCheckBox value={this.state.isPrioriti} func={ (event) => { this.setState({ isPrioriti: event.target.checked }) } } label='Приоритетный постащик' />\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Button onClick={this.save.bind(this)} variant=\"contained\">Сохранить</Button>\r\n          </Grid>\r\n          \r\n          \r\n          <Grid item xs={12}>\r\n              \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Позиция</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell>Комментарий</TableCell>\r\n                    <TableCell>Цена за упаковку</TableCell>\r\n                    <TableCell>Объем упаковки</TableCell>\r\n                    <TableCell>Цена за 1 ед.</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.items.map( (item, key) => \r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.name_for_vendor}</TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.comment} func={ this.update.bind(this, item.item_id, 'comment') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MyTextInput label=\"\" value={item.full_price} func={ this.update.bind(this, item.item_id, 'full_price') } />\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <MySelect data={item.pqs} value={ parseInt(item.rec_pq) == 0 ? '' : item.rec_pq } func={ this.update.bind(this, item.item_id, 'rec_pq') } label='' />\r\n                      </TableCell>\r\n                      <TableCell>{item.price} / {item.ei_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n            \r\n          </Grid>\r\n            \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyAutocomplite } from '../../stores/elements';\r\n\r\nimport {AgGridColumn, AgGridReact} from 'ag-grid-react';\r\n\r\nconst queryString = require('query-string');\r\n\r\nconst dynamicCellStyle = params => {\r\n  if( params.colDef.headerName == 'Цена' ){\r\n    return { borderRight: '1px solid #bababa' };\r\n  }\r\n  return null;\r\n};\r\n\r\nexport class Tender extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'tender',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      \r\n      testTable: [],\r\n      vendors: [],\r\n      myVendors: [],\r\n      showVendors: [],\r\n      \r\n      params_api: null,\r\n      params_columnApi: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let table = [];\r\n    \r\n    data.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          data['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = data.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) );\r\n            \r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = data.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      testTable: table,\r\n      vendors: data['vendors'],\r\n      showVendors: data['vendors']\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n  \r\n  onCellClicked(event){\r\n    console.log( event.data );\r\n    console.log( event.colDef.field );\r\n  }\r\n  \r\n  onGridReady(params){\r\n    this.setState({\r\n      params_api: params.api,\r\n      params_columnApi: params.columnApi\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      vendors: this.state.myVendors\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    let table = [];\r\n    \r\n    res.items.map( (main_cat, k1) => {\r\n      \r\n      table.push({\r\n        section: 'big-title',\r\n        item: main_cat.name\r\n      })\r\n      \r\n      main_cat.cats.map( (cat, k2) => {\r\n        table.push({\r\n          section: 'big-title',\r\n          item: cat.name\r\n        })\r\n        \r\n        cat.items.map( (item, k3) => {\r\n          let tableItem = {};\r\n          \r\n          res['vendors'].map( (it, k4) => {\r\n            \r\n            let item_price = res.vendor_price.find( (item_price) => parseInt(item_price.vendor_id) == parseInt(it['id']) && parseInt(item_price.item_id) == parseInt(item['id']) )\r\n            \r\n            if( item_price ){\r\n              tableItem[ 'vend_price_'+it['id'] ] = item_price['price'];  \r\n              tableItem[ 'vend_city_'+it['id'] ] = 'тлт';\r\n            }else{\r\n              tableItem[ 'vend_price_'+it['id'] ] = '';  \r\n              tableItem[ 'vend_city_'+it['id'] ] = '';\r\n            }\r\n            \r\n          } )\r\n          tableItem.item = item.name;\r\n          tableItem.section = 'last';\r\n          \r\n          let item_ras = res.ras.find( (item_ras) => parseInt(item_ras.item_id) == parseInt(item['id']) );\r\n          \r\n          if( item_ras ){\r\n            tableItem.ras = item_ras.count_pf;\r\n          }else{\r\n            tableItem.ras = '';\r\n          }\r\n          \r\n          table.push(tableItem)\r\n        } )\r\n      } )\r\n    } )\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n    this.setState({\r\n      testTable: table,\r\n      showVendors: res['vendors']\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Новая категория</DialogTitle>\r\n          <DialogContent>\r\n            \r\n            \r\n            \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button  color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <MyAutocomplite data={this.state.vendors} multiple={true} value={this.state.myVendors} func={ (event, val) => { this.setState({ myVendors: val }) } } label='Поставщики' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Показать</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <div className=\"ag-theme-alpine\" style={{height: 600, width: '100%'}}>\r\n              <AgGridReact\r\n                  onGridReady={this.onGridReady.bind(this)}\r\n                  onCellClicked={this.onCellClicked}\r\n                  rowData={ this.state.testTable }\r\n                  \r\n                  >\r\n                  <AgGridColumn field=\"ras\" width={120} pinned=\"left\"></AgGridColumn>\r\n                  <AgGridColumn field=\"item\" width={300} pinned=\"left\" cellClassRules={{'cell-span': \"data.section==='big-title'\"}}></AgGridColumn>\r\n                  <AgGridColumn hide={true}></AgGridColumn>\r\n                    \r\n                  { this.state.showVendors.map( (item, key) => \r\n                    <AgGridColumn key={key} headerName={item.name} resizable={true} width={180}>\r\n                      <AgGridColumn field={'vend_city_'+item.id} headerName={'Город'} resizable={true} width={90}></AgGridColumn>\r\n                      <AgGridColumn field={'vend_price_'+item.id} headerName={'Цена'} resizable={true} width={90} cellStyle={dynamicCellStyle}></AgGridColumn>\r\n                    </AgGridColumn>\r\n                  ) }\r\n                  \r\n                  \r\n              </AgGridReact>\r\n            </div>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n          \r\n          </Grid>    \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport { NavLink as Link, Switch, Route, Redirect } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport IconButton from '@mui/material/IconButton';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\n\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\nimport BottomNavigation from '@mui/material/BottomNavigation';\r\nimport BottomNavigationAction from '@mui/material/BottomNavigationAction';\r\nimport RestoreIcon from '@mui/icons-material/Restore';\r\nimport SaveIcon from '@mui/icons-material/SaveAs';\r\nimport FavoriteIcon from '@mui/icons-material/Favorite';\r\nimport ArchiveIcon from '@mui/icons-material/Archive';\r\nimport Paper from '@mui/material/Paper';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>\r\n          {children}\r\n        </Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\n// главная страница\r\nexport class Revizion extends React.Component {\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      search: '',\r\n\r\n      items: [],\r\n      pf: [],\r\n      rec: [],\r\n      items_b: [],\r\n      pf_b: [],\r\n      rec_b: [],\r\n      all_data: [],\r\n        \r\n      chooseTab: 0,\r\n      \r\n    };\r\n  }\r\n\r\n  // переменные для фильтра\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name,\r\n\t  all_data: data.get_data_for_new_rev\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n   // смена точки\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n       point: data,\r\n       search: ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getRevList();\r\n    }, 50 )\r\n  }\r\n\r\n  // смена ревизии\r\n  changeRev(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n        chooseRev: data,\r\n        search : ''\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300 )\r\n  }\r\n\r\n   // поиск\r\n  async search(event){\r\n\t    \r\n\t\tlet data = {\r\n\t\t\tpoint_id: this.state.point,\r\n\t\t\tshowReady: this.state.showReady === true ? 1 : 0\r\n\t\t};\r\n    \r\n        // дергаем товары, полуфабрикаты, рецпеты\r\n        let res = this.state;\r\n        let items, rec, pf, text;\r\n        text = event.target.value.toLowerCase();\r\n\r\n        // Фильтрация\r\n        items = this.state.items_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        rec = this.state.rec_b.filter((item) => item.name.toLowerCase().includes(text));\r\n        pf = this.state.pf_b.filter((item) => item.name.toLowerCase().includes(text));\r\n\r\n        this.setState({\r\n            items  : items,\r\n            rec    : rec,\r\n            pf     : pf,\r\n            search : text\r\n         })\r\n\t\r\n  }\r\n\r\n   // метод обновления данных\r\n  async updateData(){\r\n\t  \r\n    let data = {\r\n      rev_id\t: this.state.chooseRev,\r\n      point_id\t: this.state.point,\r\n    };\r\n\t\r\n\t// to do переписать\r\n    let res = await this.getData('get_data_rev', data);\r\n          \r\n\t// отрисовка\r\n\tthis.setState({\r\n      items     : res.item,\r\n      rec       : res.rec,\r\n      pf        : res.pf,\r\n      items_b   : res.item,\r\n      rec_b     : res.rec,\r\n      pf_b      : res.pf,\r\n    })\r\n  }\r\n\r\n   // получение списка ревизий\r\n  async getRevList(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n    \r\n    this.setState({\r\n      revList: res,\r\n      chooseRev: res.length > 0 ? res[0]['id'] : ''\r\n    })\r\n    \r\n    if( res.length > 0 ){\r\n      setTimeout( () => {\r\n        this.getDataRev();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n   // получение данных ревизии\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      rev_id: this.state.chooseRev\r\n    };\r\n    \r\n    let res = await this.getData('get_data_rev', data);\r\n    \r\n    this.setState({\r\n        items: res.item,\r\n        rec: res.rec,\r\n        pf: res.pf,\r\n        items_b: res.item,\r\n        rec_b: res.rec,\r\n        pf_b: res.pf,\r\n    })\r\n  }\r\n\r\n\r\n   // рендер главная\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Link to={\"/revizion/new\"}>Новая ревизия</Link>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.revList} value={this.state.chooseRev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\t\t      <Grid item xs={12} sm={6}>\r\n\t\t\t      <MyTextInput func={ this.search.bind(this) } label='Поиск' value={this.state.search} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n            \r\n            <TabPanel value={this.state.chooseTab} index={0}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Товар</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.items.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            <TabPanel value={this.state.chooseTab} index={1}>\r\n              \r\n              <TableContainer component={Paper} >\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Заготовка</TableCell>\r\n                      <TableCell>Объем</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    { this.state.pf.map( (item, key) => (\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.value} {item.ei_name}</TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n              \r\n            </TabPanel>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n// Данные для страницы новая ревизия\r\nclass RevizionNewItem extends React.Component{\r\n  constructor(props) {\r\n      super(props);\r\n\r\n      this.state = {\r\n        item    : this.props.item,\r\n        pf      : this.props.pf,\r\n        change  : this.props.change,\r\n        type    : this.props.type,\r\n    };\r\n   }\r\n\r\n  // to do del\r\n  componentWillMount() {\r\n      //console.log('Will type=' + this.state.type);\r\n  }\r\n  componentDidMount() {\r\n      //console.log('type=' + this.state.type);\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return (\r\n        this.state.change !== nextState.change ||\r\n        this.state.change !== nextProps.change\r\n    );\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <Accordion>\r\n        <AccordionSummary\r\n          expandIcon={<ExpandMoreIcon />}\r\n          //aria-controls=\"panel1a-content\"\r\n          //id=\"panel1a-header\"\r\n        >\r\n          <Typography style={{ width: '60%' }}>{this.state.item.name} </Typography>\r\n          <Typography style={{ width: '40%' }}>{this.state.item.value} {this.state.item.ei_name} </Typography>\r\n        </AccordionSummary>\r\n\r\n            {/* Товары */}\r\n            {this.state.type != 'item'  ? null :\r\n                <AccordionDetails>\r\n                    {this.state.item.counts.map((it, k) =>\r\n                        \r\n                        <Grid container spacing={3} key={k} style={{ paddingTop: 10, paddingBottom: 10 }}>\r\n                            <Grid item xs={12} sm={6}>\r\n                                <MySelect data={this.state.item.size} value={it.need_pq} func={this.props.func.bind(this, 'item', this.props.itemKey, 'need_pq', k)} label='Объем упаковки' />\r\n                            </Grid>\r\n                            <Grid item xs={k == 0 ? 12 : 9} sm={5}>\r\n                                <TextField value={it.value} onChange={this.props.func.bind(this, 'item', this.props.itemKey, 'value', k)} fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                            </Grid>\r\n                            {k == 0 ? null :\r\n                                <Grid item xs={3} sm={1}>\r\n                                    <Button onClick={this.props.clear.bind(this, 'item', this.props.itemKey, k)} variant=\"contained\"> <CloseIcon /> </Button>\r\n                                </Grid>\r\n                            }\r\n                        </Grid>\r\n                        \r\n                    ) }\r\n          \r\n                    <Grid item xs={12} sm={6}>\r\n                        <Button variant=\"contained\" onClick={this.props.copy.bind(this, 'item', this.props.itemKey)}>Дублировать</Button>\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n            { /* Заготовки */}\r\n            {this.state.type != 'pf' ? null :\r\n                <AccordionDetails> \r\n                    <Grid item sm={5}> \r\n                        <TextField value={this.state.pf.value} onChange={ this.props.func.bind(this, 'pf', this.props.itemKey, 'value', 0) }  fullWidth variant=\"outlined\" size=\"small\" label=\"Количество\" />\r\n                    </Grid>\r\n                </AccordionDetails>\r\n            }\r\n\r\n      </Accordion>\r\n    )\r\n  }\r\n}\r\n\r\n// Новая ревизия\r\nexport class RevizionNew extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'revizion',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      revList: [],\r\n      chooseRev: '',\r\n      \r\n      storages: [],\r\n      items: [],\r\n      rec: [],\r\n      pf: [],\r\n      \r\n      chooseTab: 0,\r\n      modalDialog: false,\r\n      open: false\r\n    };\r\n    }\r\n\r\n\r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list.length == 1 ? data.point_list[0].id : '0',\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n\r\n    // измение точки подгрузка данных\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.getDataRev();\r\n    }, 300)\r\n\r\n    }\r\n\r\n  // метод получения данных\r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n\t  \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n\r\n    // получаем данные\r\n  async getDataRev(){\r\n    let data = {\r\n      point_id: this.state.point\r\n    };\r\n    \r\n    let res = await this.getData('get_data_for_new_rev', data);\r\n      \r\n    this.setState({\r\n      storages: res['storages'],\r\n      items: res['items'],\r\n      rec: res['rec'],\r\n      pf: res['pf']\r\n    })\r\n\r\n  }\r\n\r\n  // предварительное сохранение\r\n  saveData(type, key_item, data, key_data, event){\r\n      console.log('saveData');\r\n\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'][key_data][ [data] ] = event.target.value;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n      }\r\n\r\n      if (type == 'pf') {\r\n\r\n          let pf = this.state.pf;\r\n         \r\n          pf[key_item]['value'] = event.target.value;\r\n          pf[key_item]['change']++;\r\n\r\n          this.setState({\r\n              pf: pf\r\n          })\r\n          console.log('pf', pf);\r\n      }\r\n    \r\n  }\r\n\r\n   // проверка полей, отображения модального окна\r\n   checkData() {\r\n       console.log('checkData');\r\n       let items = this.state.items;\r\n       let pf = this.state.pf;\r\n\r\n       // проверка заполнения полей товаров, скрываем не заполненные\r\n       items.map((item, key) =>  {\r\n            if(item.value != 0){\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('item=', item, ' key ', key);\r\n       })\r\n\r\n       pf.map((item, key) => {\r\n            if (item.value != 0) {\r\n                item.is_show = 0;\r\n            }\r\n           //console.log('pf=', item, ' pf ', key);\r\n       })\r\n\r\n       this.setState({\r\n           items: items,\r\n           pf   : pf\r\n       })\r\n\r\n       this.setState({\r\n           modalDialog: true,\r\n           titleDialog: 'Ты уверен в правильности этих позиций ?'\r\n       })\r\n   }\r\n\r\n  // копируем\r\n  copyData(type, key_item){\r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      \r\n      items[key_item]['counts'].push({ need_pq: items[key_item]['counts'][0]['need_pq'], value: 0 })\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n  }\r\n\r\n  // очищаем\r\n  clearData(type, key_item, key_data){\r\n    \r\n    if( type == 'item' ){\r\n      let items = this.state.items;\r\n      let new_counts = [];\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        if( key != key_data ){\r\n          new_counts.push( item )\r\n        }\r\n      } )\r\n      \r\n      items[key_item]['counts'] = new_counts;\r\n      \r\n      let allVal = 0;\r\n      \r\n      items[key_item]['counts'].map( (item, key) => {\r\n        allVal += parseFloat(item.need_pq) * parseFloat(item.value);\r\n      } )\r\n      \r\n      items[key_item]['value'] = allVal;\r\n      items[key_item]['change'] ++;\r\n      \r\n      this.setState({\r\n        items: items\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  // получение данных ревизии\r\n  async saveRev() {\r\n    let data = {\r\n        point_id: this.state.point,\r\n        item: this.state.item,\r\n        rec: this.state.rec,\r\n        pf: this.state.pf,\r\n    };\r\n    console.log('saveRev ', data);\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>Новая ревизии</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.checkData.bind(this)} >Сохранить</Button>\r\n           </Grid>\r\n\r\n          <Grid item xs={12} sm={12} id=\"revTable\">\r\n            \r\n            <Tabs value={this.state.chooseTab} onChange={ (item, key) => { this.setState({ chooseTab: key }) } } textColor=\"primary\" indicatorColor=\"primary\" centered>\r\n              <Tab label=\"Товары\" {...a11yProps(0)} />\r\n              <Tab label=\"Заготовки\" {...a11yProps(1)} />\r\n            </Tabs>\r\n\r\n            {/* Товары * to do меняем TabPanel на div и в стилях скрываем style: this.state.chooseTab == 1 ? {display: blovk} : {display: monr} */}\r\n            <div style = { this.state.chooseTab == 0 ? {display: 'block'} : {display: 'none'} } >\r\n              \r\n              {this.state.items.map((item, key) => \r\n                parseInt(item.is_show) == 0 ? null :\r\n                   <RevizionNewItem key={key} type=\"item\" itemKey={key} item={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this)} />\r\n              )} \r\n              \r\n            </div>\r\n\r\n            {/* Заготовки */}\r\n            <div style={this.state.chooseTab == 1 ? { display: 'block' } : { display: 'none' }} >\r\n\r\n                {this.state.pf.map((item, key) =>\r\n                   parseInt(item.is_show) == 0 ? null :\r\n                    <RevizionNewItem key={key} type=\"pf\" itemKey={key} item={item} pf={item} change={item.change} func={this.saveData.bind(this)} copy={this.copyData.bind(this)} clear={this.clearData.bind(this) } />\r\n                )}\r\n              \r\n            </div>\r\n            \r\n          </Grid>\r\n        </Grid>\r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.storages.map( (item, key) =>\r\n                <ListItem button key={key}>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        { this.state.storages.length == 0 ? null :\r\n          <Paper sx={{ position: 'fixed', bottom: 0, left: 0, right: 0 }} elevation={3}>\r\n            <BottomNavigation\r\n              showLabels\r\n             \r\n            >\r\n              <BottomNavigationAction onClick={(event, newValue) => {\r\n                            this.setState({ open: true })\r\n                        }}  label=\"Recents\" icon={<RestoreIcon />} />\r\n                        <BottomNavigationAction onClick={this.checkData.bind(this)} label=\"Save\" icon={<SaveIcon />} />\r\n            </BottomNavigation>\r\n          </Paper>\r\n         }\r\n\r\n        <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={() => { this.setState({ modalDialog: false }) }}\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n        >\r\n            <DialogTitle id=\"alert-dialog-title\">{this.state.titleDialog}</DialogTitle>\r\n                <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n                    <DialogContentText id=\"alert-dialog-description\">\r\n                        <Grid container spacing={3}>Не все поля заполнены </Grid>\r\n                    </DialogContentText>\r\n\r\n                    <Grid container spacing={3}>\r\n                        <Grid item>Позиция </Grid>\r\n                        <Grid item>Кол-во </Grid>\r\n                        <Grid item>Ед. измер. </Grid>\r\n                    </Grid>\r\n                        \r\n                    \r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button color=\"primary\">Хорошо</Button>\r\n                <Button color=\"primary\">Сохранить</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n        \r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\nimport AccessTimeIcon from '@mui/icons-material/AccessTime';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport AddIcon from '@mui/icons-material/Add';\r\n\r\n\r\n\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Avatar from '@mui/material/Avatar';\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemAvatar from '@mui/material/ListItemAvatar';\r\nimport ListItemText from '@mui/material/ListItemText';\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport { blue } from '@mui/material/colors';\r\n\r\nimport HomeWorkIcon from '@mui/icons-material/HomeWork';\r\nimport SyncAltIcon from '@mui/icons-material/SyncAlt';\r\n\r\nimport LooksOneIcon from '@mui/icons-material/LooksOne';\r\nimport LooksTwoIcon from '@mui/icons-material/LooksTwo';\r\nimport Looks3Icon from '@mui/icons-material/Looks3';\r\n\r\nimport AssessmentIcon from '@mui/icons-material/Assessment';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string'); \r\n\r\nfunction SimpleDialog(props) {\r\n  const { onClose, selectedValue, open } = props;\r\n\r\n  const handleClose = () => {\r\n    onClose(selectedValue);\r\n  };\r\n\r\n  const handleListItemClick = (value) => {\r\n    onClose(value);\r\n  };\r\n\r\n  return (\r\n    <Dialog onClose={handleClose} open={open}>\r\n      <List sx={{ pt: 0 }}>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <AccessTimeIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить часы на месяц\" />\r\n        </ListItem>\r\n        \r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <SyncAltIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить смену\" />\r\n        </ListItem>\r\n        <ListItem autoFocus button onClick={() => handleListItemClick('addAccount')}>\r\n          <ListItemAvatar>\r\n            <Avatar>\r\n              <HomeWorkIcon />\r\n            </Avatar>\r\n          </ListItemAvatar>\r\n          <ListItemText primary=\"Сменить точку\" />\r\n        </ListItem>\r\n        \r\n      </List>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nSimpleDialog.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  open: PropTypes.bool.isRequired,\r\n  selectedValue: PropTypes.string.isRequired,\r\n};\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nclass HeaderItem extends React.Component {\r\n  render(){\r\n    return (\r\n      <>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Ур. кафе: {this.props.lv_cafe}</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Число месяца</TableCell>\r\n\r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.date}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell></TableCell>\r\n              \r\n              { this.props.dataKey > 0 ? \r\n                <>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                  <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                </>\r\n                  :\r\n                <>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeDopBonus}>{ !this.props.bonus_other ? '+ / -' : parseInt(this.props.bonus_other) == 1 ? <AddIcon style={{ fontSize: 30, color: 'green' }} /> : <CloseIcon style={{ fontSize: 30, color: 'red' }} /> }</TableCell>\r\n                  <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.props.changeLVDir}>Ур. дира: {this.props.lv_dir}</TableCell>\r\n                </>\r\n              }\r\n                  \r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n              <TableCell></TableCell>\r\n            </>\r\n          }\r\n\r\n        </TableRow>\r\n        <TableRow>\r\n          <TableCell style={{ minWidth: 140, minHeight: 38 }}>Сотрудник</TableCell>\r\n          <TableCell style={{ minWidth: 165, minHeight: 38 }}>Должность</TableCell>\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <TableCell></TableCell>\r\n          }\r\n          \r\n          {this.props.days.map( (item, key) => \r\n            <TableCell className=\"min_block\" style={{ backgroundColor: item.day == 'Пт' || item.day == 'Сб' || item.day == 'Вс' ? '#ffe9bd' : '#fff' }} key={key}>{item.day}</TableCell>\r\n          )}\r\n          \r\n          { this.props.kind == 'manager' ? null :\r\n            <>\r\n              <TableCell style={{ textAlign: 'center' }}>За 1ч</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Командный бонус</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>За часы</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Ошибки</TableCell>\r\n              <TableCell style={{ textAlign: 'center' }}>Бонус</TableCell>\r\n              { this.props.show_zp == 1 || this.props.show_zp == 0 ?\r\n                <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                  :\r\n                null\r\n              }\r\n              <TableCell style={{ textAlign: 'center' }}>Выдано</TableCell>\r\n            </>\r\n          }\r\n        </TableRow>\r\n        \r\n        <TableRow style={{ backgroundColor: '#e5e5e5' }}>\r\n          <TableCell style={{ textAlign: 'center' }} colSpan={ this.props.days.length + 3 + 7 }>{this.props.item.data}</TableCell>\r\n        </TableRow>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport class WorkSchedule extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'work_schedule',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      mounths: [],\r\n      point: '0',\r\n      mounth: '0',\r\n      \r\n      one: null,\r\n      two: null,\r\n      test_one: [],\r\n      test_two: [],\r\n      \r\n      isOpenModalH: false,\r\n      \r\n      userInfo: null,\r\n      \r\n      hList: [],\r\n      mList: [],\r\n      \r\n      newTimeStart: '10:00',\r\n      newTimeEnd: '22:00',\r\n      \r\n      openNewTimeAdd: false,\r\n      \r\n      otherAppList: [],\r\n      otherApp: '',\r\n      \r\n      testVal: '',\r\n      testOpen: false,\r\n      \r\n      mainMenu: false,\r\n      mainMenuH: false,\r\n      mainMenuSmena: false,\r\n      show_bonus: false,\r\n      mainMenuPrice: false,\r\n      mainMenuLVDIR: false,\r\n      mainMenuDopBonus: false,\r\n\r\n      show_zp_one: 0,\r\n      show_zp_two: 0,\r\n      kind: '',\r\n\r\n      myOtherSmens: [],\r\n      \r\n      chooseUser: null,\r\n\r\n      tabTable: 1,\r\n\r\n      lv_cafe: 0,\r\n      lv_dir: 0,\r\n      arr_dir_lv: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = {\r\n      \r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n    \r\n    let hList = [];\r\n    let mList = [];\r\n    \r\n    for(let h = 0; h <= 23; h ++){\r\n      hList.push({\r\n        id: h,\r\n        name: h\r\n      })\r\n    }\r\n    \r\n    for(let m = 0; m <= 50; m += 10){\r\n      mList.push({\r\n        id: m,\r\n        name: m\r\n      })\r\n    }\r\n    \r\n    this.setState({\r\n      points: res.point_list,\r\n      point: res.point_list[0].id,\r\n      \r\n      mounths: res.mounths,\r\n      mounth: res.mounths.find( (item) => parseInt( item.is_active ) == 1 )['id'],\r\n      \r\n      hList: hList,\r\n      mList: mList,\r\n      \r\n      module_name: res.module_info.name\r\n    })\r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    let arr_dir_lv = [];\r\n\r\n    for(let i = 1; i <= 20; i ++){\r\n      arr_dir_lv.push(i);\r\n    }\r\n\r\n    this.setState({\r\n      arr_dir_lv: arr_dir_lv\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeCheckOrders(event){\r\n    let data = event.target.checked;\r\n    \r\n    this.setState({\r\n      showReady: data\r\n    })\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      mounth: this.state.mounth\r\n    };\r\n    \r\n    let res = await this.getData('get_graph', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      one: res.date.one,\r\n      two: res.date.two,\r\n      \r\n      test_one: res.one,\r\n      test_two: res.two,\r\n\r\n      show_zp_one: res.show_zp_one,\r\n      show_zp_two: res.show_zp_two,\r\n      kind: res.kind,\r\n\r\n      lv_cafe: res.lv_cafe,\r\n      lv_dir: res.lv_dir\r\n    })\r\n  }\r\n  \r\n  async openH(item, this_date){\r\n    console.log( item )\r\n    \r\n    let data = {\r\n      smena_id: item.smena_id,\r\n      app_id: item.app_id,\r\n      user_id: item.id,\r\n      date: this_date,\r\n      date_start: item.date\r\n    };\r\n    \r\n    let res = await this.getData('get_user_day', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      isOpenModalH: true,\r\n      userInfo: res.h_info,\r\n      otherAppList: res.other_app,\r\n      show_bonus: res.show_bonus\r\n    })\r\n  }\r\n  \r\n  delTime(key_time){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours = userInfo.hours.filter( (item, key) => parseInt(key) != parseInt(key_time) );\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  changeHourse(type, key, event){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    userInfo.hours[ key ][ [type] ] = event.target.value;\r\n    \r\n    this.setState({\r\n      userInfo: userInfo\r\n    })\r\n  }\r\n  \r\n  async saveDayHourse(){\r\n    let data = {\r\n      date: this.state.userInfo.date,\r\n      user_id: this.state.userInfo.user_id,\r\n      smena_id: this.state.userInfo.smena_id,\r\n      app_id: this.state.userInfo.app_id,\r\n      hours: this.state.userInfo.hours,\r\n      new_app: this.state.userInfo.new_app,\r\n      mentor_id: this.state.userInfo.mentor_id\r\n    }\r\n    \r\n    let res = await this.getData('save_user_day', data);\r\n    \r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n  \r\n  addTime(){\r\n    let userInfo = this.state.userInfo;\r\n    \r\n    let check = userInfo.hours.find( (item) => item.time_start == this.state.newTimeStart && item.time_end == this.state.newTimeEnd );\r\n    \r\n    if( check ){\r\n      this.setState({\r\n        openNewTimeAdd: false\r\n      })\r\n      \r\n      return ;\r\n    }\r\n    \r\n    userInfo.hours.push({\r\n      time_start: this.state.newTimeStart,\r\n      time_end: this.state.newTimeEnd\r\n    })\r\n    \r\n    this.setState({\r\n      userInfo: userInfo,\r\n      openNewTimeAdd: false\r\n    })\r\n  }\r\n  \r\n  async fastTime(type){\r\n    let data = {\r\n      type: type,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth\r\n    }\r\n    \r\n    let res = await this.getData('save_fastTime', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async fastSmena(smena_id){\r\n    let data = {\r\n      new_smena_id: smena_id,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_fastSmena', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuSmena: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  async changePriceH(price){\r\n    let data = {\r\n      price: price,\r\n      user_id: this.state.chooseUser.id,\r\n      app_id: this.state.chooseUser.app_id,\r\n      smena_id: this.state.chooseUser.smena_id,\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable\r\n    }\r\n    \r\n    let res = await this.getData('save_userPriceH', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenu: false,\r\n        mainMenuH: false,\r\n        mainMenuPrice: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeLVDir(){\r\n    this.setState({\r\n      mainMenuLVDIR: true\r\n    })\r\n  }\r\n\r\n  async newLvDir(LV){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      point_id: this.state.point,\r\n      dir_lv: LV\r\n    }\r\n    \r\n    let res = await this.getData('save_dir_lv', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuLVDIR: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  changeDopBonus(){\r\n    this.setState({\r\n      mainMenuDopBonus: true\r\n    })\r\n  }\r\n\r\n  async dop_bonus(type){\r\n    let data = {\r\n      date: this.state.mounth,\r\n      part: this.state.tabTable,\r\n      point_id: this.state.point,\r\n      type: type\r\n    }\r\n    \r\n    let res = await this.getData('save_dop_bonus', data);\r\n    \r\n    console.log( res );\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        mainMenuDopBonus: false\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n  }\r\n\r\n  render(){ \r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenu: false }) } } open={this.state.mainMenu}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.full_app_name} {this.state.chooseUser.user_name} {this.state.mounth}</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuH: true }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <AccessTimeIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить часы на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={ () => { this.setState({ mainMenu: false, mainMenuSmena: true, myOtherSmens: this.state.chooseUser.other_smens }) } }>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <SyncAltIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить смену\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <HomeWorkIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Сменить точку\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuH: false }) } } open={this.state.mainMenuH}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часы</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 1)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksOneIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 1 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n            <ListItem button onClick={this.fastTime.bind(this, 2)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <LooksTwoIcon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"Со 2 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 3)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 3 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            <ListItem button onClick={this.fastTime.bind(this, 4)}>\r\n              <ListItemAvatar>\r\n                <Avatar>\r\n                  <Looks3Icon />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary=\"С 4 числа 2/2 с 10 до 22 на месяц\" />\r\n            </ListItem>\r\n            \r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuSmena: false }) } } open={this.state.mainMenuSmena}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Смена</DialogTitle>\r\n          }\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.myOtherSmens.map( (item, key) =>\r\n              <ListItem key={key} button onClick={this.fastSmena.bind(this, item.id)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ) }\r\n        \r\n          </List>\r\n        </Dialog>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ mainMenuPrice: false }) } } open={this.state.mainMenuPrice}>\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <DialogTitle>{this.state.chooseUser.user_name} {this.state.mounth} Часовая ставка</DialogTitle>\r\n          }\r\n          \r\n          { !this.state.chooseUser ? null :\r\n            <List sx={{ pt: 0 }}>\r\n              \r\n              { this.state.chooseUser.price_arr.map( (item, key) =>\r\n                <ListItem key={key} button onClick={this.changePriceH.bind(this, item)} style={ parseFloat(this.state.chooseUser.price_p_h) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} }>\r\n                  <ListItemAvatar>\r\n                    <Avatar>\r\n                      <AssessmentIcon />\r\n                    </Avatar>\r\n                  </ListItemAvatar>\r\n                  <ListItemText primary={item} />\r\n                </ListItem>\r\n              ) }\r\n          \r\n            </List>\r\n          }\r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuLVDIR: false }) } } open={this.state.mainMenuLVDIR}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Уровень директора</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            { this.state.arr_dir_lv.map( (item, key) =>\r\n              <ListItem key={key} button style={ parseFloat(this.state.lv_dir) == parseFloat(item) ? { backgroundColor: 'green', color: '#fff' } : {} } onClick={this.newLvDir.bind(this, item)}>\r\n                <ListItemAvatar>\r\n                  <Avatar>\r\n                    <AssessmentIcon />\r\n                  </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={item+' уровень'} />\r\n              </ListItem>\r\n            ) }\r\n          </List>\r\n          \r\n        </Dialog>\r\n\r\n        <Dialog onClose={ () => { this.setState({ mainMenuDopBonus: false }) } } open={this.state.mainMenuDopBonus}>\r\n          \r\n          <DialogTitle>{this.state.mounth} Командный бонус</DialogTitle>\r\n          \r\n          <List sx={{ pt: 0 }}>\r\n            \r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'green' }}>\r\n                  <CheckIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Выдать'} />\r\n            </ListItem>\r\n            <ListItem button>\r\n              <ListItemAvatar>\r\n                <Avatar style={{ backgroundColor: 'red' }}>\r\n                  <CloseIcon style={{ color: '#fff' }} />\r\n                </Avatar>\r\n              </ListItemAvatar>\r\n              <ListItemText primary={'Отказать'} />\r\n            </ListItem>\r\n            \r\n          </List>\r\n          \r\n        </Dialog>\r\n        \r\n        { !this.state.userInfo ? null :\r\n          <Dialog\r\n            open={this.state.isOpenModalH}\r\n            onClose={ () => { this.setState({ isOpenModalH: false }) } }\r\n            scroll='paper'\r\n            aria-labelledby=\"scroll-dialog-title\"\r\n            aria-describedby=\"scroll-dialog-description\"\r\n          >\r\n            <DialogTitle id=\"scroll-dialog-title\">{this.state.userInfo.user.app_name + ' ' + this.state.userInfo.user.user_name + ' ' + this.state.userInfo.date}</DialogTitle>\r\n            <DialogContent dividers={true}>\r\n              \r\n              <Typography style={{ marginBottom: 10 }}>{'Моя нагрузка: ' + this.state.userInfo.user.my_load_h + ' / Средняя нагрузка: ' + this.state.userInfo.user.all_load_h}</Typography>\r\n              { this.state.show_bonus === false ? null :\r\n                <Typography style={{ marginBottom: 20 }}>{'Бонус: ' + this.state.userInfo.user.bonus}</Typography>\r\n              }\r\n              \r\n              { this.state.otherAppList.length == 0 ? null :\r\n                <MySelect data={this.state.otherAppList} value={this.state.userInfo.new_app} func={ (event) => { let userInfo = this.state.userInfo; userInfo.new_app = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              { this.state.userInfo.mentor_list.length == 0 ? null :\r\n                <MySelect data={this.state.userInfo.mentor_list} value={this.state.userInfo.mentor_id} func={ (event) => { let userInfo = this.state.userInfo; userInfo.mentor_id = event.target.value; this.setState({ userInfo: userInfo }) } } label='Кем работает' />\r\n              }\r\n              \r\n              <Accordion \r\n                style={{ marginTop: 10 }} \r\n                expanded={this.state.openNewTimeAdd} \r\n                onChange={ () => { this.setState({ openNewTimeAdd: !this.state.openNewTimeAdd }) } }>\r\n                  \r\n                <AccordionSummary\r\n                  expandIcon={<AddIcon />}\r\n                >\r\n                  <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                  <Typography>Добавить время</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                  \r\n                  <MyTimePicker value={this.state.newTimeStart} func={ (event) => { this.setState({ newTimeStart: event.target.value }) } } label='Время начала работы' />\r\n                  <MyTimePicker value={this.state.newTimeEnd} func={ (event) => { this.setState({ newTimeEnd: event.target.value }) } } label='Время окончания работы' />\r\n                  \r\n                  <AddIcon style={{ minWidth: 50, minHeight: 38, cursor: 'pointer' }} onClick={ this.addTime.bind(this) } />\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hours.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<CloseIcon onClick={ this.delTime.bind(this, key) } />}\r\n                  >\r\n                    <AccessTimeIcon style={{ marginRight: 10 }} />\r\n                    <Typography>{item.time_start + ' - ' + item.time_end}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'row' }}>\r\n                    <MyTimePicker value={item.time_start} func={ this.changeHourse.bind(this, 'time_start', key) } label='Время начала работы' />\r\n                    <MyTimePicker value={item.time_end} func={ this.changeHourse.bind(this, 'time_end', key) } label='Время окончания работы' />\r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n              \r\n              <Accordion style={{ marginTop: 50 }} disabled>\r\n                <AccordionSummary>\r\n                  <Typography>История</Typography>\r\n                </AccordionSummary>\r\n              </Accordion>  \r\n              \r\n              { this.state.userInfo.hist.map( (item, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary>\r\n                    <Typography>{item.date + ' - ' + item.user_name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ display: 'flex', flexDirection: 'column' }}>\r\n                    \r\n                    { item.items.map( (it, k) =>\r\n                      <Typography key={k}>{it.time_start + ' - ' + it.time_end} {it.app_name == '' ? '' : ' - ' + it.app_name} </Typography>\r\n                    ) }\r\n                    \r\n                  </AccordionDetails>\r\n                </Accordion>  \r\n              ) }\r\n              \r\n            </DialogContent>\r\n            <DialogActions style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between' }}>\r\n              <Button style={{ backgroundColor: 'green', color: '#fff' }} onClick={this.saveDayHourse.bind(this)}>Сохранить</Button>\r\n              <Button style={{ backgroundColor: 'red', color: '#fff' }} onClick={() => { this.setState({ isOpenModalH: false }) }}>Отмена</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ (event) => { this.setState({ point: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.mounths} value={this.state.mounth} func={ (event) => { this.setState({ mounth: event.target.value }) } } label='Месяц' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n            \r\n              \r\n          <Box sx={{ width: '100%' }}>\r\n            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n              <Tabs value={this.state.tabTable} onChange={ (event, data) => { this.setState({ tabTable: data }) } } centered >\r\n                <Tab label=\"С 1 по 15 числа\" {...a11yProps(0)} />\r\n                <Tab label=\"С 16 по конец месяца\" {...a11yProps(1)} />\r\n              </Tabs>\r\n            </Box>\r\n            <TabPanel value={this.state.tabTable} index={0}>\r\n              { !this.state.one ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_one\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_one.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem key={key} bonus_other={this.state.one.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} kind={this.state.kind} show_zp={this.state.show_zp_one} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.one.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n\r\n                                { this.state.show_zp_one == 1 || this.state.show_zp_one == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n\r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.one.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            <TabPanel value={this.state.tabTable} index={1}>\r\n              { !this.state.two ? null :\r\n                <TableContainer component={Paper}>\r\n                  <Table aria-label=\"a dense table\" id=\"table_graph_two\">\r\n                    \r\n                    <TableBody>\r\n                      \r\n                      { this.state.test_two.map( (item, key) =>\r\n                        item.row == 'header' ?\r\n                          <HeaderItem bonus_other={this.state.two.bonus_other} changeLVDir={this.changeLVDir.bind(this)} changeDopBonus={this.changeDopBonus.bind(this)} key={key} kind={this.state.kind} show_zp={this.state.show_zp_two} lv_dir={this.state.lv_dir} lv_cafe={this.state.lv_cafe} dataKey={key} days={this.state.two.days} item={item} />\r\n                            :\r\n                          <TableRow key={key}>\r\n                            <TableCell style={{ minWidth: 140, minHeight: 38, position: 'absolute', backgroundColor: '#fff', marginLeft: '-1px', borderBottom: '2px solid #e5e5e5' }}>{item.data.user_name}</TableCell>\r\n                            <TableCell style={{ minWidth: 165, minHeight: 38 }}>{item.data.app_name}</TableCell>\r\n\r\n                            { this.state.kind == 'manager' ? null :\r\n                              <TableCell style={{ textAlign: 'center' }}> <SyncAltIcon style={{ cursor: 'pointer' }} onClick={ () => { this.setState({ mainMenu: true, chooseUser: item.data }) } } /> </TableCell>\r\n                            }\r\n\r\n                            { item.data.dates.map( (date, date_k) =>\r\n                              <TableCell onClick={ this.openH.bind(this, item.data, date.date) } className=\"min_block\" style={{ backgroundColor: date.info ? date.info.color : '#fff', cursor: 'pointer' }} key={date_k}>{date.info ? date.info.hours : ''}</TableCell>\r\n                            ) }\r\n                            \r\n                            { this.state.kind == 'manager' ? null :\r\n                              <>\r\n                                <TableCell style={{textAlign: 'center', minWidth: 70, cursor: 'pointer'}} onClick={ () => {this.setState({ mainMenuPrice: true, chooseUser: item.data }) } }>{item.data.price_p_h}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.dop_bonus}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.h_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.err_price}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.my_bonus}</TableCell>\r\n                                \r\n                                { this.state.show_zp_two == 1 || this.state.show_zp_two == 0 ?\r\n                                  <TableCell style={{textAlign: 'center'}}>{ ( parseInt(item.data.dop_bonus) + parseInt(item.data.dir_price_dop) + parseInt(item.data.h_price) + parseInt(item.data.my_bonus) - parseInt(item.data.err_price) )+'' }</TableCell>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <TableCell style={{textAlign: 'center'}}>{item.data.given}</TableCell>\r\n                              </>\r\n                            }\r\n                          </TableRow>\r\n                      ) }\r\n                      \r\n                      \r\n                    </TableBody>\r\n                    \r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell></TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" style={{ backgroundColor: item.type == 'cur' ? '#98e38d' : '#fff' }} key={key}>{item.res}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Роллов</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_rolls}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell>Пиццы</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.bonus.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_pizza}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                      <TableRow>\r\n                        <TableCell></TableCell>\r\n                        <TableCell className=\"min_size\">Заказы готовились больше 40 минут</TableCell>\r\n                        \r\n                        { this.state.kind == 'manager' ? null :\r\n                          <TableCell></TableCell>\r\n                        }\r\n                        \r\n                        {this.state.two.order_stat.map( (item, key) => \r\n                          <TableCell className=\"min_block min_size\" key={key}>{item.count_false}</TableCell>\r\n                        )}\r\n                        \r\n                      </TableRow>\r\n                      \r\n                    </TableFooter>\r\n                    \r\n                    \r\n                  </Table>\r\n                </TableContainer>\r\n              }\r\n            </TabPanel>\r\n            \r\n          </Box>\r\n          \r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport { NavLink as Link, useParams } from 'react-router-dom';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Divider from '@mui/material/Divider';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport CheckIcon from '@mui/icons-material/Check';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTimePicker, MyTextInput, MyDaterange, MyAutocomplite, MyDatePickerNew } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\nimport TextareaAutosize from '@mui/material/TextareaAutosize';\r\n\r\nimport DatePicker from \"react-multi-date-picker\"\r\n\r\nclass MyDatePicker extends React.PureComponent {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n    };\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Typography>{this.props.label}</Typography>\r\n        <DatePicker\r\n          format=\"YYYY-MM-DD\"\r\n          \r\n          multiple\r\n          sort\r\n          \r\n          //mask=\"____/__/__\"\r\n          //multiple={ this.props.multiple && this.props.multiple === true ? true : false }\r\n          //disableCloseOnSelect={true}\r\n          //inputFormat=\"yyyy-MM-dd\"\r\n          style={{ width: '100%' }}\r\n          label={this.props.label}\r\n          value={this.props.value}\r\n          onChange={this.props.func}\r\n        />\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction formatDateDot(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [day, month, year].join('.');\r\n}\r\n\r\nfunction formatDateName(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  //if (month.length < 2) \r\n  //    month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  let m = '';    \r\n      \r\n  switch(parseInt(month)){\r\n\t\tcase 1:{\r\n\t\t\tm = 'Января';\r\n\t\t\tbreak;}\r\n\t\tcase 2:{\r\n\t\t\tm = 'Февраля';\r\n\t\t\tbreak;}\r\n\t\tcase 3:{\r\n\t\t\tm = 'Марта';\r\n\t\t\tbreak;}\r\n\t\tcase 4:{\r\n\t\t\tm = 'Апреля';\r\n\t\t\tbreak;}\r\n\t\tcase 5:{\r\n\t\t\tm = 'Мая';\r\n\t\t\tbreak;}\r\n\t\tcase 6:{\r\n\t\t\tm = 'Июня';\r\n\t\t\tbreak;}\t\r\n\t\tcase 7:{\r\n\t\t\tm = 'Июля';\r\n\t\t\tbreak;}\r\n\t\tcase 8:{\r\n\t\t\tm = 'Августа';\r\n\t\t\tbreak;}\r\n\t\tcase 9:{\r\n\t\t\tm = 'Сентября';\r\n\t\t\tbreak;}\r\n\t\tcase 10:{\r\n\t\t\tm = 'Октября';\r\n\t\t\tbreak;}\r\n\t\tcase 11:{\r\n\t\t\tm = 'Ноября';\r\n\t\t\tbreak;}\r\n\t\tcase 12:{\r\n\t\t\tm = 'Декабря';\r\n\t\t\tbreak;}\t\r\n\t}    \r\n      \r\n  return [day, m].join(' ');\r\n}\r\n\r\nclass SiteSale2_new_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n        {id: 8, name: 'Отправить через бота ВК'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      promo_prizw_vk: \r\n    \t\t'Привет!\\r\\n'+\r\n    \t\t'Поздравляем 🎉\\r\\n'+\r\n    \t\t'Промокод --promo-- на --position--, действует до --endDate--. Активировать можно при заказе на доставку, самовывоз и в кафе.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Обратите внимание, что за подарочную позицию надо будет заплатить 1 руб, это необходимое условие для получения приза. В промокод не входят соевый соус, имбирь и васаби.\\r\\n\\r\\n'+\r\n\r\n    \t\t'Заказы принимаем на сайте --site--\\r\\n\\r\\n'+\r\n\r\n    \t\t'Режим работы: с 10:00 до 21:30\\r\\n'+\r\n    \t\t'Адреса наших кафе:\\r\\n'+\r\n    \t\t'--addrCity--',\r\n      \r\n      spamNameSMS: '',\r\n        \r\n      auto_text: true,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: null,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: null,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: [],\r\n      createdPromo: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all_for_new');\r\n    \r\n    let date = new Date();\r\n    let fullDate = '';\r\n    \r\n    let Y = date.getFullYear();\r\n    let M = date.getMonth()+1;\r\n    let D = date.getDate();\r\n    \r\n    fullDate = Y + '-' + ( parseInt(M) > 9 ? M : '0'+M ) + '-' + ( parseInt(D) > 9 ? D : '0'+D );\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      cities: data.cities,\r\n      module_name: data.module_info.name,\r\n      promo_action_list: data.promo_action_list,\r\n      promo_sale_list: data.promo_sale_list,\r\n      \r\n      date_start: fullDate,\r\n      date_end: fullDate,\r\n      \r\n      items: data.items,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      this.setState({\r\n        createdPromo: []\r\n      });\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      this.state.saleItem.map( (item) => {\r\n        promo_items.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_cat = [];\r\n      \r\n      this.state.saleCat.map( (item) => {\r\n        promo_cat.push(item.id)\r\n      } )\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        spamNameSMS: this.state.spamNameSMS,\r\n        promo_vk_prize: this.state.promo_prizw_vk,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        count_promo: count_promo,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_new_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      if( res['st'] == false ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text_err\r\n        });\r\n\r\n        setTimeout( () => {\r\n          this.click = false;    \r\n        }, 300 )\r\n\r\n        return ;\r\n      }\r\n\r\n      this.setState({\r\n        createdPromo: res.promo_text\r\n      });\r\n\r\n      //создать\r\n      if( parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 8 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Создано'\r\n        })\r\n      }\r\n      \r\n      //создать и показать\r\n      if( parseInt(this.state.where_promo) == 2 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: 'Промокоды: '+res.promo_text.join(', ')\r\n        })\r\n      }\r\n      \r\n      //почта\r\n      if( parseInt(this.state.where_promo) == 3 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //смс / смс рассылка / ЛК\r\n      if( parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 || parseInt(this.state.where_promo) == 6 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text\r\n        })\r\n      }\r\n      \r\n      //сертификаты\r\n      if( parseInt(this.state.where_promo) == 7 ){\r\n        this.setState({\r\n          modalDialog: true,\r\n          modalText: res.text,\r\n          modalLink: res.link\r\n        })\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        this.click = false;\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        //count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      let count_promo = 0;\r\n\r\n      if( parseInt( this.state.sale_type ) == 2 ){\r\n        count_promo = count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'];//размер скидки\r\n      }else{\r\n        count_promo = parseInt(this.state.promo_sale);\r\n      }\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.itemsAddPrice.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.itemsAddPrice.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n    \r\n    let text = '';\r\n    \r\n    console.log( this.state.testDate )\r\n    \r\n    if( this.state.testDate.length > 0 ){\r\n      \r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n\t\t\ttext = '(кроме ';\r\n\t\t\t\r\n\t\t\tdateList.map(function(item){\r\n\t\t\t\ttext += formatDateName(item) + ', ';\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\ttext = text.slice(0, -1);\r\n\t\t\ttext = text.slice(0, -1);\r\n\r\n      text += ')';\r\n      \r\n      console.log( 'text', text )\r\n\t\t}\r\n    \r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+' '+text+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem.id) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem.id,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemAdd(item){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAdd: newItems,\r\n      addItemAllPrice: addItemAllPrice\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem.id) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem.id) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem.id,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  delItemPrice(item){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let newItems = thisItems.filter( (it) => parseInt(it.item_id) != parseInt(item.item_id) );\r\n    \r\n    let addItemAllPrice = 0;\r\n      \r\n    newItems.map( (item) => {\r\n      addItemAllPrice += parseInt(item.price)\r\n    } )\r\n    \r\n    this.setState({\r\n      itemsAddPrice: newItems\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n\r\n            <br />\r\n\r\n            <Typography>Созданыне промокоды: { this.state.createdPromo.join(', ') }</Typography>\r\n\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { this.state.generate_new === true ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.promo_name} func={ this.changeData.bind(this, 'promo_name') } label='Название промокода' />\r\n              </Grid>\r\n            }\r\n            { this.state.generate_new === false ? null :\r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.promo_length} func={ this.changeData.bind(this, 'promo_length') } label='Длина промокода' />\r\n              </Grid>\r\n            }\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyCheckBox value={this.state.generate_new} func={ this.changeDataCheck.bind(this, 'generate_new') } label='Сгенерировать' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.promo_count} func={ this.changeData.bind(this, 'promo_count') } label='Количество промокодов' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.promo_action_list} value={this.state.promo_action} func={ this.changeData.bind(this, 'promo_action') } label='Промокод дает:' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          { parseInt(this.state.promo_action) !== 1 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.sale_list} value={this.state.type_sale} func={ this.changeData.bind(this, 'type_sale') } label='Скидка' />\r\n              </Grid>\r\n            \r\n              { parseInt(this.state.type_sale) !== 1 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.saleItem} func={ (event, data) => { this.changeDataData('saleItem', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              }\r\n              \r\n              { parseInt(this.state.type_sale) !== 2 ? null :\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyAutocomplite data={this.state.cats} value={this.state.saleCat} func={ (event, data) => { this.changeDataData('saleCat', data) } } multiple={true} label='Категории' />\r\n                </Grid>\r\n              }\r\n            \r\n              { parseInt( this.state.sale_type ) == 1 ?\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={3}>\r\n                  <MySelect data={this.state.promo_sale_list} value={this.state.promo_sale} func={ this.changeData.bind(this, 'promo_sale') } label='Размер скидки' />\r\n                </Grid>\r\n              }\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MySelect data={this.state.type_sale_list} value={this.state.sale_type} func={ this.changeData.bind(this, 'sale_type') } label='Какая скидка' />\r\n              </Grid>\r\n            \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.addItem} func={ (event, data) => { this.changeDataData('addItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Количество' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemPrice} func={ this.changeData.bind(this, 'addItemPrice') } label='Цена за все' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.addItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 2 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Количество</TableCell>\r\n                      <TableCell>Цена за все</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAdd.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.count}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemAdd.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                    \r\n                  </TableBody>\r\n                  \r\n                  <TableFooter>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n                      <TableCell></TableCell>\r\n                      <TableCell>{this.state.addItemAllPrice}</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableFooter>\r\n                  \r\n                  \r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={3}>\r\n                <MyAutocomplite data={this.state.items} value={this.state.priceItem} func={ (event, data) => { this.changeDataData('priceItem', data) } } label='Позиция' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <MyTextInput value={this.state.addItemCount} func={ this.changeData.bind(this, 'addItemCount') } label='Цена за 1 ед' />\r\n              </Grid>\r\n            \r\n              <Grid item xs={12} sm={3}>\r\n                <Button variant=\"contained\" onClick={this.priceItemAdd.bind(this)}>Добавить</Button>\r\n              </Grid>\r\n              \r\n            </Grid>\r\n          }\r\n          \r\n          { parseInt(this.state.promo_action) !== 3 ? null :\r\n            <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Позиция</TableCell>\r\n                      <TableCell>Цена за 1 ед</TableCell>\r\n                      <TableCell></TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    \r\n                    { this.state.itemsAddPrice.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell>{item.name}</TableCell>\r\n                        <TableCell>{item.price}</TableCell>\r\n                        <TableCell> <CloseIcon onClick={this.delItemPrice.bind(this, item)} style={{ cursor: 'pointer' }} /> </TableCell>\r\n                      </TableRow>\r\n                    ) }\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>  \r\n            </Grid>\r\n          }\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_promo_list} value={this.state.where_promo} func={ this.changeData.bind(this, 'where_promo') } label='Что сделать с промокодом' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.where_promo) == 1 || parseInt(this.state.where_promo) == 2 ? null :\r\n              parseInt(this.state.where_promo) == 5 ?\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <span>Список номеров для рассылки</span>\r\n                  <TextareaAutosize\r\n                    aria-label=\"empty textarea\"\r\n                    placeholder=\"\"\r\n                    minRows={3}\r\n                    value={this.state.numberList}\r\n                    onChange={ this.changeData.bind(this, 'numberList') }\r\n                    label=\"Куда отправить\"\r\n                    style={{ width: '100%' }}\r\n                  />\r\n                </Grid>\r\n                  :\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.numberList} func={ this.changeData.bind(this, 'numberList') } label='Куда отправить' />\r\n                </Grid>\r\n            \r\n            }\r\n            \r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            { parseInt(this.state.where_promo) !== 8 ? null :\r\n              <Grid item xs={12} sm={12}>\r\n                <span>Текст расссылки</span>\r\n                <TextareaAutosize\r\n                  aria-label=\"empty textarea\"\r\n                  placeholder=\"\"\r\n                  minRows={3}\r\n                  value={this.state.promo_prizw_vk}\r\n                  onChange={ this.changeData.bind(this, 'promo_prizw_vk') }\r\n                  style={{ width: '100%' }}\r\n                />\r\n              </Grid>\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.spamNameSMS} func={ this.changeData.bind(this, 'spamNameSMS') } label='Наименование рассылки' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 4 || parseInt(this.state.where_promo) == 5 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.textSMS} func={ this.changeData.bind(this, 'textSMS') } label='Текст СМС ( --promo_name-- )' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            { parseInt(this.state.where_promo) == 7 ?\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={this.state.cert_text} func={ this.changeData.bind(this, 'cert_text') } label='Текст для описания сертификата' />\r\n              </Grid>\r\n                :\r\n              null\r\n            }\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyCheckBox value={this.state.auto_text} func={ this.changeDataCheck.bind(this, 'auto_text') } label='Авто-текст' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_edit_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      points: [],\r\n      point: 0,\r\n      cities: [],\r\n      city: 0,\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      where_promo_list: [\r\n        {id: 1, name: 'Создать'},\r\n        {id: 2, name: 'Создать и показать'},\r\n        {id: 3, name: 'Отправить на почту'},\r\n        {id: 4, name: 'Отправить в смс'},\r\n        {id: 5, name: 'Рассылка смс'},\r\n        {id: 6, name: 'Отправить в ЛК (через 8)'},\r\n        {id: 7, name: 'Создать сертификат(ы)'},\r\n      ],\r\n      promo_action_list: [],\r\n      sale_list: [\r\n        {id: 1, name: 'На товары'},\r\n        {id: 2, name: 'На категории'},\r\n        {id: 3, name: 'На все меню (кроме допов и закусок)'},\r\n      ],\r\n      promo_conditions_list: [\r\n        {id: 1, name: 'В корзине есть определенные товар(ы)'},\r\n        {id: 2, name: 'В корзине набрана определенная сумма'},\r\n      ],\r\n      promo_sale_list: [],\r\n      type_sale_list: [\r\n        {id: 1, name: 'В рублях'},\r\n        {id: 2, name: 'В процентах'},\r\n      ],\r\n      date_promo_list: [\r\n        {id: 1, name: 'В определенные даты'},\r\n        {id: 2, name: '14 дней с 10:00 до 21:40'},\r\n        {id: 3, name: '14 дней с 00:00 до 23:59'},\r\n        {id: 4, name: '30 дней с 10:00 до 21:40'},\r\n        {id: 5, name: '30 дней с 00:00 до 23:59'},\r\n      ],\r\n      type_order_list: [\r\n        {id: 1, name: 'Все'},\r\n        {id: 2, name: 'Доставка'},\r\n        {id: 3, name: 'Самовывоз'},\r\n        {id: 4, name: 'Зал'},\r\n      ],\r\n      where_order_list: [\r\n        {id: 1, name: 'В городе'},\r\n        {id: 2, name: 'На точке'}\r\n      ],\r\n      \r\n      auto_text: false,\r\n      where_promo: 1,\r\n      promo_name: '',\r\n      generate_new: false,\r\n      count_action: 1,\r\n      promo_action: 1,\r\n      type_sale: 3,\r\n      promo_sale: 1,\r\n      sale_type: 2,\r\n      promo_conditions: 2,\r\n      \r\n      price_start: 0,\r\n      price_end: 0,\r\n      date_promo: 1,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      time_start: '10:00',\r\n      time_end: '21:30',\r\n      \r\n      promo_length: 5,\r\n      promo_count: 1,\r\n      \r\n      day_1: true,\r\n      day_2: true,\r\n      day_3: true,\r\n      day_4: true,\r\n      day_5: true,\r\n      day_6: true,\r\n      day_7: true,\r\n      \r\n      type_order: 1,\r\n      where_order: 1,\r\n      \r\n      numberList: '',\r\n      promo_desc_true: '',\r\n      promo_desc_false: '',\r\n      textSMS: '',\r\n      \r\n      \r\n      addItem: 1,\r\n      addItemCount: 1,\r\n      addItemPrice: 1,\r\n      addItemAllPrice: 0,\r\n      \r\n      itemsAdd: [],\r\n      itemsAddPrice: [],\r\n      items: [],\r\n      cats: [],\r\n      saleCat: [],\r\n      saleItem: [],\r\n      \r\n      priceItem: 1,\r\n      \r\n      conditionItems: [],\r\n      \r\n      testDate: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = {\r\n      promo_id: this.props.promoId\r\n    }\r\n    \r\n    let res = await this.getData('get_all_for_edit', data);\r\n    \r\n    let items = [];\r\n    \r\n    if( res.promo.promo_conditions_items.length > 4 ){\r\n      res.promo.promo_conditions_items = JSON.parse(res.promo.promo_conditions_items, true);\r\n      \r\n      res.promo.promo_conditions_items.map( (item) => {\r\n        let findItem = res.items.find( (it) => parseInt(it.id) == parseInt(item) );\r\n        \r\n        items.push(findItem)\r\n      } )\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      \r\n      console.log( 'conditionItems', items )\r\n      console.log( 'items', res.items )\r\n      \r\n      let limDate = [];\r\n      \r\n      res.limit.map( (item) => {\r\n        limDate.push( new Date(item.date) )\r\n      } )\r\n      \r\n      this.setState({\r\n        points: res.points,\r\n        cities: res.cities,\r\n        module_name: res.module_info.name,\r\n        promo_action_list: res.promo_action_list,\r\n        promo_sale_list: res.promo_sale_list,\r\n        \r\n        date_start: res.promo.date1,\r\n        date_end: res.promo.date2,\r\n        time_start: res.promo.time1,\r\n        time_end: res.promo.time2,\r\n        rangeDate: [res.promo.date1, res.promo.date2],\r\n        \r\n        items: res.items,\r\n        cats: res.cats,\r\n        \r\n        day_1: parseInt(res.promo.d1) == 1 ? true : false,\r\n        day_2: parseInt(res.promo.d2) == 1 ? true : false,\r\n        day_3: parseInt(res.promo.d3) == 1 ? true : false,\r\n        day_4: parseInt(res.promo.d4) == 1 ? true : false,\r\n        day_5: parseInt(res.promo.d5) == 1 ? true : false,\r\n        day_6: parseInt(res.promo.d6) == 1 ? true : false,\r\n        day_7: parseInt(res.promo.d7) == 1 ? true : false,\r\n        \r\n        count_action: res.promo.count,\r\n        promo_name: res.promo.name,\r\n        \r\n        price_start: res.promo.promo_summ,\r\n        price_end: res.promo.promo_summ_to,\r\n        \r\n        conditionItems: items,\r\n        promo_conditions: items.length > 0 ? 1 : 2,\r\n        \r\n        point: res.promo.point_id,\r\n        city: res.promo.city_id,\r\n        \r\n        where_order: parseInt(res.promo.city_id) > 0 ? 1 : parseInt(res.promo.point_id) > 0 ? 2 : 1,\r\n        \r\n        type_order: res.promo.type_order,\r\n        \r\n        promo_desc_true: res.promo.coment,\r\n        promo_desc_false: res.promo.condition_text,\r\n        \r\n        promo_id: res.promo.id,\r\n        \r\n        testDate: limDate\r\n      })\r\n    }, 300 )\r\n    \r\n    \r\n    document.title = res.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();     \r\n      this.generateTextDescTrue(); \r\n    }, 300 )\r\n  }\r\n  \r\n  async save(){\r\n    \r\n    if( !this.click ){\r\n      this.click = true;  \r\n      \r\n      let conditionItems = [];\r\n      \r\n      this.state.conditionItems.map( (item) => {\r\n        conditionItems.push(item.id)\r\n      } )\r\n      \r\n      \r\n      let promo_items = [];\r\n      \r\n      \r\n      let promo_cat = [];\r\n      let dateList = [];\r\n      \r\n      this.state.testDate.map( (item) => {\r\n        dateList.push( (new Date(item).toISOString()).split('T')[0] );\r\n      } )\r\n      \r\n      dateList = dateList.join(',')\r\n      \r\n      let data = {\r\n        promo_id: this.state.promo_id,\r\n        cert_text: this.state.cert_text,\r\n        addr: this.state.numberList,\r\n        where_promo: this.state.where_promo,\r\n        promo_count: this.state.promo_count,\r\n        promo_len: this.state.promo_length,\r\n        promo_name: this.state.promo_name,\r\n        generate: this.state.generate_new ? 1 : 0,\r\n        promo_in_count: this.state.count_action,\r\n        promo_action: this.state.promo_action,\r\n        promo_type_sale: this.state.type_sale,\r\n        promo_type: this.state.sale_type,\r\n        promo_conditions: this.state.promo_conditions,\r\n        \r\n        promo_summ: this.state.price_start,\r\n        promo_summ_to: this.state.price_end,\r\n        promo_when: this.state.date_promo,\r\n        \r\n        date_start: this.state.date_start,\r\n        date_end: this.state.date_end,\r\n        time_start: this.state.time_start,\r\n        time_end: this.state.time_end,\r\n        \r\n        day_1: this.state.day_1 ? 1 : 0,\r\n        day_2: this.state.day_2 ? 1 : 0,\r\n        day_3: this.state.day_3 ? 1 : 0,\r\n        day_4: this.state.day_4 ? 1 : 0,\r\n        day_5: this.state.day_5 ? 1 : 0,\r\n        day_6: this.state.day_6 ? 1 : 0,\r\n        day_7: this.state.day_7 ? 1 : 0,\r\n        \r\n        promo_type_order: this.state.type_order,\r\n        promo_where: this.state.where_order,\r\n        \r\n        numberList: this.state.numberList,\r\n        \r\n        promo_city: this.state.city,\r\n        promo_point: this.state.point,\r\n        \r\n        about_promo_text: this.state.promo_desc_true,\r\n        condition_promo_text: this.state.promo_desc_false,\r\n        textSMS: this.state.textSMS,\r\n        \r\n        \r\n        promo_items: JSON.stringify(promo_items),\r\n        promo_cat: JSON.stringify(promo_cat),\r\n        promo_items_add: JSON.stringify(this.state.itemsAdd),\r\n        promo_items_sale: JSON.stringify(this.state.itemsAddPrice),\r\n        promo_conditions_items: JSON.stringify(conditionItems),\r\n        \r\n        date_between: dateList\r\n      };\r\n      \r\n      let res = await this.getData('save_edit_promo', data);\r\n      \r\n      console.log( res )\r\n      \r\n      this.setState({\r\n        modalDialog: true,\r\n        modalText: res.text\r\n      })\r\n      \r\n      setTimeout( () => {\r\n        this.click = false;    \r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n        \r\n        this.click = false;    \r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  changeData(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.value\r\n    })\r\n    \r\n    if( type == 'date_promo' && (event.target.value == 2 || event.target.value == 3) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 14);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 2 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 2 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n\r\n    if( type == 'date_promo' && (event.target.value == 4 || event.target.value == 5) ){\r\n      let thisDay = new Date();\r\n      let nextDay = new Date();\r\n      nextDay.setDate(nextDay.getDate() + 30);\r\n      \r\n      this.setState({\r\n        rangeDate: [formatDate(thisDay), formatDate(nextDay)],\r\n        date_start: formatDate(thisDay),\r\n        date_end: formatDate(nextDay),\r\n        \r\n        time_start: event.target.value == 4 ? '10:00' : '00:00',\r\n        time_end: event.target.value == 4 ? '21:40' : '23:59',\r\n      })\r\n    }\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();   \r\n      this.generateTextDescTrue();   \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataCheck(type, event){\r\n    this.setState({\r\n      [ type ]: event.target.checked\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();    \r\n      this.generateTextDescTrue();  \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDateRange(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  changeDataData(type, data){\r\n    this.setState({\r\n      [ type ]: data\r\n    });\r\n    \r\n    setTimeout( () => {\r\n      this.generateTextDescFalse();  \r\n      this.generateTextDescTrue();    \r\n    }, 300 )\r\n  }\r\n  \r\n  generateTextDescTrue(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    let promo_action = this.state.promo_action;\r\n    let textTrue = '';\r\n    \r\n    if(parseInt(promo_action) == 1){//скидка\r\n      var promo_type_sale = this.state.type_sale,\r\n        count_promo = this.state.promo_sale_list.find( (item) => parseInt(item.id) == parseInt(this.state.promo_sale) )['name'],//размер скидки\r\n        promo_type = this.state.sale_type; //1 - рубли 2 %\r\n\r\n      if(parseInt(promo_type_sale) == 1){//товары\r\n        var promo_items = this.state.saleItem,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\t\r\n      if(parseInt(promo_type_sale) == 2){//категории\r\n        var promo_items = this.state.saleCat,\r\n          items = '';\r\n\r\n        promo_items.map(function(item, key){\r\n          items += item.name+', ';\r\n        })\r\n\r\n        items = items.substring(0, items.length - 2);\r\n\r\n        textTrue = 'скидку на '+items+' в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n      if(parseInt(promo_type_sale) == 3){//все\r\n        textTrue = 'скидку на всё меню, кроме напитков, соусов, приправ и палочек, в размере '+count_promo+(parseInt(promo_type) == 1 ? 'руб.' : '%');\r\n      }\r\n    }\r\n    \r\n    if(parseInt(promo_action) == 2){//добавляет товар\r\n      var itemText = '';\r\n\r\n      this.state.itemsAdd.map( (item, key) => {\r\n        if(parseInt(item['price']) == 0){\r\n          itemText += 'бесплатную '+item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }else{\r\n          itemText += item['name']+' '+item['count']+'шт. '+'за '+item['price']+'руб., ';\r\n        }\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, item.length - 2);\r\n\r\n      textTrue = this.state.itemsAdd.length == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\t\r\n    \r\n    if(parseInt(promo_action) == 3){//товар за цену\r\n      var itemText = '';\r\n\r\n      this.state.promo_items_sale.map( (item, key) => {\r\n        itemText += item['name']+' по '+item['price']+'руб., ';\r\n      } )\r\n      \r\n      itemText = itemText.substring(0, itemText.length - 2);\r\n\r\n      textTrue = this.state.promo_items_sale.length-1 == 1 ? 'позицию '+itemText : 'позиции '+itemText;\r\n    }\r\n    \r\n    let textSMS = 'Промокод --promo_name--, действует до '+formatDateName(this.state.date_end)+'. Заказывай на jacofood.ru!'\r\n    \r\n    this.setState({\r\n      promo_desc_true: textTrue,\r\n      textSMS: textSMS,\r\n      cert_text: textTrue\r\n    })\r\n  }\r\n  \r\n  generateTextDescFalse(){\r\n    \r\n    if( !this.state.auto_text ){\r\n      return ;\r\n    }\r\n    \r\n    var dop_text = '';\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 1 ){\r\n\t\t\t//город\r\n\t\t\tif( parseInt(this.state.city) != 0 ){\r\n        let city_name = this.state.cities.find( (item) => parseInt(item.id) == parseInt(this.state.city) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+city_name;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif( parseInt(this.state.where_order) == 2 ){\r\n\t\t\t//точка\r\n\t\t\tif( parseInt(this.state.point) != 0 ){\r\n        let point_name = this.state.points.find( (item) => parseInt(item.id) == parseInt(this.state.point) )['name'];\r\n        \r\n\t\t\t\tdop_text = ' в г. '+point_name;\r\n\t\t\t}\r\n\t\t}\r\n    \r\n    let dateStart = formatDateDot(this.state.date_start);\r\n    let dateEnd = formatDateDot(this.state.date_end);\r\n    \r\n    let textFalse = 'Промокод действует c '+dateStart+' до '+dateEnd+' с '+this.state.time_start+' до '+this.state.time_end+dop_text;\r\n    \r\n    this.setState({\r\n      promo_desc_false: textFalse\r\n    })\r\n\t}\r\n  \r\n  addItemAdd(){\r\n    let thisItems = this.state.itemsAdd;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.addItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.addItem) );\r\n      \r\n      thisItems.push({\r\n        item_id: this.state.addItem,\r\n        name: thisItem.name,\r\n        count: this.state.addItemCount,\r\n        price: this.state.addItemPrice,\r\n      })\r\n      \r\n      let addItemAllPrice = 0;\r\n      \r\n      thisItems.map( (item) => {\r\n        addItemAllPrice += parseInt(item.price)\r\n      } )\r\n      \r\n      this.setState({\r\n        itemsAdd: thisItems,\r\n        addItemAllPrice: addItemAllPrice\r\n      })\r\n    }\r\n  }\r\n  \r\n  priceItemAdd(){\r\n    let thisItems = this.state.itemsAddPrice;\r\n    \r\n    let check = thisItems.find( (item) => parseInt(item.item_id) == parseInt(this.state.priceItem) );\r\n    \r\n    if( !check ){\r\n      let thisItem = this.state.items.find( (item) => parseInt(item.id) == parseInt(this.state.priceItem) );\r\n      \r\n      thisItems.push({\r\n        id: this.state.priceItem,\r\n        name: thisItem.name,\r\n        price: this.state.addItemCount,\r\n      })\r\n      \r\n      this.setState({\r\n        itemsAddPrice: thisItems\r\n      })\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Typography>Промокод: {this.state.promo_name}</Typography>\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTextInput value={this.state.count_action} func={ this.changeData.bind(this, 'count_action') } label='Количество активаций' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.promo_conditions_list} value={this.state.promo_conditions} func={ this.changeData.bind(this, 'promo_conditions') } label='Условие' />\r\n            </Grid>\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 1 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={8}>\r\n                  <MyAutocomplite data={this.state.items} value={this.state.conditionItems} func={ (event, data) => { this.changeDataData('conditionItems', data) } } multiple={true} label='Товары' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n            { parseInt(this.state.promo_conditions) !== 2 ? null :\r\n              <>\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_start} func={ this.changeData.bind(this, 'price_start') } label='Сумма от' />\r\n                </Grid>\r\n              \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={this.state.price_end} func={ this.changeData.bind(this, 'price_end') } label='Сумма до' />\r\n                </Grid>\r\n              </>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MySelect data={this.state.date_promo_list} value={this.state.date_promo} func={ this.changeData.bind(this, 'date_promo') } label='Когда работает промокод' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3}>\r\n              <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n            </Grid>\r\n           \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время от\" value={this.state.time_start} func={ this.changeData.bind(this, 'time_start') } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <MyTimePicker label=\"Время до\" value={this.state.time_end} func={ this.changeData.bind(this, 'time_end') } />\r\n            </Grid>\r\n              \r\n          </Grid>\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12} sm={12}>\r\n              <MyDatePicker multiple={false} label={'Кроме дат'} value={this.state.testDate} func={ this.changeDataData.bind(this, 'testDate') } />\r\n            </Grid>\r\n          </Grid>\r\n            \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ marginTop: 20 }} spacing={3}>\r\n            \r\n            <MyCheckBox value={this.state.day_1} func={ this.changeDataCheck.bind(this, 'day_1') } label='Понедельник' />\r\n          \r\n            <MyCheckBox value={this.state.day_2} func={ this.changeDataCheck.bind(this, 'day_2') } label='Вторник' />\r\n          \r\n            <MyCheckBox value={this.state.day_3} func={ this.changeDataCheck.bind(this, 'day_3') } label='Среда' />\r\n          \r\n            <MyCheckBox value={this.state.day_4} func={ this.changeDataCheck.bind(this, 'day_4') } label='Четверг' />\r\n          \r\n            <MyCheckBox value={this.state.day_5} func={ this.changeDataCheck.bind(this, 'day_5') } label='Пятница' />\r\n          \r\n            <MyCheckBox value={this.state.day_6} func={ this.changeDataCheck.bind(this, 'day_6') } label='Суббота' />\r\n          \r\n            <MyCheckBox value={this.state.day_7} func={ this.changeDataCheck.bind(this, 'day_7') } label='Воскресенье' />\r\n           \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.type_order_list} value={this.state.type_order} func={ this.changeData.bind(this, 'type_order') } label='Тип заказа' />\r\n            </Grid>\r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.where_order_list} value={this.state.where_order} func={ this.changeData.bind(this, 'where_order') } label='Где работает' />\r\n            </Grid>\r\n            { parseInt(this.state.where_order) !== 1 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.cities} value={this.state.city} func={ this.changeData.bind(this, 'city') } label='Город' />\r\n              </Grid>\r\n            }\r\n            { parseInt(this.state.where_order) !== 2 ? null :\r\n              <Grid item xs={12} sm={4}>\r\n                <MySelect data={this.state.points} value={this.state.point} func={ this.changeData.bind(this, 'point') } label='Точка' />\r\n              </Grid>\r\n            }\r\n            \r\n          </Grid>\r\n          \r\n          <Divider style={{ width: '100%', marginTop: 20 }} />\r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_true} func={ this.changeData.bind(this, 'promo_desc_true') } label='Описание промокода после активации (Промокод дает: )' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={12}>\r\n              <MyTextInput value={this.state.promo_desc_false} func={ this.changeData.bind(this, 'promo_desc_false') } label='Условие промокода, когда условия не соблюдены' />\r\n            </Grid>\r\n            \r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"end\" style={{ paddingTop: 50 }} spacing={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nclass SiteSale2_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      modalText: '',\r\n      \r\n      modalDialog: false,\r\n      modalLink: '',\r\n      \r\n      city_list: [],\r\n      city_id: 0,\r\n      promoName: '',\r\n      \r\n      findPromoList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      city_list: data.all_city_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async showPromoList(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      promo_name: this.state.promoName\r\n    };\r\n    \r\n    let res = await this.getData('search_promo', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      findPromoList: res\r\n    })\r\n  }\r\n  \r\n  async delPromo(promo_id){\r\n    let check = confirm(\"Удалить промокод ?\");\r\n    \r\n    if( check ){\r\n      let data = {\r\n        promo_id: promo_id\r\n      };\r\n      \r\n      let res = await this.getData('remove_promo', data);\r\n      \r\n      setTimeout( () => {\r\n        this.showPromoList();\r\n      }, 300 )\r\n    }\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, modalLink: '' }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Результат операции</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            <Typography>{this.state.modalText}</Typography>\r\n            <br />\r\n            { this.state.modalLink == '' ? null :\r\n              <a href={this.state.modalLink} style={{ color: 'red' }}>Скачать</a>\r\n            }\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={ () => { this.setState({ modalDialog: false }) } }>Хорошо</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12}>\r\n              \r\n              <Link to={\"/site_sale_2/new\"} style={{ zIndex: 10 }}>\r\n                <Button variant=\"contained\">Новый промокод</Button>\r\n              </Link>\r\n              \r\n              <Link to={\"/site_sale_2/stat\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Статистика</Button>\r\n              </Link>\r\n\r\n              <Link to={\"/site_sale_2/stat_list\"} style={{ zIndex: 10, marginLeft: 20 }}>\r\n                <Button variant=\"contained\">Выписанные промокоды</Button>\r\n              </Link>\r\n              \r\n            </Grid>\r\n            \r\n            \r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.city_list} value={this.state.city_id} func={ (event) => { this.setState({city_id: event.target.value}) } } label='Город' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({promoName: event.target.value}) } } label='Промокод' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.showPromoList.bind(this)}>Найти</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            <Grid item xs={12}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Промокод</TableCell>\r\n                    <TableCell>Город</TableCell>\r\n                    <TableCell>Было кол-во</TableCell>\r\n                    <TableCell>Ост. кол-во</TableCell>\r\n                    <TableCell>Дата окончания</TableCell>\r\n                    <TableCell>Описание</TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.findPromoList.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>\r\n                        <Link to={\"/site_sale_2/edit/\"+item.id} style={{ zIndex: 10 }}>\r\n                          {item.name}    \r\n                        </Link>\r\n                      </TableCell>\r\n                      <TableCell>{ parseInt(item.city_id) == 0 ? 'Все города' : item.city_name }</TableCell>\r\n                      <TableCell>{item.def_count}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      <TableCell>{item.date2}</TableCell>\r\n                      <TableCell>{item.coment}</TableCell>\r\n                      <TableCell> <CloseIcon style={{ cursor: 'pointer' }} onClick={this.delPromo.bind(this, item.id)} /> </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_Stat_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      spam_list: [],\r\n      spam_id: 0,\r\n      findPromoList: [],\r\n      \r\n      spam_list_data: [],\r\n      spam_list_data_stat: {\r\n        true: 0,\r\n        all: 0,\r\n        percent: 0\r\n      },\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n  \r\n  changeSpam(event){\r\n    this.setState({spam_id: event.target.value})\r\n    \r\n    setTimeout( () => {\r\n      this.show()\r\n    }, 300 )\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <MySelect data={this.state.spam_list} value={this.state.spam_id} func={ this.changeSpam.bind(this) } label='Рассылка' />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={4}>\r\n              <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n            \r\n          </Grid>  \r\n          \r\n          <Grid container direction=\"row\" justifyContent=\"center\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Всего</TableCell>\r\n                    <TableCell>Использовали</TableCell>\r\n                    <TableCell>%</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  <TableRow>\r\n                    <TableCell>{this.state.spam_list_data_stat.all}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.true}</TableCell>\r\n                    <TableCell>{this.state.spam_list_data_stat.percent}</TableCell>\r\n                  </TableRow>\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n            \r\n            <Grid item xs={6}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Номер</TableCell>\r\n                    <TableCell>Ост активаций</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  \r\n                  { this.state.spam_list_data.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>{item.number}</TableCell>\r\n                      <TableCell>{item.count}</TableCell>\r\n                      \r\n                    </TableRow>\r\n                  ) }\r\n                  \r\n                </TableBody>\r\n              </Table>\r\n            </Grid>  \r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nclass SiteSale2_StatList_ extends React.Component {\r\n  click = false;\r\n  \r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_sale_2',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      promo_list: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_spam_list');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      spam_list: data.spam_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n    });\r\n  }\r\n  \r\n  async show(){\r\n    let data = {\r\n      spam_id: this.state.spam_id\r\n    }\r\n    \r\n    let res = await this.getData('get_spam_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      spam_list_data: res.spam_list,\r\n      spam_list_data_stat: res.stat\r\n    })\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n    }\r\n    \r\n    let res = await this.getData('get_promo_users', data);\r\n    \r\n    this.setState({\r\n      promo_list: res.promo_list\r\n    })\r\n  }\r\n  \r\n  changeDateRange(data){\r\n    let dateStart = data[0] ? formatDate(data[0]) : '';\r\n    let dateEnd = data[1] ? formatDate(data[1]) : '';\r\n    \r\n    this.setState({\r\n      rangeDate: [dateStart, dateEnd],\r\n      date_start: dateStart,\r\n      date_end: dateEnd,\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid container direction=\"row\" style={{ paddingTop: 20 }} spacing={3}>\r\n            \r\n            <Grid item xs={12} sm={6} className=\"MyDaterange\">\r\n              <MyDaterange startText=\"Дата от\" endText=\"Дата до\" value={this.state.rangeDate} func={ this.changeDateRange.bind(this) } />\r\n            </Grid>\r\n            \r\n            <Grid item xs={12} sm={3}>\r\n              <Button variant=\"contained\" onClick={this.getUsers.bind(this)}>Обновить</Button>\r\n            </Grid>\r\n\r\n          </Grid>  \r\n          \r\n          <Grid item xs={12} sm={12} style={{ marginTop: 20 }}>\r\n            \r\n            { this.state.promo_list.map( (item, key) => \r\n              <Accordion key={key} style={{ width: '100%' }}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { item.promo_list.map( (promo, k) =>\r\n                        <TableRow key={k} style={{ backgroundColor: parseInt(promo.is_delete) == 1 ? '#c03' : 'white', color: parseInt(promo.is_delete) == 1 ? 'white' : 'black' }}>\r\n                          <TableCell style={{ color: 'inherit' }}>{k+1}</TableCell>\r\n                          <TableCell style={{ color: 'inherit', backgroundColor: parseInt(promo.count) == 0 ? 'green' : '#c03' }}>{promo.name}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{promo.coment}</TableCell>\r\n                          <TableCell style={{ color: 'inherit' }}>{ parseInt(promo.count) == 0 ? <CheckIcon /> : <CloseIcon /> }</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    \r\n                  </Table>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport function SiteSale2_New () {\r\n  return (\r\n    <SiteSale2_new_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Edit () {\r\n  let { promoId } = useParams();\r\n  \r\n  return (\r\n    <SiteSale2_edit_ promoId={promoId} />\r\n  );\r\n}\r\n\r\nexport function SiteSale2 () {\r\n  return (\r\n    <SiteSale2_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_Stat () {\r\n  return (\r\n    <SiteSale2_Stat_ />\r\n  );\r\n}\r\n\r\nexport function SiteSale2_StatList () {\r\n  return (\r\n    <SiteSale2_StatList_ />\r\n  );\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class DriveMapStatAll extends React.Component {\r\n  map = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'drive_map_stat_all',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      drivers: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.point_list,\r\n      point: data.point_list[0].id,\r\n      module_name: data.module_info.name\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      //this.updateData();\r\n    }, 100 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n    \r\n    this.getOrders(res.orders, res.home, res.drivers)\r\n\r\n    this.setState({\r\n      drivers: res.drivers\r\n    })\r\n\r\n    console.log( res.drivers )\r\n  }\r\n  \r\n  getOrders(orders, home, drivers){\r\n    let objectManager = new ymaps.ObjectManager();\r\n    \r\n    if( !this.map ){\r\n      ymaps.ready(() => {\r\n        this.map = new ymaps.Map('map', {\r\n          center: [home.latitude, home.longitude],\r\n          zoom: 11\r\n        }, {\r\n          searchControlProvider: 'yandex#search'\r\n        })\r\n        \r\n        //дом\r\n        let myGeoObject = new ymaps.GeoObject({\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [home.latitude, home.longitude]\r\n          },\r\n        }, {\r\n          preset: 'islands#blackDotIcon', \r\n          iconColor: 'black'\r\n        })\r\n        \r\n        this.map.geoObjects.add(myGeoObject);\r\n        \r\n        \r\n        \r\n        let json = {\r\n          \"type\": \"FeatureCollection\",\r\n          \"features\": []\r\n        };\r\n                \r\n        orders.map( function(item){\r\n        \r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: item.id,\r\n            options: {\r\n              preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n              iconColor: item.point_color ? item.point_color : item.color\r\n            },\r\n            properties: {\r\n              iconCaption: item.point_text,\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [item.xy.latitude, item.xy.longitude]\r\n            },\r\n          })\r\n          \r\n        } )\r\n        \r\n        objectManager.add(json);\r\n\r\n        drivers.map( function(driver){\r\n          driver.positions.map( function(pos, key){\r\n\r\n            pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n            json.features.push({\r\n              type: \"Feature\",\r\n              id: pos.id,\r\n              options: {\r\n                preset: 'islands#stretchyIcon', \r\n                iconColor: driver.color,\r\n              },\r\n              properties: {\r\n                iconContent: key\r\n              },\r\n              geometry: {\r\n                type: \"Point\",\r\n                coordinates: [pos['xy'][0], pos['xy'][1]],\r\n              },\r\n            })\r\n\r\n\r\n          } )\r\n        } )\r\n\r\n        objectManager.add(json);\r\n\r\n        this.map.geoObjects.add(objectManager);\r\n      });\r\n    }else{\r\n      \r\n      let json = {\r\n        \"type\": \"FeatureCollection\",\r\n        \"features\": []\r\n      };\r\n              \r\n      //дом\r\n      json.features.push({\r\n        type: \"Feature\",\r\n        id: 0,\r\n        options: {\r\n          preset: 'islands#blackDotIcon', \r\n          iconColor: 'black'\r\n        },\r\n        geometry: {\r\n          type: \"Point\",\r\n          coordinates: [home.latitude, home.longitude]\r\n        },\r\n      })\r\n      \r\n      \r\n      orders.map( function(item){\r\n        \r\n        json.features.push({\r\n          type: \"Feature\",\r\n          id: item.id,\r\n          options: {\r\n            preset: parseInt(item.status_order) == 6 ? 'islands#blueCircleDotIconWithCaption' : 'islands#circleDotIcon', \r\n            iconColor: item.point_color ? item.point_color : item.color\r\n          },\r\n          properties: {\r\n            iconCaption: item.point_text,\r\n            //iconCaption: parseInt(item.status_order) == 6 ? item.close_time_ : parseInt(item.is_pred) == 1 ? item.need_time : parseInt(item.is_my) == 1 ? item.time_start_mini : '',\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [item.xy.latitude, item.xy.longitude]\r\n          },\r\n        })\r\n        \r\n      } )\r\n      \r\n      objectManager.add(json);\r\n\r\n      drivers.map( function(driver){\r\n        driver.positions.map( function(pos, key){\r\n\r\n          pos['xy'] = JSON.parse(pos['xy'], true);\r\n\r\n          json.features.push({\r\n            type: \"Feature\",\r\n            id: pos.id,\r\n            options: {\r\n              preset: 'islands#stretchyIcon', \r\n              iconColor: driver.color,\r\n            },\r\n            properties: {\r\n              iconContent: key\r\n            },\r\n            geometry: {\r\n              type: \"Point\",\r\n              coordinates: [pos['xy'][0], pos['xy'][1]],\r\n            },\r\n          })\r\n\r\n\r\n        } )\r\n      } )\r\n\r\n      objectManager.add(json);\r\n\r\n      this.map.geoObjects.removeAll()\r\n      this.map.geoObjects.add(objectManager);\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            { this.state.drivers.map( (item, key) =>\r\n              <div key={key} style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                <div style={{ width: 50, height: 20, backgroundColor: item.color }}></div>\r\n                <div>{item.driver_name}</div>\r\n              </div>\r\n            ) }\r\n          </Grid>       \r\n          \r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <div id=\"map\" name=\"map\" style={{ width: '100%', height: 700, paddingTop: 10 }} />\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableFooter from '@mui/material/TableFooter';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class DriverStat extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'driver_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: '0',\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n\r\n      modalDialog: false,\r\n\r\n      drive_stat_full: [],\r\n      drive_stat_date: null,\r\n      summ: 0,\r\n      choose_driver_id: 0,\r\n      check_cash: 0,\r\n\r\n      getSumm: 0,\r\n      modalDialogGetSumm: false,\r\n      getSummDriverId: null,\r\n      getSummComment: '',\r\n\r\n      modalDialogStatSumm: false,\r\n      modalDialogStatSummMain: false,\r\n      statSumm: [],\r\n      statSummMain: [],\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log( data )\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('get_data', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      drive_stat_full: res.drive_stat_full,\r\n      drive_stat_date: res.stat_drive_date\r\n    })\r\n  }\r\n  \r\n  changeDate(data, event){\r\n    this.setState({\r\n      [data]: formatDate(event)\r\n    })\r\n  }\r\n\r\n  changePoint(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      point: data\r\n    })\r\n  }\r\n\r\n  giveCash(driver_id, check_cash){\r\n    this.setState({\r\n      modalDialog: true,\r\n      choose_driver_id: driver_id,\r\n      check_cash: check_cash\r\n    })\r\n  }\r\n\r\n  changeSumm(event){\r\n    this.setState({\r\n      summ: event.target.value,\r\n    })\r\n  }\r\n\r\n  async saveGivePrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.summ ) > parseInt( this.state.check_cash ) ){\r\n      alert('Нельзя сдать денег больше, чем есть у курьера');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.summ,\r\n      driver_id: this.state.choose_driver_id,\r\n    };\r\n    \r\n    let res = await this.getData('save_give', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialog: false,\r\n        check_cash: 0,\r\n        choose_driver_id: 0,\r\n        summ: 0\r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  getCash(driver){\r\n    this.setState({\r\n      modalDialogGetSumm: true,\r\n      getSumm: 0,\r\n      getSummDriverId: driver,\r\n      getSummComment: ''\r\n    })\r\n  }\r\n\r\n  async saveGetPrice(){\r\n    if( this.click ){\r\n      return ;\r\n    }\r\n\r\n    this.click = true;\r\n\r\n    if( parseInt( this.state.getSumm ) > 1000 ){\r\n      alert('Нельзя выдать больше 1000р за раз');\r\n      setTimeout( () => {\r\n        this.click = false;\r\n      }, 300 )\r\n      return;\r\n    }\r\n\r\n\r\n    let data = {\r\n      point_id: this.state.point,\r\n      price: this.state.getSumm,\r\n      driver_id: this.state.getSummDriverId.driver_id,\r\n      comment: this.state.getSummComment\r\n    };\r\n    \r\n    let res = await this.getData('save_get', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res['st'] == true ){\r\n      this.setState({\r\n        modalDialogGetSumm: false,\r\n        getSumm: 0,\r\n        getSummDriverId: null,\r\n        getSummComment: ''  \r\n      })\r\n\r\n      this.updateData();\r\n    }else{\r\n      alert(res['text'])\r\n    }\r\n\r\n    setTimeout( () => {\r\n      this.click = false;\r\n    }, 300 )\r\n  }\r\n\r\n  async getStatDop(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('getStatDop', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSumm: true,\r\n      statSumm: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  async getStatDopMain(driver){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      driver_id: driver.driver_id,\r\n      date_start: this.state.date_start,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('getStatDopMain', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialogStatSummMain: true,\r\n      statSummMain: res,\r\n      getSummDriverId: driver \r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog\r\n          open={this.state.modalDialog}\r\n          onClose={ () => { this.setState({ modalDialog: false, check_cash: 0, choose_driver_id: 0, summ: 0 }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Какую сумму сдает курьер</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <MyTextInput label=\"\" value={this.state.summ} func={this.changeSumm.bind(this)} />\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGivePrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogGetSumm}\r\n          onClose={ () => { this.setState({ modalDialogGetSumm: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Дополнительная выплата курьеру \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput type='number' value={ this.state.getSumm } func={ (event) => { this.setState({ getSumm: event.target.value }) } } label='Сумма' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput maxRows={2} value={ this.state.getSummComment } func={ (event) => { this.setState({ getSummComment: event.target.value }) } } label='Комментарий' />\r\n              </Grid>\r\n\r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveGetPrice.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSumm}\r\n          onClose={ () => { this.setState({ modalDialogStatSumm: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Доп выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Кто назначил</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Комментарий</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSumm.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{item.user_name}</TableCell>\r\n                    <TableCell>{item.price}</TableCell>\r\n                    <TableCell>{item.comment}</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) > 0 ? 'Довоз' : 'Доп выплата' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogStatSummMain}\r\n          onClose={ () => { this.setState({ modalDialogStatSummMain: false, getSummDriverId: null }) } }\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n        >\r\n          <DialogTitle>Выплаты \"{this.state.getSummDriverId ? this.state.getSummDriverId.name : ''}\"</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Table size={'small'}>\r\n                \r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Дата</TableCell>\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Пользователь</TableCell>\r\n                  <TableCell>Тип</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.statSummMain.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? '' : item.order_id }</TableCell>\r\n                    <TableCell>{item.date_time}</TableCell>\r\n                    <TableCell>{ parseInt(item.my_cash) == 0 ? item.give : item.my_cash }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? item.user_name : '' }</TableCell>\r\n                    <TableCell>{ parseInt(item.order_id) == 0 ? 'Сдал' : 'С заказа' }</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n            \r\n\r\n          </DialogContent>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDate.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата до\" value={ this.state.date_end } func={ this.changeDate.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                \r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Вся сумма</TableCell>\r\n                    <TableCell>Сумма по налу</TableCell>\r\n                    <TableCell>Сумма по безналу</TableCell>\r\n                    <TableCell>Кол-во по налу</TableCell>\r\n                    <TableCell>Кол-во по безналу</TableCell>\r\n                    <TableCell>К сдаче</TableCell>\r\n\r\n                    <TableCell>Сдал за период</TableCell>\r\n\r\n                    <TableCell>Довозы</TableCell>\r\n                    <TableCell style={{ display: 'none' }}>Ошибки</TableCell>\r\n                    <TableCell>-</TableCell>\r\n                    <TableCell>Заказы</TableCell>\r\n                    <TableCell>Заработал</TableCell>\r\n                    <TableCell>Налички на руках</TableCell>\r\n                    <TableCell></TableCell>\r\n                    <TableCell></TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n\r\n                <TableBody>\r\n                  \r\n                  { this.state.drive_stat_full.map( (item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.full_sum}</TableCell>\r\n                      <TableCell>{item.full_cash}</TableCell>\r\n                      <TableCell>{item.full_bank}</TableCell>\r\n                      <TableCell>{item.count_cash}</TableCell>\r\n                      <TableCell>{item.count_bank}</TableCell>\r\n                      <TableCell>{item.sdacha}</TableCell>\r\n\r\n                      <TableCell>{item.give_by_date}</TableCell>\r\n\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDop.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.dop_price ? item.dop_price : 0}</Button>\r\n                      </TableCell>\r\n\r\n                      <TableCell style={{ display: 'none' }}>{item.err_summ}</TableCell>\r\n                      <TableCell>{item.my_price ? item.my_price : 0}</TableCell>\r\n\r\n                      \r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getStatDopMain.bind(this, item)} style={{ fontWeight: 'bolder' }}>{item.my_orders ? item.my_orders : 0}</Button>\r\n                      </TableCell>\r\n\r\n                      \r\n                      <TableCell>{item.my}</TableCell>\r\n                      <TableCell>{item.ost_cash}</TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.giveCash.bind(this, item.driver_id, item.ost_cash)}>Сдать</Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Button variant=\"contained\" onClick={this.getCash.bind(this, item)}>Доп выплата</Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                \r\n                </TableBody>\r\n              \r\n              </Table>\r\n            </TableContainer>\r\n          </Grid>\r\n\r\n          { this.state.drive_stat_date == null ? null :\r\n            <Grid item xs={12}>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  \r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>Курьер</TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <TableCell key={key} colSpan={4} style={{textAlign: 'center'}}>{item.date}</TableCell>\r\n                      ) }\r\n                    </TableRow>\r\n                    <TableRow>\r\n                      <TableCell></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <React.Fragment key={key}>\r\n                          <TableCell style={{textAlign: 'center'}}>Наличка</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Безнал</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Сдача</TableCell>\r\n                          <TableCell style={{textAlign: 'center'}}>Заработал</TableCell>\r\n                        </React.Fragment>\r\n                      ) }\r\n\r\n                    </TableRow>\r\n                  </TableHead>\r\n\r\n                  <TableBody>\r\n                    \r\n                    { this.state.drive_stat_date.unic_users.map( (item, key) =>\r\n                      <TableRow key={key}>\r\n                        <TableCell style={{borderRight: '1px solid #eee'}}>{item.short_name}</TableCell>\r\n\r\n                        { this.state.drive_stat_date.orders.map( function(order, order_k){\r\n\r\n                          let check = false,\r\n                            data = {};\r\n    \r\n                          order['new_users'].map(function(it, k){\r\n                            if(parseInt(it['driver_id']) == parseInt(item['driver_id']) && it['date'] == order['date']){\r\n                              check = true;\r\n                              data = it;\r\n                            }\r\n                          })\r\n\r\n                          if(check == false){\r\n                            return (\r\n                              <TableCell key={order_k} colSpan={4} style={{borderRight: '1px solid #eee'}}></TableCell>\r\n                            )\r\n                          }else{\r\n                            return (\r\n                              <React.Fragment key={order_k}>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.full_cash}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.full_bank}</TableCell>\r\n                                <TableCell style={{textAlign: 'center'}}>{data.sdacha}</TableCell>\r\n                                <TableCell style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{data.my}</TableCell>\r\n                              </React.Fragment>\r\n                            )\r\n                          }\r\n\r\n                        })}\r\n\r\n                      </TableRow>\r\n                    )}\r\n                  </TableBody>\r\n                \r\n                  <TableFooter>\r\n                    \r\n                    <TableRow>\r\n                      <TableCell style={{borderRight: '1px solid #eee'}}></TableCell>\r\n\r\n                      { this.state.drive_stat_date.orders.map( (item, key) =>\r\n                        <React.Fragment key={key}>\r\n                          <TableCell key={key+'_1'} style={{textAlign: 'center'}}>{item.full_cash}</TableCell>\r\n                          <TableCell key={key+'_2'} style={{textAlign: 'center'}}>{item.full_bank}</TableCell>\r\n                          <TableCell key={key+'_3'} style={{textAlign: 'center'}}>{item.sdacha}</TableCell>\r\n                          <TableCell key={key+'_4'} style={{borderRight: '1px solid #eee', textAlign: 'center'}}>{item.my}</TableCell>\r\n                        </React.Fragment>\r\n                      )}\r\n                        \r\n\r\n                    </TableRow>\r\n                    \r\n                  </TableFooter>\r\n\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\nimport ButtonGroup from '@mui/material/ButtonGroup';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport TableFooter from '@mui/material/TableFooter';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Radio from '@mui/material/Radio';\r\nimport RadioGroup from '@mui/material/RadioGroup';\r\nimport FormControlLabel from '@mui/material/FormControlLabel';\r\nimport FormControl from '@mui/material/FormControl';\r\nimport TextField from '@mui/material/TextField';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew, MyTextInput } from '../../stores/elements';\r\nimport Typography from '@mui/material/Typography';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport class Concenter extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'concenter',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      modalDialog: false,\r\n      modalDialogDel: false,\r\n      \r\n      cities: [],\r\n      city_id: 1,\r\n      date: formatDate(new Date()),\r\n      point_list: [],\r\n      need_point_list: [],\r\n      point_id: 0,\r\n      indexTab: 0,\r\n\r\n      orders: [],\r\n      ordersRender: [],\r\n      showOrder: null,\r\n\r\n      radiogroup_options: [\r\n        {id: '0', label: 'Решили отредактировать заказ', value: 0 },\r\n        {id: '1', label: 'Не устраивает время ожидания', value: 0 },\r\n        {id: '2', label: 'Изменились планы', value: 0 },\r\n        {id: '3', label: 'Недостаточно средств', value: 0 },\r\n        {id: '4', label: 'Другое', value: 0 },\r\n      ],\r\n      textDel: '',\r\n      typeDel: -1,\r\n\r\n      number: '',\r\n      addr: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    let need_points = data.points.filter( (item, key) => parseInt(item.city_id) == parseInt(data.cities[0].id) );\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cities: data.cities,\r\n      point_list: data.points,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id)\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    let data = event.target.value;\r\n    \r\n    let need_points = this.state.point_list.filter( (item, key) => parseInt(item.city_id) == parseInt(data) );\r\n\r\n    this.setState({\r\n      city_id: data,\r\n      need_point_list: need_points,\r\n      point_id: parseInt(need_points[0].id),\r\n      indexTab: 0\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n  \r\n  async changePoint(point_id, index){\r\n    //let point_id = event.target.id;\r\n    //point_id = point_id.split('-')[2]\r\n\r\n    this.setState({\r\n      point_id: point_id,\r\n      indexTab: index\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n    \r\n  }\r\n\r\n  async getOrders(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      date: this.state.date\r\n    };\r\n    \r\n    let res = await this.getData('get_orders', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      orders: res.orders\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  btnGetOrders(){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n\r\n    this.getOrders();\r\n  }\r\n\r\n  async showOrder(order_id){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      order_id: order_id\r\n    };\r\n\r\n    let res = await this.getData('get_order_new', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalDialog: true,\r\n      showOrder: res\r\n    })\r\n  }\r\n\r\n  closeOrder(){\r\n    this.setState({ modalDialogDel: true })\r\n  }\r\n\r\n  async closeOrderTrue(){\r\n    let deltype = this.state.radiogroup_options.find( (item) => item.id == this.state.typeDel );\r\n        \r\n    if( deltype.id == '4' ){\r\n      deltype.label = this.state.textDel;\r\n    }\r\n    \r\n    if (confirm(\"Отменить заказ #\"+this.state.showOrder.order.order_id)) {\r\n      let data = {\r\n        typeCreate: 'center',\r\n        order_id: this.state.showOrder.order.order_id,\r\n        point_id: this.state.showOrder.order.point_id,\r\n        ans: deltype.label\r\n      };\r\n  \r\n      let res = await this.getData('close_order_center', data);\r\n\r\n      //setTimeout(() => {\r\n        if( res['st'] === true ){\r\n          this.setState({\r\n            modalDialogDel: false,\r\n            modalDialog: false,\r\n          });\r\n          \r\n          this.getOrders();\r\n        }else{\r\n          alert( res['text'] );\r\n        }\r\n      //}, 300);\r\n    }\r\n  }\r\n\r\n  async fakeUser(){\r\n    let type_check = 0;\r\n\r\n    if( parseInt(this.state.showOrder.order.check_pos) >= 0 ){\r\n      if( parseInt(this.state.showOrder.order.check_pos) <= 100 ){\r\n        type_check = 1;\r\n      }else{\r\n        type_check = 2;\r\n      }\r\n    }else{\r\n      type_check = 0;\r\n    }\r\n\r\n    //0 - не активно\r\n    //1 - сразу\r\n    //2 - уточнить\r\n\r\n    \r\n    if( parseInt(type_check) == 0 ){\r\n      alert('Создать обращение не возможно')\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(type_check) == 1 ){\r\n      let text = prompt('Комментарий к ситуации', '');\r\n\r\n      if(text.length > 0){\r\n        let data = {\r\n          text: text,\r\n          point_id: parseInt(this.state.showOrder.order.point_id),\r\n          order_id: parseInt(this.state.showOrder.order.order_id),\r\n        };\r\n    \r\n        let res = await this.getData('fake_user', data);\r\n  \r\n        if(res['st'] == true){\r\n          alert('Обращение зафиксировано')\r\n          this.setState({ modalDialog: false })\r\n        }else{\r\n          alert(res['text'])\r\n        }\r\n\r\n      }else{\r\n        alert('надо указать комментарий')\r\n      }\r\n    }\r\n\r\n    if( parseInt(type_check) == 2 ){\r\n      const result = confirm('Курьер, предположительно, находиться далеко от клиента, точно оформить довоз ?');\r\n\r\n      if (result) {\r\n        var text = prompt('Комментарий к ситуации', '');\r\n\r\n        if(text.length > 0){\r\n          let data = {\r\n            text: text,\r\n            point_id: parseInt(this.state.showOrder.order.point_id),\r\n            order_id: parseInt(this.state.showOrder.order.order_id),\r\n          };\r\n      \r\n          let res = await this.getData('fake_user', data);\r\n\r\n          if(res['st'] == true){\r\n            alert('Обращение зафиксировано')\r\n            this.setState({ modalDialog: false })\r\n          }else{\r\n            alert(res['text'])\r\n          }\r\n        }else{\r\n          alert('надо указать комментарий')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  changeText(event){\r\n    this.setState({ textDel: event.target.value })\r\n  }\r\n\r\n  changeAddr = (event) => {\r\n    this.setState({\r\n      typeDel: event.target.value,\r\n    })\r\n  }\r\n\r\n  changeDate(val){\r\n    this.setState({\r\n      number: '',\r\n      addr: ''\r\n    })\r\n    \r\n    this.setState({\r\n      date: formatDate(val)\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getOrders();\r\n    }, 300 )\r\n  }\r\n\r\n  changeNumber(event){\r\n    let value = event.target.value;\r\n    \r\n    if( isNaN(value) ){\r\n      return ;\r\n    }\r\n\r\n    this.setState({ number: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  changeAddrSt(event){\r\n    let value = event.target.value;\r\n    \r\n    this.setState({ addr: value })\r\n\r\n    setTimeout( () => {\r\n      this.filterNumber();\r\n    }, 300 )\r\n  }\r\n\r\n  filterNumber(){\r\n    let renderOrders = this.state.orders;\r\n\r\n    if( this.state.number.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => item.number.indexOf(this.state.number) !== -1 );\r\n    }\r\n\r\n    if( this.state.addr.length > 0 ){\r\n      renderOrders = renderOrders.filter( (item) => (item.street + ' ' + item.home).toLowerCase() .indexOf(this.state.addr.toLowerCase()) !== -1 );\r\n    }\r\n\r\n    this.setState({\r\n      ordersRender: renderOrders\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Заказ #{this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <Grid container spacing={0}>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.type_order}: {this.state.showOrder.order.type_order_addr_new}</span>\r\n                </Grid>\r\n                <Grid item xs={12}>\r\n                  <span>{this.state.showOrder.order.time_order_name}: {this.state.showOrder.order.time_order}</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.number.length > 1 ? \r\n                  <Grid item xs={12}>\r\n                    <b>Телефон: </b> \r\n                    <span>{this.state.showOrder.order.number}</span> \r\n                  </Grid>\r\n                    : \r\n                  null\r\n                }\r\n\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>Удален: {this.state.showOrder.order.date_time_delete}</span></Grid> : null}\r\n                { this.state.showOrder.order.delete_reason.length > 0 ? <Grid item xs={12}><span style={{ color: 'red' }}>{this.state.showOrder.order.delete_reason}</span></Grid> : null}\r\n                \r\n                { parseInt(this.state.showOrder.order.is_preorder) == 1 ? null :\r\n                  <Grid item xs={12}><span>{this.state.showOrder.order.text_time}{this.state.showOrder.order.time_to_client}</span></Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}><span>{this.state.showOrder.order.textTime}</span></Grid>\r\n                \r\n                \r\n                { this.state.showOrder.order.promo_name == null || this.state.showOrder.order.promo_name.length == 0 ? null :\r\n                  <>\r\n                    <Grid item xs={12}>\r\n                      <b>Промокод: </b>\r\n                      <span>{this.state.showOrder.order.promo_name}</span>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <span className=\"noSpace\">{this.state.showOrder.order.promo_text}</span>\r\n                    </Grid>\r\n                  </>\r\n                }\r\n                \r\n                { this.state.showOrder.order.comment == null || this.state.showOrder.order.comment.length == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Комментарий: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                { this.state.showOrder.order.sdacha == null || parseInt(this.state.showOrder.order.sdacha) == 0 ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Сдача: </b>\r\n                    <span>{this.state.showOrder.order.sdacha}</span>\r\n                  </Grid>\r\n                }\r\n                \r\n                <Grid item xs={12}>\r\n                  <b>Сумма заказа: </b>\r\n                  <span>{this.state.showOrder.order.sum_order} р</span>\r\n                </Grid>\r\n\r\n                { this.state.showOrder.order.check_pos_drive == null || !this.state.showOrder.order.check_pos_drive ? null :\r\n                  <Grid item xs={12}>\r\n                    <b>Довоз оформлен: </b>\r\n                    <span>{this.state.showOrder.order.comment}</span>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12}>\r\n                  <Table size={'small'} style={{ marginTop: 15 }}>\r\n                    <TableBody>\r\n                      { this.state.showOrder.order_items.map( (item, key) =>\r\n                        <TableRow key={key}>\r\n                          <TableCell>{item.name}</TableCell>\r\n                          <TableCell>{item.count}</TableCell>\r\n                          <TableCell>{item.price} р</TableCell>\r\n                        </TableRow>\r\n                      ) }\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                      <TableRow>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>Сумма закза</TableCell>\r\n                        <TableCell></TableCell>\r\n                        <TableCell style={{fontWeight: 'bold', color: '#000'}}>{this.state.showOrder.order.sum_order} р</TableCell>\r\n                      </TableRow>\r\n                    </TableFooter>\r\n                  </Table>\r\n                </Grid>\r\n\r\n                <Accordion style={{ width: '100%' }}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>Расформировка</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails>\r\n                    <Table size={'small'} style={{ marginTop: 15 }}>\r\n                      <TableBody>\r\n                        { this.state.showOrder.order_items_.map( (item, key) =>\r\n                          <TableRow key={key}>\r\n                            <TableCell>{item.name}</TableCell>\r\n                            <TableCell style={{ backgroundColor: parseInt(item.ready) > 0 ? '#6ab04c' : '#eb4d4b' }}></TableCell>\r\n                          </TableRow>\r\n                        ) }\r\n                      </TableBody>\r\n                    </Table>\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n\r\n            { parseInt( this.state.showOrder.order.is_delete ) == 0 && parseInt( this.state.showOrder.order.status_order ) !== 6 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={ this.closeOrder.bind(this) }>Отменить заказ</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n\r\n            { parseInt( this.state.showOrder.order.type_order_ ) == 1 && parseInt( this.state.showOrder.order.status_order ) > 4 && parseInt( this.state.showOrder.order.check_pos ) >= 0 ? \r\n              <DialogActions style={{ justifyContent: 'flex-end', padding: '15px 0px' }}>\r\n                <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                  <Button variant=\"contained\" className=\"BtnCardMain CardInCardItemYellow\" onClick={ this.fakeUser.bind(this) }>Клиент не вышел на связь</Button>\r\n                </ButtonGroup>\r\n              </DialogActions>\r\n                :\r\n              null\r\n            }\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.showOrder ? null : \r\n          <Dialog\r\n            open={this.state.modalDialogDel}\r\n            onClose={ () => { this.setState({ modalDialogDel: false }) } }\r\n            aria-labelledby=\"alert-dialog-title\"\r\n            aria-describedby=\"alert-dialog-description\"\r\n          >\r\n            <DialogTitle style={{textAlign: 'center'}}>Отмена заказа {this.state.showOrder.order.order_id}</DialogTitle>\r\n            <DialogContent>\r\n              \r\n              <FormControl component=\"fieldset\">\r\n                <RadioGroup name=\"typeDel\" value={ this.state.typeDel } onChange={this.changeAddr} >\r\n                  {this.state.radiogroup_options.map((item, key) => \r\n                    <FormControlLabel key={key} value={item.id} control={<Radio />} label={item.label} />\r\n                  )}\r\n                </RadioGroup>\r\n              </FormControl>\r\n\r\n              <TextField\r\n                //autoFocus\r\n                onFocus={ () => { this.setState({ typeDel: '4' }) } }\r\n                value={ this.state.textDel }\r\n                onChange={ this.changeText.bind(this) }\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                label=\"Причина отмены\"\r\n                type=\"text\"\r\n                fullWidth\r\n              />\r\n\r\n            </DialogContent>\r\n\r\n            <DialogActions style={{ paddingBottom: 24 }}>\r\n\r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={() => { this.setState({delOrder: false}) }}>К заказу</Button>\r\n              </ButtonGroup>\r\n              \r\n              <ButtonGroup disableElevation={true} disableRipple={true} variant=\"contained\" className=\"BtnBorderOther\" style={{ marginRight: 24 }}>\r\n                <Button variant=\"contained\" className=\"BtnCardMain CardInCardItem\" onClick={this.closeOrderTrue.bind(this)}>Отменить заказ</Button>\r\n              </ButtonGroup>\r\n\r\n            </DialogActions>\r\n                \r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.cities} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label={'Дата'} value={this.state.date} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Номер телефона'} value={this.state.number} func={ this.changeNumber.bind(this) } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label={'Адрес'} value={this.state.addr} func={ this.changeAddrSt.bind(this) } />\r\n          </Grid>\r\n\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.btnGetOrders.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12}>\r\n            <Tabs value={this.state.indexTab}>\r\n              { this.state.need_point_list.map( (item, key) =>\r\n                <Tab key={key} label={item.name} onClick={this.changePoint.bind(this, item.id, key)} {...a11yProps(parseInt(item.id))} />\r\n              ) }\r\n            </Tabs>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Заказ</TableCell>\r\n                  <TableCell>Оформил</TableCell>\r\n                  <TableCell>Номер клиента</TableCell>\r\n                  <TableCell>Адрес доставки</TableCell>\r\n                  <TableCell>Время открытия заказа</TableCell>\r\n                  \r\n                  <TableCell>Ко времени</TableCell>\r\n                  <TableCell>Закрыт на кухне</TableCell>\r\n                  <TableCell>Получен клиентом</TableCell>\r\n\r\n                  <TableCell>До просрочки</TableCell>\r\n                  <TableCell>Время обещ</TableCell>\r\n\r\n                  <TableCell>Тип</TableCell>\r\n                  <TableCell>Статус</TableCell>\r\n\r\n                  <TableCell>Сумма</TableCell>\r\n                  <TableCell>Оплата</TableCell>\r\n                  <TableCell>Водитель</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.ordersRender.map( (item, key) =>\r\n                  <TableRow key={key} style={ parseInt(item.is_delete) == 1 ? {backgroundColor: 'red', color: '#fff', fontWeight: 'bold'} : {} }>\r\n                    <TableCell style={ parseInt(item.dist) >= 0 ? {backgroundColor: 'yellow', color: '#000', cursor: 'pointer', fontWeight: 'inherit'} : {color: 'inherit', cursor: 'pointer', fontWeight: 'inherit'} } onClick={this.showOrder.bind(this, item.id)}>{item.id}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_user}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.number}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.street} {item.home}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.date_time_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit', backgroundColor: parseInt(item.is_preorder) == 1 ? '#bababa' : 'inherit' }}>{item.need_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{ item.give_data_time == '00:00:00' ? '' : item.give_data_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.close_order}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.to_time}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.unix_time_to_client == '0' || parseInt(item.is_preorder) == 1 ? '' : item.unix_time_to_client}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_order}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.status}</TableCell>\r\n\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.order_price}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.type_pay}</TableCell>\r\n                    <TableCell style={{ color: 'inherit', fontWeight: 'inherit' }}>{item.driver}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n            \r\n          </Grid>\r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyTextInput } from '../../stores/elements';\r\n\r\nimport axios from 'axios';\r\nconst queryString = require('query-string');\r\n\r\nexport class SocialNetwork extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'socialnetwork',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cityList: [],\r\n      city_id: 0,\r\n\r\n      dataInfo: null,\r\n      file: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cityList: data.cities,\r\n      city_id: data.cities[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeCity(event){\r\n    let data = event.target.value;\r\n    \r\n    this.setState({\r\n      city_id: data,\r\n      dataInfo: null,\r\n      file: null\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.updateData();\r\n    }, 50 )\r\n  }\r\n\r\n  async updateData(){\r\n    let data = {\r\n      city_id: this.state.city_id\r\n    };\r\n\r\n    let res = await this.getData('get_data', data);\r\n\r\n    this.setState({\r\n      dataInfo: res,\r\n      file: null\r\n    })\r\n  }\r\n\r\n  changeData(type, event){\r\n    let data = event.target.value;\r\n    let info = this.state.dataInfo;\r\n    \r\n    info[ [type] ] = data;\r\n\r\n    this.setState({\r\n      dataInfo: info\r\n    })\r\n  }\r\n\r\n  async saveData(){\r\n    let data = {\r\n      city_id: this.state.city_id,\r\n      vk: this.state.dataInfo.vk,\r\n      inst: this.state.dataInfo.inst,\r\n      ok: this.state.dataInfo.ok,\r\n      tg: this.state.dataInfo.tg,\r\n      fb: this.state.dataInfo.fb,\r\n      file1: this.state.file ? this.state.file.name : ''\r\n    };\r\n\r\n    let res = await this.getData('save_data', data);\r\n    \r\n    if( this.state.file ){\r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: true\r\n        })\r\n      }, 350 )\r\n      \r\n      \r\n      \r\n      const formData = new FormData(); \r\n    \r\n      formData.append( \r\n        \"file\", \r\n        this.state.file, \r\n        this.state.file.name \r\n      ); \r\n    \r\n      //console.log(this.state.file); \r\n    \r\n      axios.post('https://jacochef.ru/api/files/v2/upload/upload.php', formData)\r\n        .then( (response) => {\r\n          console.log(response);\r\n          this.setState({\r\n            is_load: false,\r\n            file: null\r\n          })\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  handleFileInput(event){\r\n    let data = event.target.files[0];\r\n\r\n    console.log( data )\r\n\r\n    this.setState({\r\n      file: data\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={6} sm={6}>\r\n            <MySelect data={this.state.cityList} value={this.state.city_id} func={ this.changeCity.bind(this) } label='Город' />\r\n          </Grid>\r\n          \r\n          {this.state.dataInfo == null ? null :\r\n            <Grid item xs={12}>\r\n              <Grid container spacing={3}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Вконтакте\" value={this.state.dataInfo ? this.state.dataInfo.vk : ''} func={this.changeData.bind(this, 'vk')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Инстаграм\" value={this.state.dataInfo ? this.state.dataInfo.inst : ''} func={this.changeData.bind(this, 'inst')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Одноклассники\" value={this.state.dataInfo ? this.state.dataInfo.ok : ''} func={this.changeData.bind(this, 'ok')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Телеграм\" value={this.state.dataInfo ? this.state.dataInfo.tg : ''} func={this.changeData.bind(this, 'tg')} />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput label=\"Facebook\" value={this.state.dataInfo ? this.state.dataInfo.fb : ''} func={this.changeData.bind(this, 'fb')} />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyTextInput type=\"file\" label=\"\" func={this.handleFileInput.bind(this)} />\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={6}>\r\n                  <Button variant=\"contained\" onClick={this.saveData.bind(this)}>Обновить данные</Button>\r\n                </Grid>\r\n\r\n              </Grid>\r\n            </Grid>\r\n          }\r\n        \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport { MyTextInput, TextEditor } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class CatWork extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'cat_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      nameCatNew: '',\r\n      editTextNew: '',\r\n\r\n      config: {\r\n        readonly: false // all options from https://xdsoft.net/jodit/doc/\r\n      },\r\n\r\n      showCat: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async save(){\r\n    let data = {\r\n      cat_id: this.state.showCat.id,\r\n      name: this.state.nameCat,\r\n      text: document.getElementById('EditorEdit').value\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        showCat: null, \r\n        nameCat: '' \r\n      })\r\n\r\n      document.getElementById('EditorEdit').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      name: this.state.nameCatNew,\r\n      text: document.getElementById('EditorNew').value\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        editTextNew: '', \r\n        nameCatNew: '' \r\n      })\r\n\r\n      document.getElementById('EditorNew').value = '';\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showCat ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            onClose={ () => { this.setState({ modalDialog: false, showCat: null, editText: '', nameCat: '' }) } }\r\n          >\r\n            <DialogTitle>Категория уборки \"{this.state.showCat.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                  <MyTextInput value={ this.state.nameCat } func={ (event) => { this.setState({ nameCat: event.target.value }) } } label='Название категории' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                  <TextEditor id=\"EditorEdit\" text={this.state.showCat.text} />\r\n                </Grid>\r\n                \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n          onClose={ () => { this.setState({ modalDialogNew: false, editTextNew: '', nameCatNew: '' }) } }\r\n        >\r\n          <DialogTitle>Новая категория уборки</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              <Grid item xs={12} sm={12}>\r\n                <MyTextInput value={ this.state.nameCatNew } func={ (event) => { this.setState({ nameCatNew: event.target.value }) } } label='Название категории' />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={12}>\r\n                <TextEditor id=\"EditorNew\" text={''} />\r\n              </Grid>\r\n              \r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить категорию</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.cats.map( (item, key) =>\r\n                <ListItem button key={key} onClick={ this.openCat.bind(this, item) }>\r\n                  <ListItemText primary={ item.name } />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport { MyTextInput, MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class AppWorkPoint extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'app_work_point',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point_id: 0,\r\n\r\n      apps: [],\r\n      app_id: 0,\r\n\r\n      allList: [],\r\n      allListRender: [],\r\n      thisList: []\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points,\r\n      point_id: data.points[0].id,\r\n      apps: data.apps,\r\n      app_id: data.apps[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  changeApp(event){\r\n    this.setState({\r\n      app_id: event.target.value\r\n    });\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n\r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('get_works', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      allList: res.all_work,\r\n      thisList: res.this_work,\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  checkList(){\r\n    let allList = this.state.allList;\r\n    let thisList = this.state.thisList;\r\n\r\n    thisList.map( (Titem) => {\r\n      let newArr = [];\r\n\r\n        allList.map( (Aitem) => {\r\n          if( parseInt(Aitem.id) != parseInt(Titem.id) ){\r\n            newArr.push(Aitem);\r\n          }\r\n        })\r\n\r\n        allList = newArr;\r\n    } )\r\n\r\n    this.setState({\r\n      allListRender: allList\r\n    })\r\n  }\r\n\r\n  add(id, name){\r\n    let thisList = this.state.thisList;\r\n    let allList = this.state.allList;\r\n\r\n    let check = thisList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n    let thisItem = allList.find( (item, key) => parseInt(item['id']) == parseInt(id) );\r\n\r\n\t\tif( !check ){\r\n\t\t\tthisList.push({id: id, name: name, time_min: 0, dop_time: 0, time_min: thisItem.time_min})\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n      thisList: thisList\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n  }\r\n\r\n  del(id, name){\r\n    let new_arr = [];\r\n    let thisList = this.state.thisList;\r\n\r\n\t\tthisList.map(function(item, key){\r\n\t\t\tif( parseInt(item['id']) != parseInt(id) ){\r\n\t\t\t\tnew_arr.push( item )\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\tthis.setState({\r\n      thisList: new_arr\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.checkList();\r\n    }, 300 )\r\n\t}\r\n\r\n  async save(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id,\r\n      items: this.state.thisList\r\n    };\r\n\r\n    let fake_item = null;\r\n\r\n    this.state.thisList.map( (item, key) => {\r\n      if( item.dop_time.length == 0 ){\r\n        fake_item = item;\r\n      }\r\n    } )\r\n\r\n    console.log(fake_item  )\r\n\r\n    if( fake_item ){\r\n      alert('У позиции \"'+fake_item.name+'\" не указано доп время');\r\n\r\n      return ;\r\n    }\r\n\r\n    let res = await this.getData('save', data);\r\n\r\n    console.log( res )\r\n\r\n    alert(res.text)\r\n  }\r\n\r\n  changeDopTime(key, event){\r\n    let data = event.target.value;\r\n    let list = this.state.thisList;\r\n\r\n    if( !isNaN(data) || data == ''  ){\r\n      list[ key ]['dop_time'] = data == '' ? '' : parseInt(data);\r\n\r\n      this.setState({\r\n        thisList: list\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.apps} value={this.state.app_id} func={ this.changeApp.bind(this) } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getWorks.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <List style={{ width: '100%' }}>\r\n              { this.state.allListRender.map( (item, key) =>\r\n                <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                  <ListItemText primary={ item.name } />\r\n                  <SendIcon onClick={this.add.bind(this, item.id, item.name)} />\r\n                </ListItem>\r\n              ) }\r\n            </List>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Table size='small'>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Наименование</TableCell>\r\n                  <TableCell>Основное время</TableCell>\r\n                  <TableCell>Доп время (в минутах)</TableCell>\r\n                  <TableCell><CloseIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.thisList.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell>{item.name}</TableCell>\r\n                    <TableCell>{item.time_min} мин.</TableCell>\r\n                    <TableCell>\r\n                      <MyTextInput value={ item.dop_time } func={ this.changeDopTime.bind(this, key) } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <CloseIcon onClick={this.del.bind(this, item.id, item.name)} style={{cursor: 'pointer'}} />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n\r\n          </Grid>\r\n        \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n          </Grid>\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\n\r\nimport { MyTextInput, MyCheckBox, MySelect, MyTimePicker, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class AppWork extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'app_work',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    data.items.map( (item, key) => {\r\n      data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      items: data.items,\r\n      items_min: data.items_min\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item){\r\n    this.setState({\r\n      modalDialog: true,\r\n      showCat: item,\r\n      nameCat: item.name,\r\n      editText: item.text\r\n    })\r\n  }\r\n\r\n  async saveEdit(){\r\n    let data = {\r\n      work: this.state.itemsEdit.item,\r\n      times_add: this.state.itemsEdit.times_add,\r\n      times_close: this.state.itemsEdit.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_edit', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialog: false, \r\n        itemsEdit: null,\r\n        nameWork: ''\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNew(){\r\n    let data = {\r\n      work: this.state.itemsNew.item,\r\n      times_add: this.state.itemsNew.times_add,\r\n      times_close: this.state.itemsNew.times_close,\r\n    };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text)\r\n    }else{\r\n      this.setState({ \r\n        modalDialogNew: false, \r\n        itemsNew: null\r\n      })\r\n\r\n      let data = await this.getData('get_all');\r\n    \r\n      data.items.map( (item, key) => {\r\n        data.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n      } )\r\n\r\n      this.setState({\r\n        items: data.items,\r\n        items_min: data.items_min\r\n      })\r\n    }\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n      nameWork: res.item.name,\r\n      chengeItem1: this.state.items_min.find( (item, key) => parseInt( item.id ) == parseInt( res.item.work_id ) )\r\n    })\r\n  }\r\n\r\n  async openNewWork(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsNew: res,\r\n      modalDialogNew: true\r\n    })\r\n  }\r\n\r\n  chengeItem(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeItem1(type, event, data){\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsEdit: item,\r\n      chengeItem1: data\r\n    })\r\n  }\r\n\r\n  chengeItemNew(type, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data;\r\n\r\n    if( type == 'dow' && data == 12 ){\r\n      item.times_add = [{ time_action: '19:00' }];\r\n      item.times_close = '23:00';\r\n    }\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  chengeItemNew1(type, event, data){\r\n    let item = this.state.itemsNew;\r\n\r\n    item.item[ [type] ] = data.id;\r\n\r\n    this.setState({\r\n      itemsNew: item,\r\n      chengeItemNew1: data\r\n    })\r\n  }\r\n\r\n  chengeTime(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeNew(key, event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_add[ key ]['time_action'] = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  delTime(key){\r\n    let item = this.state.itemsEdit;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  delTimeNew(key){\r\n    let item = this.state.itemsNew;\r\n\r\n    let newArr = [];\r\n\r\n    item.times_add.map( (it, k) => {\r\n      if( parseInt( k ) != parseInt( key ) ){\r\n        newArr.push(it)\r\n      }\r\n    } )\r\n\r\n    item.times_add = newArr;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  addTime(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n\r\n      this.setState({\r\n        itemsEdit: item\r\n      })\r\n    }\r\n  }\r\n\r\n  addTimeNew(event){\r\n    let data = document.getElementById('timePikerNew').value;\r\n    let item = this.state.itemsNew;\r\n\r\n    if( data != '' ){\r\n      item.times_add.push({\r\n        time_action: data\r\n      });\r\n  \r\n      this.setState({\r\n        itemsNew: item\r\n      })\r\n    }\r\n  }\r\n\r\n  chengeTimeClose(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsEdit;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsEdit: item\r\n    })\r\n  }\r\n\r\n  chengeTimeCloseNew(event){\r\n    let data = event.target.value;\r\n    let item = this.state.itemsNew;\r\n\r\n    item.times_close = data;\r\n\r\n    this.setState({\r\n      itemsNew: item\r\n    })\r\n  }\r\n\r\n  async changeCheck(key, type, event){\r\n    let items = this.state.items;\r\n\r\n    items[ key ][ [type] ] = event.target.checked ? 1 : 0;\r\n\r\n    let data = {\r\n      type: type,\r\n      value: event.target.checked ? 1 : 0,\r\n      id: items[ key ].id\r\n    };\r\n\r\n    let res = await this.getData('save_check', data);\r\n    \r\n\r\n    this.setState({\r\n      items: items\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.itemsEdit ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n          >\r\n            <DialogTitle>Уборка \"{this.state.nameWork}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsEdit.item.name } func={ this.chengeItem.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsEdit.cats} value={this.state.itemsEdit.item.type_new} func={ this.chengeItem.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsEdit.item.time_min } func={ this.chengeItem.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={ this.state.itemsEdit.item.max_count } func={ this.chengeItem.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} value={this.state.itemsEdit.item.description} func={ this.chengeItem.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsEdit.apps} value={this.state.itemsEdit.item.app_id} func={ this.chengeItem.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.dows} value={this.state.itemsEdit.item.dow} func={ this.chengeItem.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.types} value={this.state.itemsEdit.item.type_time} func={ this.chengeItem.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsEdit.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite data={this.state.items_min} value={this.state.chengeItem1} func={ this.chengeItem1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsEdit.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker label={''} value={item.time_action} func={ this.chengeTime.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTime.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" label={''} value={'00:00'} onBlur={ this.addTime.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker label={''} value={this.state.itemsEdit.times_close} func={ this.chengeTimeClose.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveEdit.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        { !this.state.itemsNew ? null :\r\n          <Dialog\r\n            open={this.state.modalDialogNew}\r\n            maxWidth={'md'}\r\n            onClose={ () => { this.setState({ modalDialogNew: false }) } }\r\n          >\r\n            <DialogTitle>Новая уборка</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsNew.item.name } func={ this.chengeItemNew.bind(this, 'name') } label='Название уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsNew.cats} value={this.state.itemsNew.item.type_new} func={ this.chengeItemNew.bind(this, 'type_new') } label='Категория уборки' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MyTextInput value={ this.state.itemsNew.item.time_min } func={ this.chengeItemNew.bind(this, 'time_min') } label='Время уборки (в минутах)' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={3}>\r\n                  <MyTextInput value={ this.state.itemsNew.item.max_count } func={ this.chengeItemNew.bind(this, 'max_count') } label='Количество активаций' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={9}>\r\n                  <MyTextInput multiline={true} maxRows={2} value={this.state.itemsNew.item.description} func={ this.chengeItemNew.bind(this, 'description') } label='Описание (для внутренного использования)'/>\r\n                </Grid>\r\n                \r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.itemsNew.apps} value={this.state.itemsNew.item.app_id} func={ this.chengeItemNew.bind(this, 'app_id') } label='Должность' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.dows} value={this.state.itemsNew.item.dow} func={ this.chengeItemNew.bind(this, 'dow') } label='День недели' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={4}>\r\n                  <MySelect data={this.state.types} value={this.state.itemsNew.item.type_time} func={ this.chengeItemNew.bind(this, 'type_time') } label='Тип добавления' />\r\n                </Grid>\r\n                \r\n                { parseInt(this.state.itemsNew.item.dow) != 14 ? null :\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyAutocomplite data={this.state.items_min} value={this.state.chengeItemNew1} func={ this.chengeItemNew1.bind(this, 'work_id') } multiple={false} label='Если эта уборка завершена' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n                }\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время добавления уборки' } />\r\n                    </ListItem>\r\n\r\n                    { this.state.itemsNew.times_add.map( (item, key) =>\r\n                      <ListItem key={key} style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                        <MyTimePicker label={''} value={item.time_action} func={ this.chengeTimeNew.bind(this, key) } />\r\n                        <CloseIcon style={{ cursor: 'pointer' }} onClick={ this.delTimeNew.bind(this, key) } />\r\n                      </ListItem>\r\n                    ) }\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker id=\"timePikerNew\" label={''} value={'00:00'} onBlur={ this.addTimeNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <List>\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <ListItemText primary={ 'Время автоматического удаления' } />\r\n                    </ListItem>\r\n\r\n                    <ListItem style={{ borderBottom: '1px solid #e5e5e5' }}>\r\n                      <MyTimePicker label={''} value={this.state.itemsNew.times_close} func={ this.chengeTimeCloseNew.bind(this) } />\r\n                    </ListItem>\r\n                  </List>\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ this.openNewWork.bind(this) }>Добавить уборку</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>Должность</TableCell>\r\n                  <TableCell>Время</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  \r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                  <TableCell>Не удалять в конце смены</TableCell>\r\n                  <TableCell>Обязательна к выполнению в особый день</TableCell>\r\n                  <TableCell><VisibilityIcon /></TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.items.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.app_name}</TableCell>\r\n                    <TableCell>{item.time_min ? item.time_min + 'мин.' : ''}</TableCell>\r\n                    <TableCell>{item.dow_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n\r\n                    <TableCell>{item.times_close}</TableCell>\r\n\r\n                    <TableCell>\r\n                      <MyCheckBox value={ parseInt(item.is_not_del) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_not_del') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox value={ parseInt(item.is_need) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_need') } label='' />\r\n                    </TableCell>\r\n                    <TableCell>\r\n                      <MyCheckBox value={ parseInt(item.is_active) == 1 ? true : false } func={ this.changeCheck.bind(this, key, 'is_active') } label='' />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport Grid from '@mui/material/Grid';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport PropTypes from 'prop-types';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport Box from '@mui/material/Box';\r\n\r\nimport Typography from '@mui/material/Typography';\r\n\r\nimport { MySelect } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <div\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`simple-tabpanel-${index}`}\r\n      aria-labelledby={`simple-tab-${index}`}\r\n      {...other}\r\n    >\r\n      {value === index && (\r\n        <Box sx={{ p: 3 }}>{children}</Box>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n  children: PropTypes.node,\r\n  index: PropTypes.number.isRequired,\r\n  value: PropTypes.number.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    'aria-controls': `simple-tabpanel-${index}`,\r\n  };\r\n}\r\n\r\nexport class AppWorkShow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'app_work_show',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      items: [],\r\n      items_min: [],\r\n      showItems: [],\r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n\r\n      activeTab: 0,\r\n\r\n      dows: [\r\n        {id: 1, name: 'Понедельник'},\r\n        {id: 2, name: 'Вторник'},\r\n        {id: 3, name: 'Среда'},\r\n        {id: 4, name: 'Четверг'},\r\n        {id: 5, name: 'Пятница'},\r\n        {id: 6, name: 'Суббота'},\r\n        {id: 7, name: 'Воскресенье'},\r\n\r\n        {id: 10, name: 'Другое'},\r\n\t      {id: 11, name: 'Каждый день'},\r\n\t      {id: 12, name: 'Каждый день в конце смены'},\r\n        {id: 13, name: 'Ручное добавление'},\r\n        {id: 14, name: 'После выполнение уборки'},\r\n      ],\r\n      types: [\r\n        {id: 0, name: 'Другое'},\r\n        {id: 1, name: 'Только 1 активная'},\r\n        {id: 2, name: 'Добавление без ограничений'},\r\n      ],\r\n\r\n      itemsEdit: null,\r\n      nameWork: '',\r\n\r\n      itemsNew: null,\r\n      chengeItem1: null,\r\n      chengeItemNew1: null,\r\n\r\n      points: [],\r\n      point_id: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let points = await this.getData('get_points');\r\n    \r\n    this.setState({\r\n      points: points,\r\n      point_id: points[0]['id']\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getWorks();\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getWorks(){\r\n    let data = {\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_all', data);\r\n\r\n    res.items.map( (item, key) => {\r\n      res.items[key]['dow_name'] = this.state.dows.find( (it) => parseInt(it.id) == parseInt(item.dow) )['name'];\r\n    } )\r\n\r\n    let activeTab = parseInt(this.state.activeTab);\r\n\r\n    if( activeTab == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( activeTab == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( activeTab == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      module_name: res.module_info.name,\r\n      items: res.items,\r\n      showItems: res.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) ),\r\n      items_min: res.items_min\r\n    })\r\n\r\n    document.title = res.module_info.name;\r\n  }\r\n\r\n  async openWork(id){\r\n    let data = {\r\n      id: id,\r\n      point_id: this.state.point_id\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      itemsEdit: res,\r\n      modalDialog: true,\r\n    })\r\n  }\r\n\r\n  changeTab(event, val){\r\n    let activeTab = parseInt(val);\r\n\r\n    if( val == 0 ){\r\n      activeTab = 5;\r\n    }\r\n    if( val == 1 ){\r\n      activeTab = 6;\r\n    }\r\n    if( val == 2 ){\r\n      activeTab = 21;\r\n    }\r\n\r\n    this.setState({\r\n      activeTab: val,\r\n      showItems: this.state.items.filter( (item) => parseInt(item.app_id) == parseInt(activeTab) )\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        \r\n\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MySelect data={this.state.points} value={this.state.point_id} func={ (event) => { this.setState({ point_id: event.target.value }) } } label='Точка' />\r\n          </Grid>\r\n\r\n          { !this.state.itemsEdit ? null :\r\n            <Dialog\r\n              open={this.state.modalDialog}\r\n              maxWidth={'md'}\r\n              onClose={ () => { this.setState({ modalDialog: false, itemsEdit: null, nameWork: '' }) } }\r\n            >\r\n              <DialogTitle>Уборка \"{this.state.itemsEdit.item.name}\"</DialogTitle>\r\n              <DialogContent>\r\n                \r\n                <Grid container spacing={0}>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>{this.state.itemsEdit.item.cat_name}</Typography>\r\n                  </Grid>\r\n\r\n                  { this.state.itemsEdit.item.show_time == false ? null :\r\n                    <Grid item xs={12}>\r\n                      <Typography>Время за уборку: {this.state.itemsEdit.item.time_min} мин.</Typography>\r\n                    </Grid>\r\n                  }\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography>Описание процесса уборки: </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography dangerouslySetInnerHTML={{__html: this.state.itemsEdit.item.text_work}}></Typography>\r\n                  </Grid>\r\n                  \r\n                </Grid>\r\n\r\n              </DialogContent>\r\n            </Dialog>\r\n          }\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Paper>\r\n              <Tabs value={this.state.activeTab} onChange={ this.changeTab.bind(this) }>\r\n                <Tab label=\"Повар\" {...a11yProps(0)} />\r\n                <Tab label=\"Кассир\" {...a11yProps(1)} />\r\n                <Tab label=\"Кухонный работник\" {...a11yProps(2)} />\r\n              </Tabs>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Работа</TableCell>\r\n                  <TableCell>День недели</TableCell>\r\n                  <TableCell>Время открытия</TableCell>\r\n                  <TableCell>Время автоматического удаления</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                \r\n                { this.state.showItems.map( (item, key) =>\r\n                  <TableRow key={key}>\r\n                    <TableCell onClick={ this.openWork.bind(this, item.id) } style={{ color: '#c03', cursor: 'pointer', fontWeight: 'bold' }}>{item.work_name}</TableCell>\r\n                    <TableCell>{item.dow_name} {item.need_work_name}</TableCell>\r\n                    <TableCell>{item.times_open}</TableCell>\r\n                    <TableCell>{item.times_close}</TableCell>\r\n                  </TableRow>\r\n                ) }\r\n              \r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport { MyTextInput, MySelect, MyAutocomplite, MyDaterange, MyCheckBox, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class SiteStatMarc extends React.Component {\r\n  chartnewusers = null;\r\n  chartorders = null;\r\n  chartavgsumm = null;\r\n  chartcountpos = null;\r\n\r\n  chartnewusersD = null;\r\n  chartordersD = null;\r\n  chartavgsummD = null;\r\n  chartcountposD = null;\r\n\r\n \r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_stat_marc',\r\n      module_name: '',\r\n      is_load: false,\r\n      is_show_adv: false,\r\n\r\n      show_stat_roll:   false,\r\n      show_stat_set:    false,\r\n      show_stat_pizza:  false,\r\n      \r\n      choosePoint: [],\r\n      points: [],\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      promoName: '',\r\n\r\n      newUsersTable: [],\r\n      countOrdersTable: [],\r\n      avgSumm: [],\r\n      countPos: [],\r\n      fakeUsers: [],\r\n\r\n      roll_stat:    [],\r\n      set_stat:     [],\r\n      pizza_stat:   [],\r\n\r\n      typesShow: [\r\n        {id: 1, name: 'Итоговый результат'},\r\n        {id: 2, name: 'График по месяцам'},\r\n        {id: 3, name: 'График по дням'},\r\n      ],\r\n        typeShow: 1,\r\n\r\n        // правка от 06.06.22\r\n        colors: [0x679499, 0x2941A, 0x62941A, 0xFF0000, 0x46bdc6, 0xFFB6C1,\r\n            0x679499, 0x2941A, 0x62941A, 0xFF0000, 0x46bdc6, 0xFFB6C1]\r\n    };\r\n  }\r\n\r\n   \r\n\r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      points: data.points\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n    changeChekBox(type, event) {\r\n        this.setState({\r\n            [type]: event.target.checked\r\n        })\r\n    }\r\n\r\n  async show() {\r\n    let data = {\r\n      points: this.state.choosePoint,\r\n      dateStart: this.state.date_start,\r\n      dateEnd: this.state.date_end,\r\n      typeShow: this.state.typeShow,\r\n      promoName: this.state.promoName,\r\n      advData: this.state.advData,\r\n    };\r\n\r\n    let res = await this.getData('show', data);\r\n\r\n      console.log(res);\r\n\r\n    // Итоговый результат\r\n      if (parseInt(this.state.typeShow) == 1) {\r\n         \r\n          this.setState({\r\n            newUsersTable: res.new_users,\r\n            countOrdersTable: res.count_orders,\r\n            avgSumm: res.avg_summ,\r\n            countPos: res.count_pos,\r\n            fakeUsers: res.fake_users,\r\n            roll_stat: res.roll_stat,\r\n            set_stat: res.set_stat,\r\n            pizza_stat: res.pizza_stat,\r\n          })\r\n      }\r\n\r\n    // графики по месяцам\r\n    if( parseInt( this.state.typeShow ) == 2 ){\r\n      this.renderGraphNewUsers(res.new_users);\r\n      this.renderGraphOrders(res.count_orders);\r\n      this.renderGraphAvgSumm(res.avg_summ);\r\n      this.renderCountPos(res.count_pos);\r\n      }\r\n\r\n     // графики по дням\r\n      if (parseInt(this.state.typeShow) == 3) {\r\n        \r\n        this.renderGraphNewUsersD(res.new_users);\r\n        this.renderGraphOrdersD(res.count_orders);\r\n        this.renderGraphAvgSummD(res.avg_summ);\r\n        this.renderCountPosD(res.count_pos);\r\n    }\r\n  }\r\n\r\n  renderGraphNewUsers(MyData){\r\n    if( this.chartnewusers ){\r\n      this.chartnewusers.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusers\");\r\n    this.chartnewusers = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n\r\n    MyData.site.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 1 Новые клиенты по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      // правка radius: 5->3\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n        \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      if (name == 'Всего') {\r\n         series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphNewUsersD(MyData){\r\n    if( this.chartnewusersD ){\r\n      this.chartnewusersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartnewusersD\");\r\n    this.chartnewusersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_site = [];\r\n    var data_center = [];\r\n    var data_all = [];\r\n   \r\n\r\n    MyData.site.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_site.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.center.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_center.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {})\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series\r\n    function createSeries(name, field, data) {\r\n\r\n      // новые клиенты по дням правка 2\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n         //stacked: true,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n        series.strokes.template.set(\"strokeWidth\", 2);\r\n        if (name == 'Всего') {\r\n            series.strokes.template.set(\"strokeWidth\", 8)\r\n        }\r\n        series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n        series.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Сайт\", \"value\", data_site);\r\n    createSeries(\"Контакт-центр\", \"value\", data_center);\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n   \r\n\r\n    // Add cursor\r\n    \r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n    \r\n  }\r\n\r\n  renderGraphOrders(MyData){\r\n    if( this.chartorders ){\r\n      this.chartorders.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartorders\"); \r\n\r\n    this.chartorders = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n    var data_adv = [];\r\n     \r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series Правка 3 Заказы по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n      am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      if (name == 'Всего') {\r\n        series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n   \r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n   // заказы по дням\r\n  renderGraphOrdersD(MyData){\r\n    if( this.chartordersD ){\r\n      this.chartordersD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartordersD\"); \r\n\r\n    this.chartordersD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n        dateFormat: \"yyyy-MM-dd\", \r\n        dateFields: [\"valueX\", \"openValueX\"] \r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n \r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n     \r\n     // Create Y-axis\r\n      var yAxis = chart.yAxes.push(\r\n          am5xy.ValueAxis.new(root, {\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, {})\r\n          })\r\n      );\r\n\r\n    // Create X-Axis\r\n      let xAxis = chart.xAxes.push(\r\n          am5xy.DateAxis.new(root, {\r\n            baseInterval: { timeUnit: \"day\", count: 1 },\r\n            startLocation: 0.5,\r\n            endLocation: 0.5,\r\n            renderer: am5xy.AxisRendererX.new(root, {})\r\n          })\r\n      );\r\n\r\n      xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n      xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              //tooltip: am5.Tooltip.new(root, {\r\n              //    themeTags: [\"axis\"],\r\n              //    animationDuration: 200\r\n              //})\r\n          })\r\n      );\r\n\r\n\r\n    // Create series правка 4 Заказы по дням\r\n    function createSeries(name, field, data) {\r\n     \r\n      var series = chart.series.push( \r\n        am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field,\r\n          strokeWidth: 5,\r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n\r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n      if (name == 'Всего') {\r\n          series.strokes.template.set(\"strokeWidth\", 8)\r\n      }\r\n       \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n\r\n      // Новый график рекламнеы компании, заказы по дням\r\n      let colors = this.state.colors;\r\n      function createSeries2(name, field, data) {\r\n\r\n          let cat = [];\r\n          data.map((item, k) => {\r\n              data[k].name = item.category;\r\n              data[k].promo = (item.promo != \"\" || item.promo.length > 0) ? '\\nПромокод: ' + item.promo : '';\r\n              data[k].columnSettings.fill = am5.color(colors[k]);\r\n              cat.push({ 'category': item.category })\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // инфилизация настроик графика\r\n          var series2 = null;\r\n          let ser_settings = {\r\n              xAxis: xAxis,\r\n              yAxis: yAxis2,\r\n              openValueXField: \"fromDate\",\r\n              valueXField: \"toDate\",\r\n              categoryYField: \"category\",\r\n              sequencedInterpolation: true,\r\n          }\r\n\r\n          // перебор массия для заполнения подсказки и цвета Рек. Компании\r\n          data.map(function (item, key) {\r\n              ser_settings['fill'] = am5.color(colors[key]);\r\n\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, ser_settings));\r\n\r\n              series2.columns.template.setAll({\r\n                  templateField: \"columnSettings\",\r\n                  strokeOpacity: 0,\r\n                  tooltipText: \"[bold]{category}[/]\\n{description}\\n\" +\r\n                      \"{openValueX.formatDate('yyyy-MM-dd')} - {valueX.formatDate('yyyy-MM-dd')}\" +\r\n                      \"{promo}\"\r\n              });\r\n\r\n              series2.bullets.push(function () {\r\n                  return am5.Bullet.new(root, {\r\n                      sprite: am5.Circle.new(root, {\r\n                          radius: 2,\r\n                          fill: series2.get(\"fill\")\r\n                      })\r\n                  });\r\n              });\r\n          })\r\n\r\n          series2.columns.template.setAll({\r\n              opacity: 0.5,\r\n          });\r\n\r\n          series2.data.processor = am5.DataProcessor.new(root, {\r\n              dateFields: [\"fromDate\", \"toDate\"],\r\n              dateFormat: \"yyyy-MM-dd HH:mm\"\r\n          });\r\n\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n      createSeries(\"Всего\", \"value\", data_all);\r\n      createSeries(\"Самовывозов\", \"value\", data_pic);\r\n      createSeries(\"Доставок\", \"value\", data_dev);\r\n      createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n     // правка от 08.04 показываем столбики\r\n     if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n     }\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderGraphAvgSumm(MyData){\r\n    if( this.chartavgsumm ){\r\n      this.chartavgsumm.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsumm\"); \r\n\r\n    this.chartavgsumm = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n      let date = item.date_new.split('-');\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n     \r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n          if (name == 'Всего') {\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\");\r\n         \r\n          series.data.setAll(data);\r\n      }\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n    \r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n   // график средний чек за день\r\n  renderGraphAvgSummD(MyData){\r\n    if( this.chartavgsummD ){\r\n      this.chartavgsummD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartavgsummD\"); \r\n\r\n    this.chartavgsummD = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n       dateFormat: \"yyyy-MM-dd\",\r\n       dateFields: [\"valueX\", \"openValueX\"]\r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_all = [];\r\n    var data_pic = [];\r\n    var data_dev = [];\r\n    var data_hall = [];\r\n\r\n    MyData.all.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_all.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.pic.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pic.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.dev.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_dev.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.hall.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_hall.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {})\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    var yAxis2 = chart.yAxes.push(\r\n        am5xy.CategoryAxis.new(root, {\r\n            categoryField: \"category\",\r\n            extraTooltipPrecision: 1,\r\n            renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n            //tooltip: am5.Tooltip.new(root, {\r\n            //    themeTags: [\"axis\"],\r\n            //    opacity: 0.4,\r\n            //    animationDuration: 200\r\n            //})\r\n        })\r\n    );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый график Рекламные компании, Средний чек за день\r\n      let colors = this.state.colors;\r\n      function createSeries2(name, field, data) {\r\n\r\n          let cat = [];\r\n          data.map((item, k) => {\r\n              data[k].name  = item.category;\r\n              data[k].promo = (item.promo != \"\" || item.promo.length > 0) ? '\\nПромокод: ' + item.promo : '';\r\n              data[k].columnSettings.fill = am5.color(colors[k]);\r\n              cat.push({ 'category': item.category })\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // инфилизация настроик графика\r\n          var series2 = null;\r\n          let ser_settings = {\r\n              xAxis: xAxis,\r\n              yAxis: yAxis2,\r\n              openValueXField: \"fromDate\",\r\n              valueXField: \"toDate\",\r\n              categoryYField: \"category\",\r\n              sequencedInterpolation: true,\r\n          }\r\n\r\n          // перебор массия для заполнения подсказки и цвета Рек. Компании\r\n          data.map(function (item, key) {\r\n              ser_settings['fill'] = am5.color(colors[key]);\r\n\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, ser_settings));\r\n\r\n              series2.columns.template.setAll({\r\n                  templateField: \"columnSettings\",\r\n                  strokeOpacity: 0,\r\n                  tooltipText: \"[bold]{category}[/]\\n{description}\\n\" +\r\n                      \"{openValueX.formatDate('yyyy-MM-dd')} - {valueX.formatDate('yyyy-MM-dd')}\" +\r\n                      \"{promo}\"\r\n              });\r\n\r\n              series2.bullets.push(function () {\r\n                  return am5.Bullet.new(root, {\r\n                      sprite: am5.Circle.new(root, {\r\n                          radius: 2,\r\n                          fill: series2.get(\"fill\")\r\n                      })\r\n                  });\r\n              });\r\n          })\r\n\r\n          series2.columns.template.setAll({\r\n              opacity: 0.5,\r\n          });\r\n\r\n          series2.data.processor = am5.DataProcessor.new(root, {\r\n              dateFields: [\"fromDate\", \"toDate\"],\r\n              dateFormat: \"yyyy-MM-dd HH:mm\"\r\n          });\r\n\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n    createSeries(\"Всего\", \"value\", data_all);\r\n    createSeries(\"Самовывозов\", \"value\", data_pic);\r\n    createSeries(\"Доставок\", \"value\", data_dev);\r\n    createSeries(\"Зал\", \"value\", data_hall);\r\n\r\n    // показ акций\r\n    if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data);\r\n    }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  renderCountPos(MyData){\r\n    if( this.chartcountpos ){\r\n      this.chartcountpos.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountpos\"); \r\n\r\n    this.chartcountpos = root;\r\n\r\n    root.setThemes([\r\n      am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    var data_adv = [];\r\n\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, 1).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"month\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {\r\n          minGridDistance: 30\r\n        })\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n    // Create series правка 7 Позиций по месяцам\r\n    function createSeries(name, field, data) {\r\n      var series = chart.series.push( \r\n          am5xy.SmoothedXLineSeries.new(root, {\r\n          name: name,\r\n          xAxis: xAxis, \r\n          yAxis: yAxis, \r\n          valueYField: field, \r\n          valueXField: \"date\",\r\n          tooltip: am5.Tooltip.new(root, {}),\r\n          maskBullets: false\r\n        }) \r\n      );\r\n      \r\n      series.bullets.push(function() {\r\n        return am5.Bullet.new(root, {\r\n          sprite: am5.Circle.new(root, {\r\n            radius: 2,\r\n            fill: series.get(\"fill\")\r\n          })\r\n        });\r\n      });\r\n      \r\n      series.strokes.template.set(\"strokeWidth\", 2);\r\n      \r\n      series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n      series.data.setAll(data);\r\n    }\r\n    function createSeries2(name, field, data) {\r\n\r\n        // вытаскиваем название акции\r\n        let adv1 = [], adv2 = [];\r\n        let lKey = 0, newArr = false;\r\n\r\n        // разделяем на два массива\r\n        for (const [key, value] of data.entries()) {\r\n            lKey = key == 0 ? 1 : key - 1;\r\n            if (key == 0) {\r\n                adv1.push(value);\r\n            } else if (data[lKey]['name'] != value['name']) {\r\n                adv2.push(value);\r\n                newArr = true;\r\n            } else if (newArr) {\r\n                adv2.push(value);\r\n            } else {\r\n                adv1.push(value);\r\n            }\r\n        }\r\n\r\n        // инцилизация первого массива на графике\r\n        if (adv1.length != 0) {\r\n            var series2 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv1[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv1[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series2.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DC),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series2.set(\"fill\", am5.color(0x6794DC));\r\n            series2.data.setAll(adv1);\r\n        }\r\n\r\n        // инцилизация второго массива на графике\r\n        if (adv2.length != 0) {\r\n            var series3 = chart.series.push(\r\n                am5xy.ColumnSeries.new(root, {\r\n                    name: adv2[0]['name'],\r\n                    xAxis: xAxis,\r\n                    yAxis: yAxis,\r\n                    valueYField: field,\r\n                    valueXField: \"date\",\r\n                    categoryXField: \"date\",\r\n                    color: '0x6794DC',\r\n                    clustered: false,\r\n                    tooltip: am5.Tooltip.new(root, {\r\n                        pointerOrientation: \"horizontal\",\r\n                        labelText: adv2[0]['name']\r\n                    })\r\n                })\r\n            );\r\n\r\n            series3.columns.template.setAll({\r\n                opacity: 0.5,\r\n                width: am5.percent(80),\r\n                templateField: \"columnSettings\",\r\n            });\r\n\r\n            chart.get(\"colors\").set(\"colors\", [\r\n                am5.color(0x6794DA),\r\n            ]);\r\n\r\n            // меняем цвет\r\n            series3.set(\"fill\", am5.color(0x6794DA));\r\n            series3.data.setAll(adv2);\r\n        }\r\n    }\r\n    createSeries(\"Роллов\", \"value\", data_rolls);\r\n    createSeries(\"Пиццы\", \"value\", data_pizza);\r\n    //if (this.state.is_show_adv && MyData.adv_data) {\r\n    //    createSeries2(\"Акция\", \"value\", data_adv)\r\n    //}\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  // Позиций по дням\r\n  renderCountPosD(MyData){\r\n    if( this.chartcountposD ){\r\n      this.chartcountposD.dispose();\r\n    }\r\n\r\n    var root = am5.Root.new(\"chartcountposD\"); \r\n\r\n    this.chartcountposD = root;\r\n\r\n    root.setThemes([\r\n       am5themes_Animated.new(root)\r\n    ]);\r\n\r\n    root.dateFormatter.setAll({\r\n       dateFormat: \"yyyy-MM-dd\",\r\n       dateFields: [\"valueX\", \"openValueX\"]\r\n    });\r\n\r\n    var chart = root.container.children.push( \r\n      am5xy.XYChart.new(root, {\r\n        panY: false,\r\n        wheelY: \"zoomX\",\r\n        layout: root.verticalLayout,\r\n        //maxTooltipDistance: 0\r\n      }) \r\n    );\r\n\r\n    var data_pizza = [];\r\n    var data_rolls = [];\r\n    MyData.count_pizza.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_pizza.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    } )\r\n\r\n    MyData.count_rolls.map( (item) => {\r\n\r\n      let date = item.date_new.split('-');\r\n\r\n      data_rolls.push({\r\n        date: new Date(date[0], parseInt(date[1])-1, parseInt(date[2])).getTime(),\r\n        value: parseInt(item.count)\r\n      })\r\n    })\r\n\r\n    // Create Y-axis\r\n    var yAxis = chart.yAxes.push(\r\n      am5xy.ValueAxis.new(root, {\r\n        extraTooltipPrecision: 1,\r\n        renderer: am5xy.AxisRendererY.new(root, {})\r\n      })\r\n    );\r\n\r\n    // Create X-Axis\r\n    let xAxis = chart.xAxes.push(\r\n      am5xy.DateAxis.new(root, {\r\n        baseInterval: { timeUnit: \"day\", count: 1 },\r\n        startLocation: 0.5,\r\n        endLocation: 0.5,\r\n        renderer: am5xy.AxisRendererX.new(root, {})\r\n      })\r\n    );\r\n\r\n    xAxis.get(\"dateFormats\")[\"day\"] = \"MM/dd\";\r\n    xAxis.get(\"periodChangeDateFormats\")[\"day\"] = \"MM/dd\";\r\n\r\n      var yAxis2 = chart.yAxes.push(\r\n          am5xy.CategoryAxis.new(root, {\r\n              categoryField: \"category\",\r\n              extraTooltipPrecision: 1,\r\n              renderer: am5xy.AxisRendererY.new(root, { inversed: true }),\r\n              //tooltip: am5.Tooltip.new(root, {\r\n              //    themeTags: [\"axis\"],\r\n              //    animationDuration: 200\r\n              //})\r\n          })\r\n      );\r\n\r\n      // Create series правка 4 Заказы по дням\r\n      function createSeries(name, field, data) {\r\n\r\n          var series = chart.series.push(\r\n              am5xy.SmoothedXLineSeries.new(root, {\r\n                  name: name,\r\n                  xAxis: xAxis,\r\n                  yAxis: yAxis,\r\n                  valueYField: field,\r\n                  //fill: chart.get(\"colors\").getIndex(13),\r\n                  strokeWidth: 5,\r\n                  valueXField: \"date\",\r\n                  tooltip: am5.Tooltip.new(root, {}),\r\n                  maskBullets: false\r\n              })\r\n          );\r\n\r\n          series.strokes.template.set(\"strokeWidth\", 2);\r\n\r\n          if (name == 'Всего') {\r\n              //series.strokes.template.set(\"stroke\", 'red');\r\n              series.strokes.template.set(\"strokeWidth\", 8)\r\n          }\r\n\r\n          series.bullets.push(function () {\r\n              return am5.Bullet.new(root, {\r\n                  sprite: am5.Circle.new(root, {\r\n                      radius: 2,\r\n                      fill: series.get(\"fill\")\r\n                  })\r\n              });\r\n          });\r\n\r\n          series.get(\"tooltip\").label.set(\"text\", \"[bold]{name}[/]\\n{valueX.formatDate()}: {valueY}\")\r\n          series.data.setAll(data);\r\n      }\r\n\r\n      // Новый график Рекламные компании, Позиций по дням\r\n      let colors = this.state.colors;\r\n      function createSeries2(name, field, data) {\r\n\r\n          let cat = [];\r\n          data.map((item, k) => {\r\n              data[k].name = item.category;\r\n              data[k].promo = (item.promo != \"\" || item.promo.length > 0) ? '\\nПромокод: ' + item.promo : '';\r\n              data[k].columnSettings.fill = am5.color(colors[k]);\r\n              cat.push({ 'category': item.category })\r\n          })\r\n\r\n          // привязка категории\r\n          yAxis2.data.setAll(cat);\r\n\r\n          // инфилизация настроик графика\r\n          var series2 = null;\r\n          let ser_settings = {\r\n              xAxis: xAxis,\r\n              yAxis: yAxis2,\r\n              openValueXField: \"fromDate\",\r\n              valueXField: \"toDate\",\r\n              categoryYField: \"category\",\r\n              sequencedInterpolation: true,\r\n          }\r\n\r\n          // перебор массия для заполнения подсказки и цвета Рек. Компании\r\n          data.map(function (item, key) {\r\n              ser_settings['fill'] = am5.color(colors[key]);\r\n\r\n              series2 = chart.series.push(\r\n                  am5xy.ColumnSeries.new(root, ser_settings));\r\n\r\n              series2.columns.template.setAll({\r\n                  templateField: \"columnSettings\",\r\n                  strokeOpacity: 0,\r\n                  tooltipText: \"[bold]{category}[/]\\n{description}\\n\" +\r\n                      \"{openValueX.formatDate('yyyy-MM-dd')} - {valueX.formatDate('yyyy-MM-dd')}\" +\r\n                      \"{promo}\"\r\n              });\r\n\r\n              series2.bullets.push(function () {\r\n                  return am5.Bullet.new(root, {\r\n                      sprite: am5.Circle.new(root, {\r\n                          radius: 2,\r\n                          fill: series2.get(\"fill\")\r\n                      })\r\n                  });\r\n              });\r\n          })\r\n\r\n          series2.columns.template.setAll({\r\n              opacity: 0.5,\r\n          });\r\n\r\n          series2.data.processor = am5.DataProcessor.new(root, {\r\n              dateFields: [\"fromDate\", \"toDate\"],\r\n              dateFormat: \"yyyy-MM-dd HH:mm\"\r\n          });\r\n\r\n          series2.data.setAll(data);\r\n      }\r\n\r\n     createSeries(\"Роллов\", \"value\", data_rolls);\r\n     createSeries(\"Пиццы\", \"value\", data_pizza);\r\n      \r\n     if (this.state.is_show_adv && MyData.adv_data.length > '1') {\r\n        createSeries2(\"Акция\", \"value\", MyData.adv_data)\r\n     }\r\n\r\n    // Add cursor\r\n    chart.set(\"cursor\", am5xy.XYCursor.new(root, {\r\n      behavior: \"zoomXY\",\r\n      xAxis: xAxis\r\n    }));\r\n\r\n    xAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n\r\n    yAxis.set(\"tooltip\", am5.Tooltip.new(root, {\r\n      themeTags: [\"axis\"]\r\n    }));\r\n  }\r\n\r\n  changeDateRange(data, val) {\r\n    this.setState({\r\n      [data]: formatDate(val)\r\n    })\r\n  }\r\n\r\n  showStat(type) {\r\n      let val;\r\n      switch (type) {\r\n          case 'roll':\r\n              val = this.state.show_stat_roll ? false : true;\r\n              this.setState({ show_stat_roll: val })\r\n          break;\r\n          case 'set':\r\n              val = this.state.show_stat_set ? false : true;\r\n              this.setState({ show_stat_set: val });\r\n              \r\n          break;\r\n          case 'pizza':\r\n              val = this.state.show_stat_pizza ? false : true;\r\n              this.setState({ show_stat_pizza: val });\r\n          break;\r\n      }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite data={this.state.points} value={this.state.choosePoint} func={ (event, data) => { this.setState({ choosePoint: data }) } } multiple={true} label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ (event) => { this.setState({ promoName: event.target.value }) } } label='Промокод' />\r\n          </Grid>\r\n          <Grid item xs={6} sm={3}> \r\n            <MySelect data={this.state.typesShow} value={this.state.typeShow} func={ (event) => { this.setState({ typeShow: event.target.value }) } } label='Как показать' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={1}> \r\n            <MyCheckBox label='Показать акции' value={this.state.is_show_adv} func={this.changeChekBox.bind(this, 'is_show_adv') }   />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.show.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Контакт-центр</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Сайт</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.all ? this.state.newUsersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.center ? this.state.newUsersTable.center : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.newUsersTable.site ? this.state.newUsersTable.site : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставок</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.all ? this.state.countOrdersTable.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.dev ? this.state.countOrdersTable.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.hall ? this.state.countOrdersTable.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countOrdersTable.pic ? this.state.countOrdersTable.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Всего</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Доставка</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Зал</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Самовывоз</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.all ? this.state.avgSumm.all : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.dev ? this.state.avgSumm.dev : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.hall ? this.state.avgSumm.hall : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.avgSumm.pic ? this.state.avgSumm.pic : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' } }>Позиций итог</h2>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Роллов</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Пиццы</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_rolls ? this.state.countPos.count_rolls : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.countPos.count_pizza ? this.state.countPos.count_pizza : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 1 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Ушедшие клиенты</h2>\r\n              <h5 style={{ textAlign: 'center' }}>ушли - заказывали за 90 дней до указанного периода и больше не заказывали</h5>\r\n              <h5 style={{ textAlign: 'center' }}>вернулись - не заказывали 90 дней до указанного периода, сделали заказ в указанный период</h5>\r\n              <TableContainer component={Paper}>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>Ушли</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>Вернулись</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                  \r\n                    <TableRow>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.lost_users ? this.state.fakeUsers.lost_users : 0}</TableCell>\r\n                      <TableCell style={{ textAlign: 'center' }}>{this.state.fakeUsers.ret_users ? this.state.fakeUsers.ret_users : 0}</TableCell>\r\n                    </TableRow>\r\n\r\n                    \r\n                  </TableBody>\r\n                </Table>\r\n              </TableContainer>\r\n\r\n                 <Grid container spacing={3}>\r\n                   \r\n                    <Grid style={{ marginTop: 20, marginBottom: 200}} item xs={12} sm={4}> \r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг роллов </h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'roll')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_roll != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.roll_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                    <Grid style={{ marginTop: 20, marginBottom: 200 }} item xs={12} sm={4}>\r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг сетов</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'set')} >Показать/Скрыть</h5>\r\n                        {this.state.show_stat_set != true ? null :\r\n                            <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.set_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        }\r\n                    </Grid>\r\n\r\n                     <Grid style={{ marginTop: 20, marginBottom: 200 }} item  xs={12} sm={4}> \r\n                        <h2 style={{ textAlign: 'center' }}>Рейтинг Пиццы</h2>\r\n                        <h5 style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.showStat.bind(this, 'pizza')}>Показать/Скрыть</h5>\r\n                        {this.state.show_stat_pizza != true ? null :\r\n                             <TableContainer style={{ marginTop: 20 }} component={Paper} >\r\n                                <Table>\r\n                                    <TableBody>\r\n\r\n                                        {this.state.pizza_stat.map((item, key) =>\r\n                                            <TableRow key={key}>\r\n                                                <TableCell>{item.name}</TableCell>\r\n                                                <TableCell style={{ textAlign: 'center' }}>{item.count}</TableCell>\r\n                                            </TableRow>\r\n                                        )}\r\n\r\n                                    </TableBody>\r\n                                </Table>\r\n                             </TableContainer>\r\n                         }\r\n                    </Grid>\r\n               </Grid>\r\n             </Grid>\r\n            }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по месяцам</h2>\r\n              <div id=\"chartnewusers\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по месяцам</h2>\r\n              <div id=\"chartorders\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по месяцам</h2>\r\n              <div id=\"chartavgsumm\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 2 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по месяцам</h2>\r\n              <div id=\"chartcountpos\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Новые клиенты по дням</h2>\r\n              <div id=\"chartnewusersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Заказы по дням</h2>\r\n              <div id=\"chartordersD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Средний чек по дням</h2>\r\n              <div id=\"chartavgsummD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n          { this.state.typeShow != 3 ? null :\r\n            <Grid item xs={12}>\r\n              <h2 style={{ textAlign: 'center' }}>Позиций по дням</h2>\r\n              <div id=\"chartcountposD\" style={{ width: \"100%\", height: \"500px\" }} />\r\n            </Grid>\r\n          }\r\n\r\n\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\nimport { MyTextInput, MyDatePickerNew, MySelect, MyAutocomplite, MyCheckBox } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n    var d = new Date(date),\r\n        month = '' + (d.getMonth() + 1),\r\n        day = '' + d.getDate(),\r\n        year = d.getFullYear();\r\n\r\n    if (month.length < 2)\r\n        month = '0' + month;\r\n    if (day.length < 2)\r\n        day = '0' + day;\r\n\r\n    return [year, month, day].join('-');\r\n}\r\n    \r\nexport class AdvertisingCompany extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'advertising_company',\r\n      module_name: '',\r\n      description: '',\r\n      promo: '',\r\n      is_load: false,\r\n      \r\n      adv_actual: [],\r\n      adv_old: [],\r\n      \r\n      modalDialog: false,\r\n      modalDialogNew: false,\r\n      rangeDate: [formatDate(new Date()), formatDate(new Date())],\r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n\r\n      point_id: 0,\r\n      points: [],\r\n      choosePoint: [],\r\n      points_filter: [],\r\n\r\n      is_active: 1,\r\n      id: 0,\r\n\r\n      nameCat: '',\r\n      editText: '',\r\n\r\n      name: '',\r\n      editTextNew: '',\r\n\r\n      showItem: null\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n        module_name     : data.module_info.name,\r\n        adv_actual      : data.adv_actual,\r\n        adv_old         : data.adv_old,\r\n        points          : data.points,\r\n        points_filter   : data.points,\r\n        point_id        : data.points[0].id\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  openCat(item) {\r\n    this.setState({\r\n      modalDialog     : true,\r\n      showItem        : true,\r\n      name            : item.name,\r\n      date_start      : item.date_start,\r\n      date_end        : item.date_end,\r\n      is_active       : item.is_active,\r\n      id              : item.id,\r\n      description     : item.description,\r\n      choosePoint     : item.choosePoint,\r\n      promo           : item.promo,\r\n    })\r\n    \r\n  }\r\n\r\n  // сохранение после редактирования\r\n  async save(){\r\n     let data = {\r\n        id          : this.state.id,\r\n        points      : this.state.choosePoint,\r\n        name        : this.state.name,\r\n        //rangeDate   : this.state.rangeDate,\r\n        date_start  : this.state.date_start,\r\n        date_end    : this.state.date_end,\r\n        is_active   : this.state.is_active,\r\n        id          : this.state.id,\r\n        description : this.state.description,\r\n        promo       : this.state.promo,\r\n     };\r\n\r\n      let res = await this.getData('save_edit', data);\r\n\r\n      if (res.st === false) {\r\n            alert(res.text)\r\n      } else {\r\n            this.setState({ \r\n                 modalDialog: false, \r\n                 // showItem: null, \r\n                 name: '',\r\n                 date_start: formatDate(new Date()),\r\n                 date_end: formatDate(new Date())\r\n            })\r\n\r\n          res = await this.getData('get_adv_point', { point_id: this.state.point_id } );\r\n\r\n           // оновляем список \r\n          this.setState({\r\n              adv_actual : res.adv_actual,\r\n              adv_old    : res.adv_old\r\n          })\r\n\r\n      }   \r\n  }\r\n     \r\n  async saveNew(){\r\n      let data = {\r\n          points        : this.state.choosePoint,\r\n          name          : this.state.name,\r\n          date_start    : this.state.date_start,\r\n          date_end      : this.state.date_end,\r\n          is_active     : this.state.is_active,\r\n          description   : this.state.description,\r\n          promo         : this.state.promo,\r\n      };\r\n\r\n    let res = await this.getData('save_new', data);\r\n\r\n      if (res.st === false) {\r\n          alert(res.text)\r\n      } else {\r\n          this.setState({ \r\n              modalDialogNew: false,\r\n              name: '',\r\n              date_start: formatDate(new Date()),\r\n              date_end: formatDate(new Date())\r\n          })\r\n\r\n          res = await this.getData('get_adv_point', {point_id: this.state.point_id} );\r\n    \r\n          this.setState({\r\n              adv_actual : res.adv_actual,\r\n              adv_old    : res.adv_old,\r\n          })\r\n      }\r\n    }\r\n\r\n  changeChekBox(type, event) {\r\n      this.setState({\r\n          [type]: event.target.checked\r\n      })\r\n  }\r\n\r\n  changeDateRange(data, val) {\r\n    this.setState({\r\n      [data]: formatDate(val)\r\n    })\r\n  }\r\n\r\n  // смена точки\r\n  changePoint(event) {\r\n    this.setState({\r\n        point_id: event.target.value\r\n    })\r\n\r\n    setTimeout(() => {\r\n        this.getAdvList();\r\n    }, 50)\r\n  }\r\n\r\n  // получение спиок рек. компаний по точки\r\n  async getAdvList() {\r\n      let data = {\r\n          point_id: this.state.point_id,\r\n      };\r\n\r\n      let res = await this.getData('get_adv_point', data);\r\n\r\n      this.setState({\r\n          adv_actual: res.adv_actual,\r\n          adv_old   : res.adv_old,\r\n      })\r\n    }\r\n\r\n    // удаление РК\r\n    async delAdv(id) {\r\n        let data = {\r\n            point_id: this.state.point_id,\r\n        };\r\n\r\n        if (confirm('Вы действительно хотите удалить рекламную компанию?')) {\r\n           \r\n\r\n            let del = await this.getData('delete_adv', {id : id} );\r\n            if (!del['st']) {\r\n                alert('При удалении произошла ошибка');\r\n            }\r\n\r\n            let res = await this.getData('get_adv_point', data);\r\n\r\n            this.setState({\r\n                adv_actual: res.adv_actual,\r\n                adv_old: res.adv_old,\r\n            })\r\n\r\n        } \r\n        \r\n    }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        { !this.state.showItem ? null :\r\n          <Dialog\r\n            open={this.state.modalDialog}\r\n                    onClose={() => { this.setState({ modalDialog: false, description: '', name: '', promo: '', choosePoint: [], date_start: formatDate(new Date()), date_end: formatDate(new Date()) }) } }\r\n          >\r\n            <DialogTitle>Компания \"{this.state.name}\"</DialogTitle>\r\n            <DialogContent style={{ paddingTop: 10 }}>\r\n              \r\n              <Grid container spacing={3}>\r\n                \r\n                <Grid item xs={12} sm={12}>\r\n                    <MyTextInput value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) }} label='Название акции' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyAutocomplite data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput value={this.state.promo} func={(event) => { this.setState({ promo: event.target.value }) }} label='Промокод' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                    <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n                 \r\n              </Grid>\r\n\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button color=\"primary\" onClick={this.save.bind(this)}>Сохранить</Button>\r\n            </DialogActions>\r\n          </Dialog>\r\n        }\r\n\r\n        <Dialog\r\n          open={this.state.modalDialogNew}\r\n                onClose={() => { this.setState({ modalDialogNew: false, description: '', name: '', promo: '', choosePoint: [], date_start: formatDate(new Date()), date_end: formatDate(new Date()) }) } }\r\n        >\r\n          <DialogTitle>Новая акция</DialogTitle>\r\n          <DialogContent style={{ paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n               <Grid item xs={12} sm={12}>\r\n                  <MyTextInput value={this.state.name} func={(event) => { this.setState({ name: event.target.value }) } } label='Название компании' />\r\n               </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_start } func={ this.changeDateRange.bind(this, 'date_start') } />\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  <MyDatePickerNew label=\"Дата от\" value={ this.state.date_end } func={ this.changeDateRange.bind(this, 'date_end') } />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyAutocomplite data={this.state.points} value={this.state.choosePoint} func={(event, data) => { this.setState({ choosePoint: data }) }} multiple={true} label='Точка' />\r\n                </Grid>\r\n               \r\n                <Grid item xs={12} sm={12}>\r\n                     <MyTextInput value={this.state.description} func={(event) => { this.setState({ description: event.target.value }) }} label='Описание'  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <MyTextInput value={this.state.promo} func={(event) => { this.setState({ promo: event.target.value }) }} label='Промокод' />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={6}>\r\n                     <MyCheckBox label='Показать акцию' value={this.state.is_active == 1 ? true : false} func={this.changeChekBox.bind(this, 'is_active')} />\r\n                </Grid>\r\n            </Grid>\r\n\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button color=\"primary\" onClick={this.saveNew.bind(this)}>Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12}>\r\n            <Button variant=\"contained\" color=\"primary\" onClick={ () => { this.setState({ modalDialogNew: true }) } }>Добавить акцию</Button>\r\n          </Grid>\r\n\r\n           <Grid item xs={12} sm={6}>\r\n               <MySelect data={this.state.points_filter} value={this.state.point_id} func={this.changePoint.bind(this)} label='Точка' />\r\n            </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Grid item xs={12} sm={12}>\r\n                        <h2 style={{ textAlign: 'center' }}>Актвные</h2>\r\n                    </Grid>\r\n                    \r\n                    <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n                      <Table>\r\n                        <TableHead>\r\n                          <TableRow>\r\n                            <TableCell style={{ textAlign: 'center' }}>#</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Название</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Дата начало</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Дата окончания</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Точки</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}>Промокод</TableCell>\r\n                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                          </TableRow>\r\n                        </TableHead>\r\n\r\n                        <TableBody>\r\n                        {!this.state.adv_actual ? null :\r\n                           this.state.adv_actual.map((item, key) =>\r\n                                <TableRow key={key}  >\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ key + 1 } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.openCat.bind(this, item)} >{ item.name } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ item.date_start } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{ item.date_end } </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{item.choosePoint.map((it, k) => <React.Fragment key={k}> {it.name} </React.Fragment> )}</TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}>{item.promo} </TableCell>\r\n                                    <TableCell style={{ textAlign: 'center' }}> <CloseIcon onClick={this.delAdv.bind(this, item.id)} /> </TableCell>\r\n                               </TableRow>\r\n                         )}\r\n                        </TableBody>\r\n                     </Table>\r\n                    </TableContainer>\r\n                </Grid>\r\n\r\n                <Grid item xs={12} sm={12}>\r\n                    <Grid container>\r\n                        <Grid item xs={12} sm={12}>\r\n                            <h2 style={{ textAlign: 'center' }}>Не Актвные</h2>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={12}>\r\n                            <TableContainer component={Paper} style={{ marginTop: 10 }}>\r\n                                <Table>\r\n                                    <TableHead>\r\n                                        <TableRow>\r\n                                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Название</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Дата начало</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Дата окончания</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Точки</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}>Промокод</TableCell>\r\n                                            <TableCell style={{ textAlign: 'center' }}></TableCell>\r\n                                        </TableRow>\r\n                                    </TableHead>\r\n\r\n                                    <TableBody>\r\n                                        {!this.state.adv_old ? null :\r\n                                            this.state.adv_old.map((item, key) =>\r\n                                                <TableRow key={key}  >\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{key + 1} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center', cursor: 'pointer' }} onClick={this.openCat.bind(this, item)} >{item.name} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.date_start} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.date_end} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.choosePoint.map((it, k) => <React.Fragment key={k}> {it.name} </React.Fragment>)}</TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}>{item.promo} </TableCell>\r\n                                                    <TableCell style={{ textAlign: 'center' }}> <CloseIcon onClick={this.delAdv.bind(this, item.id)} /> </TableCell>\r\n                                                </TableRow>\r\n                                            )}\r\n                                    </TableBody>\r\n                                </Table>\r\n                            </TableContainer>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyDatePickerNew } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class RasBillAndCook extends React.Component {\r\n  click = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'ras_bill_and_cook',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      points: [],\r\n      point: 0,\r\n      \r\n      rev_list: [],\r\n      rev: 0,\r\n      cats: [],\r\n      \r\n      date_end: formatDate(new Date())\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      points: data.points,\r\n      point: data.points[0].id,\r\n      module_name: data.module_info.name,\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n    \r\n    setTimeout( () => {\r\n      this.changePoint({ target: { value: data.points[0].id } });\r\n    }, 300 )\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async updateData(){\r\n    let data = {\r\n      point_id: this.state.point,\r\n      date_start: this.state.rev,\r\n      date_end: this.state.date_end,\r\n    };\r\n    \r\n    let res = await this.getData('show', data);\r\n    \r\n    console.log( res )\r\n    \r\n    this.setState({\r\n      cats: res.cats\r\n    })\r\n  }\r\n  \r\n  async changePoint(event){\r\n    let point = event.target.value;\r\n    \r\n    let data = {\r\n      point_id: point\r\n    };\r\n    \r\n    let res = await this.getData('get_rev_list', data);\r\n\r\n    this.setState({\r\n      point: point,\r\n      rev_list: res,\r\n      rev: res[0].id\r\n    })\r\n  }\r\n\r\n  async changeRev(event){\r\n    let rev = event.target.value;\r\n    \r\n    this.setState({\r\n      rev: rev\r\n    })\r\n  }\r\n\r\n  changeDate(data){\r\n    this.setState({\r\n      date_end: formatDate(data)\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={4}>\r\n            <MySelect data={this.state.points} value={this.state.point} func={ this.changePoint.bind(this) } label='Точка' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <MySelect data={this.state.rev_list} value={this.state.rev} func={ this.changeRev.bind(this) } label='Ревизия' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={4}>\r\n            <MyDatePickerNew label='Дата до' value={this.state.date_end} func={ this.changeDate.bind(this) } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={6}>\r\n            <Button variant=\"contained\" onClick={this.updateData.bind(this)}>Обновить данные</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n            \r\n            { this.state.cats.map( (item, key) =>\r\n              <Accordion key={key}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  { item.cats.map( (cat, key_cat) => \r\n                    <Accordion key={key_cat}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                      >\r\n                        <Typography>{cat.name}</Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails>\r\n                        \r\n                        <Table>\r\n                  \r\n                          <TableHead>\r\n                            <TableRow>\r\n                              <TableCell style={{ width: '5%' }}>#</TableCell>\r\n\r\n                              <TableCell style={{ width: '20%' }}>Товар</TableCell>\r\n                              <TableCell style={{ width: '20%' }}>Ревизия</TableCell>\r\n\r\n                              <TableCell style={{ width: '15%' }}>Кол-во по накладным</TableCell>\r\n                              <TableCell style={{ width: '15%' }}>Кол-во по продажам</TableCell>\r\n\r\n                              <TableCell style={{ width: '15%' }}>Разница</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>Ед. измер</TableCell>\r\n                            </TableRow>\r\n                          </TableHead>\r\n\r\n                          <TableBody>\r\n                            \r\n                            { cat.items.map( (it, k) =>\r\n                              <TableRow key={k}>\r\n                                <TableCell>{k+1}</TableCell>\r\n                                <TableCell>{it.name}</TableCell>\r\n                                <TableCell>{it.count_rev}</TableCell>\r\n                                <TableCell>{it.count_bill}</TableCell>\r\n                                <TableCell>{it.count_ras}</TableCell>\r\n                                <TableCell>{it.count_res}</TableCell>\r\n                                <TableCell>{it.ei_name}</TableCell>\r\n                              </TableRow>\r\n                            ) }\r\n                          \r\n                          </TableBody>\r\n                        \r\n                        </Table>\r\n\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  ) }\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyAutocomplite, MyTextInput } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nexport class SkladItemsModule extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'sklad_items_module',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n      searchItem: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    console.log(data)\r\n\r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      freeItems: data.items_free\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  async changeCity(event){\r\n    let data = {\r\n      city: event.target.value\r\n    }\r\n    \r\n    let res = await this.getData('get_vendors', data);\r\n    \r\n    this.setState({\r\n      vendors: res,\r\n      city: event.target.value\r\n    })\r\n  }\r\n  \r\n  changeSort(data, event){\r\n    this.state.vendor_items.map( (item, key) => {\r\n      if( parseInt(item.item_id) == parseInt(data) ){\r\n        this.state.vendor_items[key]['sort'] = event.target.value;\r\n      }\r\n    })\r\n    \r\n    this.setState({\r\n      vendor_items: this.state.vendor_items\r\n    })\r\n  }\r\n  \r\n  changeItem(data, event){\r\n    let vendor = this.state.itemEdit;\r\n    \r\n    if( data == 'two_user' || data == 'w_item' || data == 'w_trash' || data == 'w_pf' || data == 'is_show' ){\r\n      vendor.item[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor.item[data] = event.target.value;\r\n    }\r\n    \r\n    this.setState({ \r\n      itemEdit: vendor\r\n    })\r\n  }\r\n\r\n  async showEditItem(id){\r\n    let data = {\r\n      item_id: id\r\n    }\r\n    \r\n    let res = await this.getData('get_one', data);\r\n\r\n    this.setState({\r\n      modalItemEdit: true,\r\n      itemEdit: res,\r\n      itemName: res.item.name\r\n    })\r\n  }\r\n\r\n  async saveEditItem(main_item_id = 0){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      item: this.state.itemEdit,\r\n      storages: this.state.itemEdit.this_storages,\r\n      main_item_id: parseInt(main_item_id) == 0 ? this.state.itemEdit.item.id : parseInt(main_item_id)\r\n    }\r\n    \r\n    let res = await this.getData('saveEditItem', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemEdit: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  async saveNewItem(main_item_id = 0){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      item: this.state.itemEdit,\r\n      storages: this.state.itemEdit.this_storages,\r\n      main_item_id: parseInt(main_item_id) == 0 ? this.state.itemEdit.item.id : parseInt(main_item_id)\r\n    }\r\n    \r\n    let res = await this.getData('saveNewItem', data);\r\n    \r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemNew: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  async checkArt(){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      art: this.state.itemEdit.item.art,\r\n    }\r\n    \r\n    let res = await this.getData('checkArt', data);\r\n\r\n    if( res.st === false ){\r\n      this.setState({ \r\n        checkArtDialog: true, \r\n        checkArtList: res.data\r\n      })\r\n    }else{\r\n      this.saveEditItem(0);\r\n    }\r\n  }\r\n\r\n  async checkArtNew(){\r\n    let data = {\r\n      id: this.state.itemEdit.item.id,\r\n      art: this.state.itemEdit.item.art,\r\n    }\r\n    \r\n    let res = await this.getData('checkArt', data);\r\n\r\n    if( res.st === false ){\r\n\r\n      res.data.push({ id: -1, name: this.state.itemEdit.item.name })\r\n\r\n      this.setState({ \r\n        checkArtDialog: true, \r\n        checkArtList: res.data\r\n      })\r\n    }else{\r\n      this.saveNewItem(0);\r\n    }\r\n  }\r\n\r\n  chooseArt(item_id){\r\n    if( this.state.modalItemNew === true ){\r\n      this.saveNewItem(item_id);\r\n    }else{\r\n      this.saveEditItem(item_id);\r\n    }\r\n  }\r\n\r\n  async openModalItemNew(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      modalItemNew: true,\r\n      itemEdit: res,\r\n    })\r\n  }\r\n\r\n  async saveItem(item_id, type, value){\r\n    let data = {\r\n      item_id: item_id,\r\n      type: type,\r\n      value: value\r\n    };\r\n\r\n    let res = await this.getData('saveItem', data, false);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.setState({ \r\n        modalItemNew: false,\r\n        modalItemEdit: false, \r\n        itemEdit: null,\r\n        checkArtDialog: false,\r\n        checkArtList: []\r\n      })\r\n\r\n      res = await this.getData('get_all');\r\n    \r\n      this.setState({\r\n        cats: res.cats,\r\n        freeItems: res.items_free\r\n      })\r\n    }\r\n  }\r\n\r\n  changeTableItem(item_id, type, event){\r\n    \r\n    if( parseInt(type) == 1 ){\r\n      let data = event.target.checked;\r\n\r\n      let items = this.state.cats;\r\n\r\n      items.map( (item, key) => {\r\n        item.cats.map( (cat, key_cat) => {\r\n          cat.items.map( (it, k) => {\r\n            if( parseInt( it.id ) == parseInt( item_id ) ){\r\n              items[ key ]['cats'][ key_cat ]['items'][ k ]['show_in_rev'] = data == true ? 1 : 0;\r\n            }\r\n          } )\r\n        } )\r\n      } )\r\n\r\n      this.setState({\r\n        cats: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'show_in_rev', data == true ? 1 : 0);\r\n    }\r\n\r\n    if( parseInt(type) == 3 ){\r\n      let data = event.target.value;\r\n\r\n      let items = this.state.cats;\r\n\r\n      items.map( (item, key) => {\r\n        item.cats.map( (cat, key_cat) => {\r\n          cat.items.map( (it, k) => {\r\n            if( parseInt( it.id ) == parseInt( item_id ) ){\r\n              items[ key ]['cats'][ key_cat ]['items'][ k ]['handle_price'] = data;\r\n            }\r\n          } )\r\n        } )\r\n      } )\r\n\r\n      this.setState({\r\n        cats: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'handle_price', data);\r\n    }\r\n\r\n\r\n\r\n    if( parseInt(type) == 2 ){\r\n      let data = event.target.value;\r\n      \r\n      let items = this.state.freeItems;\r\n\r\n      items.map( (item, key) => {\r\n        if( parseInt( item.id ) == parseInt( item_id ) ){\r\n          items[ key ]['show_in_rev'] = data == true ? 1 : 0;\r\n        }\r\n      } )\r\n\r\n      this.setState({\r\n        freeItems: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'show_in_rev', data == true ? 1 : 0);\r\n    }\r\n\r\n    if( parseInt(type) == 4 ){\r\n      let data = event.target.value;\r\n      \r\n      let items = this.state.freeItems;\r\n\r\n      items.map( (item, key) => {\r\n        if( parseInt( item.id ) == parseInt( item_id ) ){\r\n          items[ key ]['handle_price'] = data;\r\n        }\r\n      } )\r\n\r\n      this.setState({\r\n        freeItems: items\r\n      })\r\n\r\n      this.saveItem(item_id, 'handle_price', data);\r\n    }\r\n    \r\n  }\r\n\r\n  async search(){\r\n    let data = {\r\n      item: this.state.searchItem\r\n    };\r\n\r\n    let res = await this.getData('get_all_search', data);\r\n\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      cats: res.cats,\r\n      freeItems: res.items_free\r\n    })\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog onClose={ () => { this.setState({ checkArtDialog: false, checkArtList: [] }) } } open={this.state.checkArtDialog}>\r\n          <DialogTitle>Такой код 1с уже задан у следующих позиций:</DialogTitle>\r\n          <List sx={{ pt: 0 }}>\r\n            {this.state.checkArtList.map((item, key) => (\r\n              <ListItem button onClick={this.chooseArt.bind(this, item.id)} key={key}>\r\n                <ListItemText primary={item.name} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </Dialog>\r\n\r\n        <Dialog\r\n          open={this.state.modalItemEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItemEdit: false, itemEdit: null, checkArtDialog: false }) } }\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle>Редактирвоание товара {this.state.itemName}</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.itemEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара\" value={ this.state.itemEdit.item.name } func={ this.changeItem.bind(this, 'name') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.pf_list} value={this.state.itemEdit.item.pf_id} func={ this.changeItem.bind(this, 'pf_id') } label='Заготовка' />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара для поставщика\" value={ this.state.itemEdit.item.name_for_vendor } func={ this.changeItem.bind(this, 'name_for_vendor') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Код для 1с\" value={ this.state.itemEdit.item.art } func={ this.changeItem.bind(this, 'art') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Максимальное количество заказов в месяц (0 - без ограничений)\" value={ this.state.itemEdit.item.max_count_in_m } func={ this.changeItem.bind(this, 'max_count_in_m') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.cats} value={this.state.itemEdit.item.cat_id} func={ this.changeItem.bind(this, 'cat_id') } label='Категория' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Количество в упаковке\" value={ this.state.itemEdit.item.pq } func={ this.changeItem.bind(this, 'pq') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.ed_izmer} value={this.state.itemEdit.item.ed_izmer_id} func={ this.changeItem.bind(this, 'ed_izmer_id') } label='Ед измер' />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.apps} value={this.state.itemEdit.item.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность на кухне' />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время приготовления ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_min } func={ this.changeItem.bind(this, 'time_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Дополнительное время ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_dop_min } func={ this.changeItem.bind(this, 'time_dop_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время разгрузки ММ:SS.iiii (00:20.004)\" value={ this.state.itemEdit.item.time_min_other } func={ this.changeItem.bind(this, 'time_min_other') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% потерь\" value={ this.state.itemEdit.item.los_percent } func={ this.changeItem.bind(this, 'los_percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% заявки\" value={ this.state.itemEdit.item.percent } func={ this.changeItem.bind(this, 'percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% повышения ценника\" value={ this.state.itemEdit.item.vend_percent } func={ this.changeItem.bind(this, 'vend_percent') } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес заготовки\" value={ parseInt(this.state.itemEdit.item.w_pf) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_pf') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес отхода\" value={ parseInt(this.state.itemEdit.item.w_trash) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_trash') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес товара\" value={ parseInt(this.state.itemEdit.item.w_item) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_item') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Два сотрудника\" value={ parseInt(this.state.itemEdit.item.two_user) == 1 ? true : false } func={ this.changeItem.bind(this, 'two_user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    <MyAutocomplite label='Места хранения' multiple={true} data={this.state.itemEdit.storages} value={this.state.itemEdit.this_storages} func={ (event, value) => { let this_storages = this.state.itemEdit; this_storages.this_storages = value; this.setState({ itemEdit: this_storages }) } } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.itemEdit.item.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.checkArt.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalItemNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalItemNew: false, itemEdit: null, checkArtDialog: false }) } }\r\n        >\r\n          <DialogTitle>Новый товар</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.itemEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n                    <Grid container spacing={3}>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара\" value={ this.state.itemEdit.item.name } func={ this.changeItem.bind(this, 'name') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.pf_list} value={this.state.itemEdit.item.pf_id} func={ this.changeItem.bind(this, 'pf_id') } label='Заготовка' />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Название товара для поставщика\" value={ this.state.itemEdit.item.name_for_vendor } func={ this.changeItem.bind(this, 'name_for_vendor') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Код для 1с\" value={ this.state.itemEdit.item.art } func={ this.changeItem.bind(this, 'art') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MyTextInput label=\"Максимальное количество заказов в месяц (0 - без ограничений)\" value={ this.state.itemEdit.item.max_count_in_m } func={ this.changeItem.bind(this, 'max_count_in_m') } />\r\n                      </Grid>\r\n                      <Grid item xs={12} sm={6}>\r\n                        <MySelect data={this.state.itemEdit.cats} value={this.state.itemEdit.item.cat_id} func={ this.changeItem.bind(this, 'cat_id') } label='Категория' />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Количество в упаковке\" value={ this.state.itemEdit.item.pq } func={ this.changeItem.bind(this, 'pq') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.ed_izmer} value={this.state.itemEdit.item.ed_izmer_id} func={ this.changeItem.bind(this, 'ed_izmer_id') } label='Ед измер' />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MySelect data={this.state.itemEdit.apps} value={this.state.itemEdit.item.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность на кухне' />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время приготовления ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_min } func={ this.changeItem.bind(this, 'time_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Дополнительное время ММ:SS (15:20)\" value={ this.state.itemEdit.item.time_dop_min } func={ this.changeItem.bind(this, 'time_dop_min') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"Время разгрузки ММ:SS.iiii (00:20.004)\" value={ this.state.itemEdit.item.time_min_other } func={ this.changeItem.bind(this, 'time_min_other') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% потерь\" value={ this.state.itemEdit.item.los_percent } func={ this.changeItem.bind(this, 'los_percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% заявки\" value={ this.state.itemEdit.item.percent } func={ this.changeItem.bind(this, 'percent') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={4}>\r\n                    <MyTextInput label=\"% повышения ценника\" value={ this.state.itemEdit.item.vend_percent } func={ this.changeItem.bind(this, 'vend_percent') } />\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес заготовки\" value={ parseInt(this.state.itemEdit.item.w_pf) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_pf') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес отхода\" value={ parseInt(this.state.itemEdit.item.w_trash) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_trash') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Вес товара\" value={ parseInt(this.state.itemEdit.item.w_item) == 1 ? true : false } func={ this.changeItem.bind(this, 'w_item') } />\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={3}>\r\n                    <MyCheckBox label=\"Два сотрудника\" value={ parseInt(this.state.itemEdit.item.two_user) == 1 ? true : false } func={ this.changeItem.bind(this, 'two_user') } />\r\n                  </Grid>\r\n                  \r\n                  <Grid item xs={12}>\r\n                    <MyAutocomplite label='Места хранения' multiple={true} data={this.state.itemEdit.storages} value={this.state.itemEdit.this_storages} func={ (event, value) => { let this_storages = this.state.itemEdit; this_storages.this_storages = value; this.setState({ itemEdit: this_storages }) } } />\r\n                  </Grid>\r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.checkArtNew.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openModalItemNew.bind(this)} variant=\"contained\">Добавить товар</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput label=\"Поиск\" value={ this.state.searchItem } func={ ( event ) => { this.setState({ searchItem: event.target.value }) } } onBlur={ this.search.bind(this) } />\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.map( (item, key) =>\r\n              <Accordion key={key}>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>{item.name}</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  { item.cats.map( (cat, key_cat) => \r\n                    <Accordion key={key_cat}>\r\n                      <AccordionSummary\r\n                        expandIcon={<ExpandMoreIcon />}\r\n                      >\r\n                        <Typography>{cat.name}</Typography>\r\n                      </AccordionSummary>\r\n                      <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                        \r\n                        <Table>\r\n                  \r\n                          <TableHead>\r\n                            <TableRow>\r\n                              <TableCell style={{ width: '2%' }}>#</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '2%' }}></TableCell>\r\n                              <TableCell style={{ width: '3%' }}>Ревизия</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '15%' }}>Товар</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>% потерь</TableCell>\r\n                              <TableCell style={{ width: '10%' }}>% заявки</TableCell>\r\n                              <TableCell style={{ width: '15%' }}>Заготовка</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '5%' }}>Ед. измер</TableCell>\r\n                  \r\n                              <TableCell style={{ width: '9%' }}>Место хранения</TableCell>\r\n                              <TableCell style={{ width: '9%', minWidth: 150 }}>Моя цена</TableCell>\r\n                            </TableRow>\r\n                          </TableHead>\r\n                  \r\n                          <TableBody>\r\n                            \r\n                            { cat.items.map( (it, k) =>\r\n                              <TableRow key={k}>\r\n                                <TableCell>{k+1}</TableCell>\r\n                                <TableCell> \r\n                                  { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                                </TableCell>\r\n                                <TableCell>\r\n                                  <MyCheckBox label=\"\" value={ parseInt(it.show_in_rev) == 1 ? true : false } func={ this.changeTableItem.bind(this, it.id, 1) } />\r\n                                </TableCell>\r\n                                <TableCell style={{ cursor: 'pointer' }} onClick={this.showEditItem.bind(this, it.id)}>{it.name}</TableCell>\r\n                                <TableCell>{it.los_percent} %</TableCell>\r\n                                <TableCell>{it.percent} %</TableCell>\r\n                                <TableCell>{it.pf_name}</TableCell>\r\n                  \r\n                                <TableCell>{it.ei_name}</TableCell>\r\n                                <TableCell>{it.storage_name}</TableCell>\r\n                                <TableCell>\r\n                                  <MyTextInput label=\"\" value={it.handle_price} func={ this.changeTableItem.bind(this, it.id, 3) } />\r\n                                </TableCell>\r\n                              </TableRow>           \r\n                            ) }\r\n                          \r\n                          </TableBody>\r\n                        \r\n                        </Table>\r\n\r\n                      </AccordionDetails>\r\n                    </Accordion>\r\n                  ) }\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n            \r\n            { this.state.freeItems.length == 0 ? null :\r\n\r\n              <Accordion>\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                >\r\n                  <Typography>Без категории</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                  \r\n                  <Table>\r\n                  \r\n                    <TableHead>\r\n                      <TableRow>\r\n                        <TableCell style={{ width: '2%' }}>#</TableCell>\r\n            \r\n                        <TableCell style={{ width: '2%' }}></TableCell>\r\n                        <TableCell style={{ width: '3%' }}>Ревизия</TableCell>\r\n            \r\n                        <TableCell style={{ width: '15%' }}>Товар</TableCell>\r\n                        <TableCell style={{ width: '10%' }}>% потерь</TableCell>\r\n                        <TableCell style={{ width: '10%' }}>% заявки</TableCell>\r\n                        <TableCell style={{ width: '15%' }}>Заготовка</TableCell>\r\n            \r\n                        <TableCell style={{ width: '5%' }}>Ед. измер</TableCell>\r\n            \r\n                        <TableCell style={{ width: '9%' }}>Место хранения</TableCell>\r\n                        <TableCell style={{ width: '9%', minWidth: 150 }}>Моя цена</TableCell>\r\n                      </TableRow>\r\n                    </TableHead>\r\n            \r\n                    <TableBody>\r\n                      \r\n                      { this.state.freeItems.map( (it, k) =>\r\n                        <TableRow key={k}>\r\n                          <TableCell>{k+1}</TableCell>\r\n                          <TableCell> \r\n                            { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                          </TableCell>\r\n                          <TableCell>\r\n                            <MyCheckBox label=\"\" value={ parseInt(it.show_in_rev) == 1 ? true : false } func={ this.changeTableItem.bind(this, it.id, 2) } />\r\n                          </TableCell>\r\n                          <TableCell style={{ cursor: 'pointer' }} onClick={this.showEditItem.bind(this, it.id)}>{it.name}</TableCell>\r\n                          <TableCell>{it.los_percent} %</TableCell>\r\n                          <TableCell>{it.percent} %</TableCell>\r\n                          <TableCell>{it.pf_name}</TableCell>\r\n            \r\n                          <TableCell>{it.ei_name}</TableCell>\r\n                          <TableCell>{it.storage_name}</TableCell>\r\n                          <TableCell>\r\n                            <MyTextInput label=\"\" value={it.handle_price} func={ this.changeTableItem.bind(this, it.id, 4) } />\r\n                          </TableCell>\r\n                        </TableRow>           \r\n                      ) }\r\n                    \r\n                    </TableBody>\r\n                  \r\n                  </Table>\r\n\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            }\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableContainer from '@mui/material/TableContainer';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\nimport Paper from '@mui/material/Paper';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogContentText from '@mui/material/DialogContentText';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput, MyDatePickerNew } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class SiteUserManager extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/users/upload.php\",\r\n  };\r\n  myDropzone = null;\r\n  isInit = false;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_user_manager',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      cats: [],\r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      editUser: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      point_list: data.points,\r\n      app_list: data.apps,\r\n    })\r\n    \r\n    setTimeout( () => {\r\n      this.changeSort('point_id', {target: {value: data.points[0]['id']}})\r\n    }, 500 )\r\n\r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }\r\n   \r\n  changeSort(type, event){\r\n    this.setState({\r\n      [type]: event.target.value\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.getUsers();\r\n    }, 300 )\r\n  }\r\n\r\n  async getUsers(){\r\n    let data = {\r\n      point_id: this.state.point_id,\r\n      app_id: this.state.app_id\r\n    };\r\n\r\n    let res = await this.getData('getUsers', data);\r\n\r\n    this.setState({\r\n      users: res\r\n    })\r\n  }\r\n\r\n  async openEditUser(user_id){\r\n    let data = {\r\n      user_id: user_id\r\n    };\r\n\r\n    let res = await this.getData('getUser', data);\r\n\r\n    this.setState({\r\n      editUser: res,\r\n      modalUserEdit: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_edit\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNewUser(){\r\n    let res = await this.getData('getAllForNew');\r\n\r\n    this.setState({\r\n      editUser: res,\r\n      modalUserNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.sortPoint();\r\n\r\n      this.myDropzone = new Dropzone(\"#for_img_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editUser;\r\n    \r\n    if( data == 'birthday' ){\r\n      vendor.user[data] = formatDate(event);\r\n    }else{\r\n      if( data == 'acc_to_kas' ){\r\n        vendor.user[data] = event.target.checked === true ? 1 : 0;\r\n      }else{\r\n        vendor.user[data] = event.target.value;\r\n      }\r\n    }\r\n    \r\n    this.setState({ \r\n      editUser: vendor\r\n    })\r\n\r\n    if( data == 'city_id' ){\r\n      setTimeout( () => {\r\n        this.sortPoint();\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n  sortPoint(){\r\n    let city_id = this.state.editUser.user.city_id;\r\n    let points = this.state.editUser.point_list;\r\n    let points_render = [];\r\n\r\n    if( parseInt(city_id) == -1 ){\r\n      points_render = points;\r\n    }else{\r\n      points_render = points.filter( ( item ) => parseInt(item.city_id) == parseInt(city_id) || parseInt(item.city_id) == -1 );\r\n    }\r\n\r\n    this.setState({\r\n      point_list_render: points_render\r\n    })\r\n  }\r\n\r\n  async saveEditUser(){\r\n\r\n    let is_graph = false;\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editUser.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph === true ){\r\n      this.setState({\r\n        graphModal: true\r\n      })\r\n\r\n      return ;\r\n    }\r\n\r\n    if( parseInt(this.state.editUser.user.app_id) == 0 && this.state.textDel.length == 0 ){\r\n\r\n      this.setState({\r\n        delModal: true\r\n      })\r\n\r\n      return;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editUser.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editUser,\r\n      textDel: this.state.textDel,\r\n      graphType: this.state.graphType\r\n    };\r\n\r\n    let res = await this.getData('saveEditUser', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        this.myDropzone.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewUser(){\r\n    let is_graph = false;\r\n    let is_graph_ = false;\r\n\r\n    this.state.app_list.map( (item, key) => {\r\n      if( parseInt(this.state.editUser.user.app_id) == parseInt(item.id) ){\r\n\r\n        if( parseInt(item.is_graph) == 1 ){\r\n          is_graph_ = true;\r\n        }\r\n\r\n        if( parseInt(item.is_graph) == 1 && parseInt(this.state.graphType) == 0 ){\r\n          is_graph = true;\r\n        }\r\n      }\r\n    } )\r\n\r\n    if( is_graph_ === true && this.myDropzone['files'].length == 0 ){\r\n      alert('Необходимо фотография сотрудника');\r\n      return ;\r\n    }\r\n\r\n    if( this.myDropzone['files'].length > 0 && this.isInit === false ){\r\n      this.isInit = true;\r\n\r\n      this.myDropzone.on(\"sending\", (file, xhr, data) => {\r\n        let user_id = this.state.editUser.user.id;\r\n\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"filetype\", 'user_'+user_id+'.'+file_type);\r\n        data.append(\"filename\", 'user_'+user_id);\r\n        \r\n        this.getOrientation(file, function(orientation) {\r\n          data.append(\"orientation\", orientation);\r\n        })\r\n      });\r\n\r\n      this.myDropzone.on(\"queuecomplete\", (data) => {\r\n\r\n        var check_img = false;\r\n\r\n        this.myDropzone['files'].map(function(item, key){\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии')\r\n          return;\r\n        }\r\n        \r\n        this.setState({ \r\n          modalUserNew: false, \r\n          editUser: null\r\n        })\r\n  \r\n        this.isInit = false;\r\n        this.getUsers();\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      user: this.state.editUser,\r\n      graphType: is_graph === true ? 1 : 0\r\n    };\r\n\r\n    let res = await this.getData('saveNewUser', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n\r\n      if( res.sms === false ){\r\n        alert('Ошибка в отправке смс');\r\n      }\r\n\r\n      if( this.myDropzone['files'].length == 0 ){\r\n        this.isInit = false;\r\n\r\n        this.setState({ \r\n          modalUserEdit: false, \r\n          editUser: null\r\n        })\r\n\r\n        this.getUsers();\r\n      }else{\r\n        let user = this.state.editUser;\r\n        user.user.id = res.user_id;\r\n\r\n        this.setState({\r\n          editUser: user\r\n        })\r\n\r\n        setTimeout( () => {\r\n          this.myDropzone.processQueue();\r\n        }, 300 )\r\n      }\r\n    }\r\n\r\n\r\n  }\r\n\r\n  getOrientation(file, callback) {\r\n    var reader = new FileReader();\r\n    \r\n    reader.onload = function(event) {\r\n        var view = new DataView(event.target.result);\r\n    \r\n        if (view.getUint16(0, false) != 0xFFD8) return callback(-2);\r\n    \r\n        var length = view.byteLength,\r\n          offset = 2;\r\n    \r\n        while (offset < length) {\r\n        var marker = view.getUint16(offset, false);\r\n        offset += 2;\r\n    \r\n        if (marker == 0xFFE1) {\r\n          if (view.getUint32(offset += 2, false) != 0x45786966) {\r\n            return callback(-1);\r\n          }\r\n            var little = view.getUint16(offset += 6, false) == 0x4949;\r\n            offset += view.getUint32(offset + 4, little);\r\n            var tags = view.getUint16(offset, little);\r\n            offset += 2;\r\n      \r\n            for (var i = 0; i < tags; i++)\r\n            if (view.getUint16(offset + (i * 12), little) == 0x0112)\r\n                return callback(view.getUint16(offset + (i * 12) + 8, little));\r\n        }else if ((marker & 0xFF00) != 0xFF00) break;\r\n        else offset += view.getUint16(offset, false);\r\n      }\r\n        \r\n        return callback(-1);\r\n    };\r\n    \r\n    reader.readAsArrayBuffer(file.slice(0, 64 * 1024));\r\n  };\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop style={{ zIndex: 99 }} open={this.state.is_load}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Dialog open={this.state.delModal} onClose={() => { this.setState({ delModal: false, textDel: '' }) }}>\r\n          <DialogTitle>Причина увольнения</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              Увольнение происходит не сразу, а в полночь\r\n            </DialogContentText>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n              <Grid item xs={12}>\r\n                <MyTextInput label=\"Причина увольнения\" value={ this.state.textDel } func={ (event) => { this.setState({ textDel: event.target.value }) } } />\r\n              </Grid>\r\n            </Grid>\r\n          </DialogContent>\r\n          <DialogActions style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n            <Button variant=\"contained\" onClick={this.saveEditUser.bind(this)}>Уволить</Button>\r\n            <Button onClick={ () => { this.setState({ delModal: false, textDel: '' }) } }>Отмена</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n\r\n        <Dialog open={this.state.graphModal} onClose={() => { this.setState({ graphModal: false, graphType: 0 }) }}>\r\n          <DialogTitle>С какого периода применить изменения ?</DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={3} style={{ paddingBottom: 10, paddingTop: 20 }}>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 1 }); this.saveEditUser() } } style={{ width: '100%' }}>С текущего периода</Button>\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: 2 }); this.saveEditUser() } } style={{ width: '100%' }}>Со следующего периода</Button>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <Button variant=\"contained\" onClick={ () => { this.setState({ graphType: -1 }); this.saveEditUser() } } style={{ width: '100%' }}>Без изменений</Button>\r\n              </Grid>\r\n\r\n            </Grid>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n       <Dialog\r\n          open={this.state.modalUserEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserEdit: false, editUser: null }) } }\r\n        >\r\n          <DialogTitle>Редактирвоание сотрудника</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              \r\n              {this.state.editUser && this.state.modalUserEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Фамилия\" value={ this.state.editUser.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Имя\" value={ this.state.editUser.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Отчество\" value={ this.state.editUser.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Номер телефона\" value={ this.state.editUser.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editUser.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editUser.user['img_name']+'?'+this.state.editUser.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={6}>\r\n                            <div className=\"dropzone\" id=\"for_img_edit\" style={{ width: '100%', minHeight: 150 }} />\r\n                          </Grid>\r\n                        </Grid>\r\n                        \r\n                      </Grid>\r\n                      \r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editUser.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyTextInput label=\"ИНН\" value={ this.state.editUser.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editUser.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <Grid container spacing={3}>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect data={this.state.editUser.appointment} value={this.state.editUser.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect data={this.state.editUser.cities} value={this.state.editUser.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                          </Grid>\r\n                          <Grid item xs={12} sm={4}>\r\n                            <MySelect data={this.state.point_list_render} value={this.state.editUser.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TableContainer component={Paper}>\r\n                          <Table size={'small'}>\r\n                            <TableHead>\r\n                              <TableRow>\r\n                                <TableCell style={{ minWidth: 125 }}>Дата</TableCell>\r\n                                <TableCell>Кто обновлял</TableCell>\r\n                                <TableCell>Имя</TableCell>\r\n                                <TableCell>Телефон</TableCell>\r\n                                <TableCell>Код авторизации</TableCell>\r\n                                <TableCell>ИНН</TableCell>\r\n                                <TableCell>Должность</TableCell>\r\n                                <TableCell>Город</TableCell>\r\n                                <TableCell>Точка</TableCell>\r\n                              </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                              { this.state.editUser.user.history.map( (item, key) => \r\n                                <TableRow key={key}>\r\n                                  <TableCell style={{ minWidth: 125 }}>{item.date_time_update}</TableCell>\r\n                                  <TableCell>{item.update_name}</TableCell>\r\n                                  <TableCell>{item.name}</TableCell>\r\n                                  <TableCell>{item.login}</TableCell>\r\n                                  <TableCell>{item.auth_code}</TableCell>\r\n                                  <TableCell>{item.inn}</TableCell>\r\n                                  <TableCell>{item.app_name}</TableCell>\r\n                                  <TableCell>{item.city_name}</TableCell>\r\n                                  <TableCell>{item.point_name}</TableCell>\r\n                                </TableRow>\r\n                              ) }\r\n                            </TableBody>\r\n                          </Table>\r\n                        </TableContainer>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveEditUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalUserNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ () => { this.setState({ modalUserNew: false, editUser: null }) } }\r\n        >\r\n          <DialogTitle>Новый сотрудник</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editUser && this.state.modalUserNew ?\r\n                  <>\r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Фамилия\" value={ this.state.editUser.user.fam } func={ this.changeItem.bind(this, 'fam') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Имя\" value={ this.state.editUser.user.name } func={ this.changeItem.bind(this, 'name') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Отчество\" value={ this.state.editUser.user.otc } func={ this.changeItem.bind(this, 'otc') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Номер телефона\" value={ this.state.editUser.user.login } func={ this.changeItem.bind(this, 'login') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyDatePickerNew label=\"Дата рождения\" value={ this.state.editUser.user.birthday } func={ this.changeItem.bind(this, 'birthday') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <img src={'https://storage.yandexcloud.net/user-img/max-img/'+this.state.editUser.user['img_name']+'?'+this.state.editUser.user['img_update']} style={{maxWidth: 300, maxHeight: 300}} />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={6}>\r\n                              <div className=\"dropzone\" id=\"for_img_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                            </Grid>\r\n                          </Grid>\r\n                          \r\n                        </Grid>\r\n                        \r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"Код авторизации (4 цифры)\" value={ this.state.editUser.user.auth_code } func={ this.changeItem.bind(this, 'auth_code') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyTextInput label=\"ИНН\" value={ this.state.editUser.user.inn } func={ this.changeItem.bind(this, 'inn') } />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MyCheckBox label=\"Работает официально\" value={ parseInt(this.state.editUser.user.acc_to_kas) == 1 ? true : false } func={ this.changeItem.bind(this, 'acc_to_kas') } />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                          <Grid container spacing={3}>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect data={this.state.editUser.appointment} value={this.state.editUser.user.app_id} func={ this.changeItem.bind(this, 'app_id') } label='Должность' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect data={this.state.editUser.cities} value={this.state.editUser.user.city_id} func={ this.changeItem.bind(this, 'city_id') } label='Город' />\r\n                            </Grid>\r\n                            <Grid item xs={12} sm={4}>\r\n                              <MySelect data={this.state.point_list_render} value={this.state.editUser.user.point_id} func={ this.changeItem.bind(this, 'point_id') } label='Точка' />\r\n                            </Grid>\r\n                          </Grid>\r\n                        </Grid>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n                    \r\n                  </>\r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewUser.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.point_list} value={this.state.point_id} func={ this.changeSort.bind(this, 'point_id') } label='Точка' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6}>\r\n            <MySelect data={this.state.app_list} value={this.state.app_id} func={ this.changeSort.bind(this, 'app_id') } label='Должность' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <Button onClick={this.openNewUser.bind(this)} variant=\"contained\">Добавить сотрудника</Button>\r\n          </Grid>\r\n        \r\n          <Grid item xs={12}>\r\n          \r\n            <TableContainer component={Paper}>\r\n              <Table>\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell>#</TableCell>\r\n                    <TableCell>Фото</TableCell>\r\n                    <TableCell>Телефон</TableCell>\r\n                    <TableCell>Имя</TableCell>\r\n                    <TableCell>Должность</TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  { this.state.users.map( (item, key) => \r\n                    <TableRow key={key} onClick={this.openEditUser.bind(this, item.id)}>\r\n                      <TableCell>{key+1}</TableCell>\r\n                      <TableCell>\r\n                        { item['img_name'] === null ? null :\r\n                          <img src={'https://storage.yandexcloud.net/user-img/min-img/'+item['img_name']+'?'+item['img_update']} style={{maxWidth: 100, maxHeight: 100}} /> \r\n                        }\r\n                      </TableCell>\r\n                      <TableCell>{item.login}</TableCell>\r\n                      <TableCell>{item.name}</TableCell>\r\n                      <TableCell>{item.app_name}</TableCell>\r\n                    </TableRow>\r\n                  ) }\r\n                </TableBody>\r\n              </Table>\r\n            </TableContainer>\r\n\r\n          </Grid>\r\n          \r\n          \r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MyDatePickerNew, MyTextInput, MyAutocomplite } from '../../stores/elements';\r\n\r\nconst queryString = require('query-string');\r\n\r\nfunction formatDate(date) {\r\n  var d = new Date(date),\r\n      month = '' + (d.getMonth() + 1),\r\n      day = '' + d.getDate(),\r\n      year = d.getFullYear();\r\n\r\n  if (month.length < 2) \r\n      month = '0' + month;\r\n  if (day.length < 2) \r\n      day = '0' + day;\r\n\r\n  return [year, month, day].join('-');\r\n}\r\n\r\nexport class PromoItemsStat extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'promo_items_stat',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      date_start: formatDate(new Date()),\r\n      date_end: formatDate(new Date()),\r\n      point_list: [],\r\n      choosePoint: [],\r\n\r\n      stats: [],\r\n\r\n      chooseItem: null,\r\n      items_list: [],\r\n      promoName: ''\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      point_list: data.points,\r\n      stats: data.stats,\r\n      items_list: data.items\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    \r\n    this.setState({\r\n      is_load: true\r\n    })\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      console.log( err )\r\n      this.setState({\r\n        is_load: false\r\n      })\r\n    });\r\n  }\r\n   \r\n  async getStat() {\r\n    let data = {\r\n      choosePoint   : this.state.choosePoint,\r\n      date_start    : this.state.date_start,\r\n      date_end      : this.state.date_end,\r\n      promoName     : this.state.promoName,\r\n      chooseItem    : this.state.chooseItem,\r\n    };\r\n    \r\n    let res = await this.getData('get_all', data);\r\n\r\n    console.log( data )\r\n    console.log( res )\r\n\r\n    this.setState({\r\n      stats: res.stats\r\n    })\r\n  }\r\n\r\n  choosePoint(event, data){\r\n    this.setState({\r\n      choosePoint: data\r\n    })\r\n  }\r\n\r\n  chooseData(data, val, val2){\r\n    this.setState({\r\n      [data]: data != 'promoName' && data != 'chooseItem' ? formatDate(val) : data == 'chooseItem' ? val2 : val\r\n    })\r\n  }\r\n\r\n  chooseDataNew(data, val, val2){\r\n    if( data == 'promoName' ){\r\n      this.setState({\r\n        [data]: val.target.value,\r\n        chooseItem: val.target.value.length > 0 ? null : this.state.chooseItem\r\n      })\r\n    }\r\n\r\n    if( data == 'chooseItem' ){\r\n      this.setState({\r\n        [data]: val2,\r\n        promoName: val2 ? '' : this.state.promoName\r\n      })\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 99 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={2}>\r\n            <MyAutocomplite data={this.state.point_list} value={this.state.choosePoint} func={ this.choosePoint.bind(this) } multiple={true} label='Точка' />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={2}>\r\n            <MyDatePickerNew label={'Дата от'} value={this.state.date_start} func={ this.chooseData.bind(this, 'date_start') } />\r\n          </Grid>\r\n          <Grid item xs={12} sm={2}>\r\n            <MyDatePickerNew label={'Дата до'} value={this.state.date_end} func={ this.chooseData.bind(this, 'date_end') } />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={3}>\r\n            <MyTextInput value={this.state.promoName} func={ this.chooseDataNew.bind(this, 'promoName') } label='Промокод' />\r\n          </Grid>\r\n          <Grid item xs={12} sm={3}>\r\n            <MyAutocomplite data={this.state.items_list} value={this.state.chooseItem} func={ this.chooseDataNew.bind(this, 'chooseItem') } multiple={false} label='Товар' />\r\n          </Grid>\r\n          \r\n          \r\n          \r\n          <Grid item xs={12} sm={3}>\r\n            <Button variant=\"contained\" onClick={this.getStat.bind(this)}>Обновить</Button>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={6}>\r\n            \r\n            <Table size={'small'}>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>Название</TableCell>\r\n                  <TableCell>Кол-во</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n\r\n              <TableBody>\r\n                {!this.state.stats ? null :\r\n                  this.state.stats.map((item, key) =>\r\n                    <TableRow key={key}>\r\n                      <TableCell style={{ textAlign: 'left' }}>{item.name} </TableCell>\r\n                      <TableCell style={{ textAlign: 'left' }}>{item.count} </TableCell>\r\n                    </TableRow>\r\n                  )\r\n                }\r\n              </TableBody>\r\n            \r\n            </Table>\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\n\r\nimport Grid from '@mui/material/Grid';\r\nimport Button from '@mui/material/Button';\r\n\r\nimport Table from '@mui/material/Table';\r\nimport TableBody from '@mui/material/TableBody';\r\nimport TableCell from '@mui/material/TableCell';\r\nimport TableHead from '@mui/material/TableHead';\r\nimport TableRow from '@mui/material/TableRow';\r\n\r\nimport VisibilityIcon from '@mui/icons-material/Visibility';\r\nimport VisibilityOffIcon from '@mui/icons-material/VisibilityOff';\r\n\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\nimport DehazeIcon from '@mui/icons-material/Dehaze';\r\n\r\nimport Menu from '@mui/material/Menu';\r\nimport MenuItem from '@mui/material/MenuItem';\r\n\r\nimport Box from '@mui/material/Box';\r\nimport Tab from '@mui/material/Tab';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\n\r\nimport Dialog from '@mui/material/Dialog';\r\nimport DialogActions from '@mui/material/DialogActions';\r\nimport DialogContent from '@mui/material/DialogContent';\r\nimport DialogTitle from '@mui/material/DialogTitle';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport Typography from '@mui/material/Typography';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport Backdrop from '@mui/material/Backdrop';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n\r\nimport { MySelect, MyCheckBox, MyTextInput } from '../../stores/elements';\r\n\r\nimport Dropzone from \"dropzone\";\r\n\r\nimport Snackbar from '@mui/material/Snackbar';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nconst queryString = require('query-string');\r\n\r\nclass TableStages extends React.Component{\r\n  render (){\r\n    return (\r\n      <Table size='small' style={{ marginBottom: 50 }}>\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n          </TableRow>\r\n          <TableRow>\r\n            <TableCell>Название</TableCell>\r\n            <TableCell>Количество</TableCell>\r\n            <TableCell></TableCell>\r\n            <TableCell>Сортировка</TableCell>\r\n            <TableCell></TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          { this.props.data.map( (item, key) =>\r\n            <TableRow key={key}>\r\n              <TableCell>{item.name}</TableCell>\r\n              <TableCell>\r\n                <MyTextInput label=\"\" value={item.count} func={ this.props.changeData.bind(this, this.props.type, this.props.arr, 'count', key) } />\r\n              </TableCell>\r\n              <TableCell>{item.ei_name}</TableCell>\r\n              <TableCell style={{ maxWidth: 100 }}>\r\n                <MyTextInput label=\"\" value={item.sort} func={ this.props.changeData.bind(this, this.props.type, this.props.arr, 'sort', key) } />\r\n              </TableCell>\r\n              <TableCell>\r\n                <CloseIcon onClick={this.props.delItem.bind(this, this.props.type, this.props.arr, key) } style={{ cursor: 'pointer' }} />\r\n              </TableCell>\r\n            </TableRow>\r\n          ) }\r\n        </TableBody>\r\n      </Table>\r\n    )\r\n  }\r\n}\r\n\r\nexport class SiteItems extends React.Component {\r\n  dropzoneOptions = {\r\n    autoProcessQueue: false,\r\n    autoQueue: true,\r\n    maxFiles: 1,\r\n    timeout: 0,\r\n    parallelUploads: 10,\r\n    acceptedFiles: \"image/jpeg,image/png\",\r\n    addRemoveLinks: true,\r\n    url: \"https://jacochef.ru/src/img/site_img/upload_img_new.php\",\r\n  };\r\n  myDropzoneOld = null;\r\n  myDropzoneNew = null;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'site_items',\r\n      module_name: '',\r\n      is_load: false,\r\n      \r\n      \r\n      allItems: [],\r\n      vendor_items: [],\r\n\r\n      modalItemEdit: false,\r\n      modalItemNew: false,\r\n\r\n      itemEdit: null,\r\n      itemName: '',\r\n\r\n      checkArtDialog: false,\r\n      checkArtList: [],\r\n\r\n      freeItems: [],\r\n\r\n\r\n\r\n\r\n      point_list: [],\r\n      point_list_render: [],\r\n      point_id: 0,\r\n\r\n      app_list: [],\r\n      app_id: -1,\r\n\r\n      users: [],\r\n      //editItem: null,\r\n      modalUserEdit: false,\r\n      modalUserNew: false,\r\n\r\n      textDel: '',\r\n      delModal: false,\r\n\r\n      graphModal: false,\r\n      graphType: 0,\r\n\r\n\r\n\r\n\r\n\r\n      editItem: null,\r\n      item_rec: null,\r\n      item_pf: null,\r\n      item_items_all: [],\r\n      modalEdit: false,\r\n      modalNew: false,\r\n      types: [\r\n        { id: 1, name: 'Позиция (ролл)' },\r\n        { id: 2, name: 'Набор (сет)' },\r\n        { id: 3, name: 'Доп (палочки / соевый / ...)' },\r\n        { id: 4, name: 'Напиток' },\r\n      ],\r\n      cats: [],\r\n      cat_list: [],\r\n\r\n      ItemTab: '1',\r\n      anchorEl: null,\r\n      openMenu: false,\r\n      openMenuType: null,\r\n      openMenuitem: null,\r\n\r\n      rec_stage_1: [],\r\n      rec_stage_2: [],\r\n      rec_stage_3: [],\r\n\r\n      pf_stage_1: [],\r\n      pf_stage_2: [],\r\n      pf_stage_3: [],\r\n\r\n      item_items: [],\r\n\r\n      myDropzoneOld: null,\r\n      myDropzoneNew: null,\r\n\r\n      is_snack: false,\r\n      textSnack: '',\r\n\r\n      searchPf: '',\r\n      item_pf_render: [],\r\n\r\n      searchItems: '',\r\n      item_items_render: [],\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      module_name: data.module_info.name,\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n    \r\n    document.title = data.module_info.name;\r\n  }\r\n  \r\n  async getItems(){\r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      cats: data.cats,\r\n      cat_list: data.cat_list\r\n    })\r\n  }\r\n\r\n  getData = (method, data = {}, is_load = true) => {\r\n    \r\n    if( is_load == true ){\r\n      this.setState({\r\n        is_load: true\r\n      })\r\n    }\r\n    \r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n      setTimeout( () => {\r\n        this.setState({\r\n          is_load: false\r\n        })\r\n      }, 300 )\r\n      console.log( err )\r\n    });\r\n  }  \r\n\r\n  async openItem(item){\r\n    let data = {\r\n      id: item.id,\r\n    };\r\n\r\n    let res = await this.getData('get_one', data);\r\n\r\n    var items_pf_stages_1 = [],\r\n\t\t\titems_pf_stages_2 = [],\r\n\t\t\titems_pf_stages_3 = [],\r\n\t\t\t\r\n\t\t\titems_rec_stages_1 = [],\r\n\t\t\titems_rec_stages_2 = [],\r\n\t\t\titems_rec_stages_3 = [],\r\n\r\n      items_items = [];\r\n\r\n    if(res.item_rec.stage_1){\r\n      res.item_rec.stage_1.map(function(item){\r\n        items_rec_stages_1.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n    if(res.item_rec.stage_2){\r\n      res.item_rec.stage_2.map(function(item){\r\n        items_rec_stages_2.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n    if(res.item_rec.stage_3){\r\n      res.item_rec.stage_3.map(function(item){\r\n        items_rec_stages_3.push({item_id: item['rec_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n      })\r\n    }\r\n\r\n\r\n    if(res.item_pf.stage_1){\r\n\t\t\tres.item_pf.stage_1.map(function(item){\r\n\t\t\t\titems_pf_stages_1.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(res.item_pf.stage_2){\r\n\t\t\tres.item_pf.stage_2.map(function(item){\r\n\t\t\t\titems_pf_stages_2.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\t\tif(res.item_pf.stage_3){\r\n\t\t\tres.item_pf.stage_3.map(function(item){\r\n\t\t\t\titems_pf_stages_3.push({item_id: item['pf_id'], name: item['name'], count: item['count'], sort: item['sort'], ei_name: item['ei_name']});\r\n\t\t\t})\r\n\t\t}\r\n\r\n    \r\n\t\t\r\n\t\tif(res.item_items.this_items){\r\n\t\t\tres.item_items.this_items.map(function(item){\r\n\t\t\t\titems_items.push({item_id: item['item_id'], name: item['name'], count: item['count'], is_add: parseInt(item['is_add']) });\r\n\t\t\t})\r\n\t\t}\r\n\t\t\r\n\r\n\t\tthis.setState({\r\n      editItem: res.item,\r\n      item_rec: res.item_rec,\r\n      item_pf: res.item_pf,\r\n      item_pf_render: res.item_pf.all,\r\n      item_items_all: res.item_items.all_items,\r\n      item_items_render: res.item_items.all_items,\r\n\r\n      rec_stage_1: items_rec_stages_1,\r\n      rec_stage_2: items_rec_stages_2,\r\n      rec_stage_3: items_rec_stages_3,\r\n\r\n      pf_stage_1: items_pf_stages_1,\r\n      pf_stage_2: items_pf_stages_2,\r\n      pf_stage_3: items_pf_stages_3,\r\n\r\n      item_items: items_items,\r\n\r\n      modalEdit: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n      this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  async openNew(){\r\n    let res = await this.getData('get_all_for_new');\r\n\r\n    var items_pf_stages_1 = [],\r\n\t\t\titems_pf_stages_2 = [],\r\n\t\t\titems_pf_stages_3 = [],\r\n\t\t\t\r\n\t\t\titems_rec_stages_1 = [],\r\n\t\t\titems_rec_stages_2 = [],\r\n\t\t\titems_rec_stages_3 = [],\r\n\r\n      items_items = [];\r\n\r\n    this.setState({\r\n      editItem: res.item,\r\n      item_rec: res.item_rec,\r\n      item_pf: res.item_pf,\r\n      item_pf_render: res.item_pf.all,\r\n      item_items_all: res.item_items.all_items,\r\n      item_items_render: res.item_items.all_items,\r\n\r\n      rec_stage_1: items_rec_stages_1,\r\n      rec_stage_2: items_rec_stages_2,\r\n      rec_stage_3: items_rec_stages_3,\r\n\r\n      pf_stage_1: items_pf_stages_1,\r\n      pf_stage_2: items_pf_stages_2,\r\n      pf_stage_3: items_pf_stages_3,\r\n\r\n      item_items: items_items,\r\n\r\n      modalNew: true\r\n    })\r\n\r\n    setTimeout( () => {\r\n      this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n      this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n    }, 300 )\r\n  }\r\n\r\n  changeItem(data, event){\r\n    let vendor = this.state.editItem;\r\n    \r\n    if( data == 'category_id' ){\r\n      let val = event.target.value;\r\n      let type = 1;\r\n      let stol = vendor.stol;\r\n\r\n      //сеты\r\n      if( parseInt(val) == 4 ){\r\n        type = 2;\r\n        stol = -1;\r\n      }\r\n\r\n      //напитки\r\n      if( parseInt(val) == 6 ){\r\n        type = 4;\r\n        stol = 0;\r\n      }\r\n\r\n      //соуса\r\n      if( parseInt(val) == 7 ){\r\n        type = 3;\r\n        stol = 0;\r\n      }\r\n\r\n      vendor['type'] = type;\r\n      vendor['stol'] = stol;\r\n    }\r\n    \r\n    if( data == 'is_show' || data == 'show_site' || data == 'show_program' || data == 'is_new' || data == 'is_hit' ){\r\n      vendor[data] = event.target.checked === true ? 1 : 0;\r\n    }else{\r\n      vendor[data] = event.target.value;\r\n    }\r\n    \r\n    \r\n    this.setState({ \r\n      editItem: vendor\r\n    })\r\n  }\r\n\r\n  closeMenu(){\r\n    this.setState({\r\n      anchorEl: null,\r\n      openMenu: false,\r\n      openMenuType: null,\r\n      openMenuitem: null\r\n    })\r\n  }\r\n\r\n  openMenu(type, item, event){\r\n    this.setState({\r\n      anchorEl: event.currentTarget,\r\n      openMenu: true,\r\n      openMenuType: type,\r\n      openMenuitem: item\r\n    })\r\n  }\r\n\r\n  chooseStage(stage){\r\n    if( this.state.openMenuType == 'rec' ){\r\n      let check = false;\r\n\r\n      let rec = stage == 1 ? this.state.rec_stage_1 : stage == 2 ? this.state.rec_stage_2 : stage == 3 ? this.state.rec_stage_3 : [];\r\n\r\n      rec = rec ? rec : [];\t\r\n      \r\n      rec.map((this_item) => {\r\n        if(parseInt(this.state.openMenuitem.id) == parseInt(this_item.item_id) ){\r\n          check = true;\r\n        }\r\n      })\r\n\r\n      if( !check ){\r\n\r\n        rec.push({item_id: this.state.openMenuitem.id, name: this.state.openMenuitem.name, count: 0, sort: 0, ei_name: this.state.openMenuitem.ei_name});\r\n\r\n        if( stage == 1 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_1: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 2 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_2: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 3 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\trec_stage_3: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n      }\r\n    }\r\n\r\n    if( this.state.openMenuType == 'pf' ){\r\n      let check = false;\r\n\r\n      let rec = stage == 1 ? this.state.pf_stage_1 : stage == 2 ? this.state.pf_stage_2 : stage == 3 ? this.state.pf_stage_3 : [];\r\n\r\n      rec = rec ? rec : [];\t\r\n      \r\n      rec.map((this_item) => {\r\n        if(parseInt(this.state.openMenuitem.id) == parseInt(this_item.item_id) ){\r\n          check = true;\r\n        }\r\n      })\r\n\r\n      if( !check ){\r\n\r\n        rec.push({item_id: this.state.openMenuitem.id, name: this.state.openMenuitem.name, count: 0, sort: 0, ei_name: this.state.openMenuitem.ei_name});\r\n\r\n        if( stage == 1 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_1: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 2 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_2: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif( stage == 3 ){\r\n\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\tpf_stage_3: rec\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n      }\r\n    }\r\n\r\n    this.closeMenu();\r\n  }\r\n\r\n  forwardItem(item){\r\n    let check = false;\r\n\r\n    let rec = this.state.item_items;\r\n\r\n    rec = rec ? rec : [];\t\r\n    \r\n    rec.map((this_item) => {\r\n      if(parseInt(item.id) == parseInt(this_item.item_id) ){\r\n        check = true;\r\n      }\r\n    })\r\n\r\n    if( !check ){\r\n\r\n      rec.push({item_id: item.id, name: item.name, count: 1, is_add: 0});\r\n\r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  changeData(type, arr, data, key, event){\r\n    if( type == 'rec' ){\r\n      let rec = arr == 'rec_stage_1' ? this.state.rec_stage_1 : arr == 'rec_stage_2' ? this.state.rec_stage_2 : arr == 'rec_stage_3' ? this.state.rec_stage_3 : [];\r\n\r\n      rec[ key ][ data ] = event.target.value;\r\n\r\n      if( arr == 'rec_stage_1' ){\r\n        this.setState({\r\n          rec_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_2' ){\r\n        this.setState({\r\n          rec_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_3' ){\r\n        this.setState({\r\n          rec_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'pf' ){\r\n      let rec = arr == 'pf_stage_1' ? this.state.pf_stage_1 : arr == 'pf_stage_2' ? this.state.pf_stage_2 : arr == 'pf_stage_3' ? this.state.pf_stage_3 : [];\r\n\r\n      rec[ key ][ data ] = event.target.value;\r\n\r\n      if( arr == 'pf_stage_1' ){\r\n        this.setState({\r\n          pf_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_2' ){\r\n        this.setState({\r\n          pf_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_3' ){\r\n        this.setState({\r\n          pf_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'item' ){\r\n      let rec = this.state.item_items;\r\n\r\n      if( data == 'is_add' ){\r\n        rec[ key ][ data ] = event.target.checked === true ? 1 : 0;\r\n      }else{\r\n        rec[ key ][ data ] = event.target.value;\r\n      }\r\n      \r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  delItem(type, arr, key){\r\n    if( type == 'rec' ){\r\n      let rec = arr == 'rec_stage_1' ? this.state.rec_stage_1 : arr == 'rec_stage_2' ? this.state.rec_stage_2 : arr == 'rec_stage_3' ? this.state.rec_stage_3 : [];\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      if( arr == 'rec_stage_1' ){\r\n        this.setState({\r\n          rec_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_2' ){\r\n        this.setState({\r\n          rec_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'rec_stage_3' ){\r\n        this.setState({\r\n          rec_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'pf' ){\r\n      let rec = arr == 'pf_stage_1' ? this.state.pf_stage_1 : arr == 'pf_stage_2' ? this.state.pf_stage_2 : arr == 'pf_stage_3' ? this.state.pf_stage_3 : [];\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      if( arr == 'pf_stage_1' ){\r\n        this.setState({\r\n          pf_stage_1: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_2' ){\r\n        this.setState({\r\n          pf_stage_2: rec\r\n        });\r\n      }\r\n      \r\n      if( arr == 'pf_stage_3' ){\r\n        this.setState({\r\n          pf_stage_3: rec\r\n        });\r\n      }\r\n    }\r\n\r\n    if( type == 'item' ){\r\n      let rec = this.state.item_items;\r\n\r\n      rec.splice(key, 1);\r\n\r\n      rec = rec ? rec : [];\r\n\r\n      this.setState({\r\n        item_items: rec\r\n      });\r\n    }\r\n  }\r\n\r\n  saveImg(dropzone, name, id, type){\r\n    dropzone.on(\"sending\", (file, xhr, data) => {\r\n      let file_type = (file.name).split('.');\r\n      file_type = file_type[file_type.length - 1];\r\n      file_type = file_type.toLowerCase();\r\n      \r\n      data.append(\"filetype\", 'user_'+id+'.'+file_type);\r\n      data.append(\"filename\", 'user_'+id);\r\n      data.append(\"typeFile\", type);\r\n      data.append(\"name\", name);\r\n    });\r\n\r\n    dropzone.on(\"queuecomplete\", (data) => {\r\n\r\n      var check_img = false;\r\n\r\n      dropzone['files'].map(function(item, key){\r\n        if( item['status'] == \"error\" ){\r\n          check_img = true;\r\n        }\r\n      })\r\n      \r\n      if( check_img ){\r\n        alert('Ошибка при загрузке фотографии '+type)\r\n      }\r\n    })\r\n  }\r\n\r\n  async saveEditItem(){\r\n    if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        type = 'old';\r\n\r\n      this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n      });\r\n  \r\n      this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n  \r\n        var check_img = false;\r\n  \r\n        var myDropzoneNew = this.myDropzoneNew;\r\n\r\n        this.myDropzoneOld['files'].map((item, key) => {\r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success' ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    if( this.myDropzoneNew['files'].length > 0 ){\r\n      let name = this.state.editItem.name,\r\n        id = this.state.editItem.id,\r\n        type = 'new';\r\n\r\n      this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n        let file_type = (file.name).split('.');\r\n        file_type = file_type[file_type.length - 1];\r\n        file_type = file_type.toLowerCase();\r\n        \r\n        data.append(\"typeFile\", type);\r\n        data.append(\"name\", name);\r\n        data.append(\"id\", id);\r\n      });\r\n  \r\n      this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n        var check_img = false;\r\n  \r\n        var myDropzoneOld = this.myDropzoneOld;\r\n\r\n        this.myDropzoneNew['files'].map((item, key) => {  \r\n          if( item['status'] == \"error\" ){\r\n            check_img = true;\r\n          }\r\n\r\n          if( item['status'] == \"success\" ){\r\n            if( myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success' ){\r\n              this.setState({ \r\n                modalEdit: false, \r\n                editItem: null, \r\n                ItemTab: '1'\r\n              })\r\n\r\n              this.getItems();\r\n            }\r\n          }\r\n        })\r\n        \r\n        if( check_img ){\r\n          alert('Ошибка при загрузке фотографии '+type)\r\n        }\r\n      })\r\n    }\r\n\r\n    let data = {\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveEditItem', data);\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  async saveNewItem(){\r\n    let data = {\r\n      item: this.state.editItem,\r\n      rec_stage_1: this.state.rec_stage_1,\r\n      rec_stage_2: this.state.rec_stage_2,\r\n      rec_stage_3: this.state.rec_stage_3,\r\n\r\n      pf_stage_1: this.state.pf_stage_1,\r\n      pf_stage_2: this.state.pf_stage_2,\r\n      pf_stage_3: this.state.pf_stage_3,\r\n\r\n      item_items: this.state.item_items,\r\n    };\r\n\r\n    let res = await this.getData('saveNewItem', data);\r\n\r\n    console.log( res )\r\n\r\n    if( res.st === false ){\r\n      alert(res.text);\r\n    }else{\r\n      this.openSnack('Данные обновлены');\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n      \r\n        let name = this.state.editItem.name,\r\n          id = res.id,\r\n          type = 'old';\r\n  \r\n        this.myDropzoneOld.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n        });\r\n    \r\n        this.myDropzoneOld.on(\"queuecomplete\", (data) => {\r\n    \r\n          var check_img = false;\r\n    \r\n          var myDropzoneNew = this.myDropzoneNew;\r\n  \r\n          this.myDropzoneOld['files'].map((item, key) => {\r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( myDropzoneNew['files'][0] && myDropzoneNew['files'][0][\"status\"] == 'success' ){\r\n                this.setState({ \r\n                  modalNew: false, \r\n                  editItem: null, \r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n  \r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        let name = this.state.editItem.name,\r\n          id = res.id,\r\n          type = 'new';\r\n  \r\n        this.myDropzoneNew.on(\"sending\", (file, xhr, data) => {\r\n          let file_type = (file.name).split('.');\r\n          file_type = file_type[file_type.length - 1];\r\n          file_type = file_type.toLowerCase();\r\n          \r\n          data.append(\"typeFile\", type);\r\n          data.append(\"name\", name);\r\n          data.append(\"id\", id);\r\n        });\r\n    \r\n        this.myDropzoneNew.on(\"queuecomplete\", (data) => {\r\n          var check_img = false;\r\n    \r\n          var myDropzoneOld = this.myDropzoneOld;\r\n  \r\n          this.myDropzoneNew['files'].map((item, key) => {  \r\n            if( item['status'] == \"error\" ){\r\n              check_img = true;\r\n            }\r\n  \r\n            if( item['status'] == \"success\" ){\r\n              if( myDropzoneOld['files'][0] && myDropzoneOld['files'][0][\"status\"] == 'success' ){\r\n                this.setState({ \r\n                  modalNew: false, \r\n                  editItem: null, \r\n                  ItemTab: '1'\r\n                })\r\n  \r\n                this.getItems();\r\n              }\r\n            }\r\n          })\r\n          \r\n          if( check_img ){\r\n            alert('Ошибка при загрузке фотографии '+type)\r\n          }\r\n        })\r\n      }\r\n\r\n      if( this.myDropzoneOld['files'].length > 0 ){\r\n        this.myDropzoneOld.processQueue();\r\n      }\r\n\r\n      if( this.myDropzoneNew['files'].length > 0 ){\r\n        this.myDropzoneNew.processQueue();\r\n      }\r\n    }\r\n  }\r\n\r\n  changeTab(event, value){\r\n\r\n    this.setState({\r\n      myDropzoneOld: this.myDropzoneOld['files'],\r\n      myDropzoneNew: this.myDropzoneNew['files'],\r\n    })\r\n\r\n    this.setState({ \r\n      ItemTab: value \r\n    })\r\n\r\n    if( parseInt(value) == 1 ){\r\n      setTimeout( () => {\r\n        this.myDropzoneOld = new Dropzone(\"#for_img_edit_old\", this.dropzoneOptions);\r\n        this.myDropzoneNew = new Dropzone(\"#for_img_edit_new\", this.dropzoneOptions);\r\n\r\n        if( this.state.myDropzoneOld[0] ){\r\n          var mockFileOld = { \r\n            name: this.state.myDropzoneOld[0].name,\r\n            size: this.state.myDropzoneOld[0].size, \r\n            type: this.state.myDropzoneOld[0].type, \r\n            status: this.state.myDropzoneOld[0].status,\r\n            url: this.state.myDropzoneOld[0].dataURL,\r\n            dataURL: this.state.myDropzoneOld[0].dataURL\r\n          };\r\n\r\n          this.myDropzoneOld.emit(\"addedfile\", mockFileOld);\r\n          this.myDropzoneOld.emit(\"thumbnail\", mockFileOld, this.state.myDropzoneOld[0].dataURL);\r\n          this.myDropzoneOld.files.push(this.state.myDropzoneOld[0]);\r\n        }\r\n\r\n        if( this.state.myDropzoneNew[0] ){\r\n          var mockFileNew = { \r\n            name: this.state.myDropzoneNew[0].name,\r\n            size: this.state.myDropzoneNew[0].size, \r\n            type: this.state.myDropzoneNew[0].type, \r\n            status: this.state.myDropzoneNew[0].status,\r\n            url: this.state.myDropzoneNew[0].dataURL,\r\n            dataURL: this.state.myDropzoneNew[0].dataURL\r\n          };\r\n\r\n          this.myDropzoneNew.emit(\"addedfile\", mockFileNew);\r\n          this.myDropzoneNew.emit(\"thumbnail\", mockFileNew, this.state.myDropzoneNew[0].dataURL);\r\n          this.myDropzoneNew.files.push(this.state.myDropzoneNew[0]);\r\n        }\r\n      }, 300 )\r\n    }\r\n  }\r\n\r\n  closeSnack(){\r\n    this.setState({\r\n      is_snack: false,\r\n      textSnack: ''\r\n    })\r\n  }\r\n\r\n  openSnack(text){\r\n    this.setState({\r\n      is_snack: true,\r\n      textSnack: text\r\n    })\r\n  }\r\n\r\n  searchPf(event){\r\n    let all_data = this.state.item_pf.all;\r\n    let name = event.target.value;\r\n\r\n    this.setState({\r\n      searchPf: name\r\n    })\r\n\r\n    let data_to_render = [];\r\n\r\n    all_data.map( (item) => {\r\n      if( item.name.toLowerCase().indexOf(name.toLowerCase()) !== -1 ){\r\n        data_to_render.push(item)\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      item_pf_render: data_to_render\r\n    })\r\n  }\r\n\r\n  searchItems(event){\r\n    let all_data = this.state.item_items_all;\r\n    let name = event.target.value;\r\n\r\n    this.setState({\r\n      searchItems: name\r\n    })\r\n\r\n    let data_to_render = [];\r\n\r\n    all_data.map( (item) => {\r\n      if( item.name.toLowerCase().indexOf(name.toLowerCase()) !== -1 ){\r\n        data_to_render.push(item)\r\n      }\r\n    })\r\n\r\n    this.setState({\r\n      item_items_render: data_to_render\r\n    })\r\n  }\r\n\r\n  closeEdit(){\r\n    this.setState({ \r\n      modalEdit: false, \r\n      editItem: null, \r\n      ItemTab: '1' \r\n    })\r\n\r\n    this.getItems();\r\n  }\r\n\r\n  closeNew(){\r\n    this.setState({ \r\n      modalNew: false, \r\n      editItem: null, \r\n      ItemTab: '1' \r\n    })\r\n\r\n    this.getItems();\r\n  }\r\n\r\n  changeSort(key_cat, key_item, event){\r\n    let value = event.target.value;\r\n    let data = this.state.cats;\r\n    \r\n    data[ key_cat ]['items'][ key_item ]['sort'] = value;\r\n\r\n    this.setState({\r\n      cats: data\r\n    })\r\n  }\r\n\r\n  async saveSort(item_id, event){\r\n    let data = {\r\n      id: item_id,\r\n      sort: event.target.value\r\n    };\r\n\r\n    let res = await this.getData('saveSort', data);\r\n  }\r\n\r\n  render(){\r\n    const action = (\r\n      <React.Fragment>\r\n        <IconButton\r\n          size=\"small\"\r\n          aria-label=\"close\"\r\n          color=\"inherit\"\r\n          onClick={this.closeSnack.bind(this)}\r\n        >\r\n          <CloseIcon fontSize=\"small\" />\r\n        </IconButton>\r\n      </React.Fragment>\r\n    );\r\n  \r\n\r\n    return (\r\n      <>\r\n        <Backdrop open={this.state.is_load} style={{ zIndex: 999 }}>\r\n          <CircularProgress color=\"inherit\" />\r\n        </Backdrop>\r\n\r\n        <Snackbar\r\n          anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\r\n          open={this.state.is_snack}\r\n          autoHideDuration={6000}\r\n          onClose={this.closeSnack.bind(this)}\r\n          message={this.state.textSnack}\r\n          action={action}\r\n        />\r\n        \r\n        <Dialog\r\n          open={this.state.modalEdit}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ this.closeEdit.bind(this) }\r\n        >\r\n          <DialogTitle>Редактирвоание товара</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n              {this.state.editItem && this.state.modalEdit ?\r\n                <>\r\n                  <Grid item xs={12}>\r\n\r\n                    <Grid container spacing={3}>\r\n\r\n                      <Grid item xs={12}>\r\n                        <TabContext value={this.state.ItemTab}>\r\n                          <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                            <TabList onChange={ this.changeTab.bind(this) } variant=\"fullWidth\">\r\n                              <Tab label=\"Основные\" value=\"1\" />\r\n                              <Tab label=\"Рецепты\" value=\"2\" />\r\n                              <Tab label=\"Заготовки\" value=\"3\" />\r\n                              <Tab label=\"Позиции\" value=\"4\" />\r\n                            </TabList>\r\n                          </Box>\r\n                          <TabPanel value=\"1\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MySelect data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                  </Grid>\r\n                                  { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                    </Grid>\r\n                                      :\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                    </Grid>\r\n                                  }\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              \r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={3}>\r\n                                      <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              { parseInt( this.state.editItem.type ) != 2 ?\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n                                  :\r\n                                null\r\n                              }\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    { this.state.editItem.img_new.length > 0 ?\r\n                                      <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                        :\r\n                                      <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                    }\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <Typography>Картинка соотношением сторон (1:1) (пример: 600х600) только JPG</Typography>\r\n                                  </Grid>\r\n                                \r\n\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    { this.state.editItem.img_new.length > 0 ?\r\n                                      <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х600.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                        :\r\n                                      <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                    }\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                  </Grid>\r\n                                  <Grid item xs={12}>\r\n                                    <MyTextInput label=\"Маркейтинговое описание\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={6}>\r\n                                    <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                              <Grid item xs={12}>\r\n                                <Grid container spacing={3}>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                  </Grid>\r\n                                </Grid>\r\n                              </Grid>\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"2\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                      { this.state.item_rec.all.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <DehazeIcon onClick={this.openMenu.bind(this, 'rec', item)} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <TableStages title={'1 этап'} type={'rec'} arr={'rec_stage_1'} data={this.state.rec_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'2 этап'} type={'rec'} arr={'rec_stage_2'} data={this.state.rec_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'3 этап'} type={'rec'} arr={'rec_stage_3'} data={this.state.rec_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                </Grid>\r\n                              }\r\n                              \r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"3\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_pf ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={2}>\r\n                                          <MyTextInput label=\"Поиск\" value={ this.state.searchPf } func={ this.searchPf.bind(this) } />\r\n                                        </TableCell>\r\n                                      </TableRow>\r\n\r\n                                      { this.state.item_pf_render.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <DehazeIcon onClick={this.openMenu.bind(this, 'pf', item)} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <TableStages title={'1 этап'} type={'pf'} arr={'pf_stage_1'} data={this.state.pf_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'2 этап'} type={'pf'} arr={'pf_stage_2'} data={this.state.pf_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  <TableStages title={'3 этап'} type={'pf'} arr={'pf_stage_3'} data={this.state.pf_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                </Grid>\r\n                              }\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                          <TabPanel value=\"4\">\r\n\r\n                            <Grid container spacing={3}>\r\n\r\n                              { !this.state.item_pf ? null :\r\n                                <Grid item xs={12} sm={4}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={2}>\r\n                                          <MyTextInput label=\"Поиск\" value={ this.state.searchItems } func={ this.searchItems.bind(this) } />\r\n                                        </TableCell>\r\n                                      </TableRow>\r\n\r\n                                      { this.state.item_items_render.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <AddIcon onClick={this.forwardItem.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                              { !this.state.item_rec ? null :\r\n                                <Grid item xs={12} sm={8}>\r\n                                  <Table size='small'>\r\n                                    <TableHead>\r\n                                      <TableRow>\r\n                                        <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n                                      </TableRow>\r\n                                      <TableRow>\r\n                                        <TableCell>Название</TableCell>\r\n                                        <TableCell>Количество</TableCell>\r\n                                        <TableCell>Авт. добавление</TableCell>\r\n                                        <TableCell></TableCell>\r\n                                      </TableRow>\r\n                                    </TableHead>\r\n                                    <TableBody>\r\n                                      { this.state.item_items.map( (item, key) =>\r\n                                        <TableRow key={key}>\r\n                                          <TableCell>{item.name}</TableCell>\r\n                                          <TableCell>\r\n                                            <MyTextInput label=\"\" value={item.count} func={ this.changeData.bind(this, 'item', 'item_items', 'count', key) } />\r\n                                          </TableCell>\r\n                                          <TableCell>\r\n                                            <MyCheckBox label=\"\" value={ parseInt(item.is_add) == 1 ? true : false } func={ this.changeData.bind(this, 'item', 'item_items', 'is_add', key) } />\r\n                                          </TableCell>\r\n                                          <TableCell>\r\n                                            <CloseIcon onClick={ this.delItem.bind(this, 'item', '', key) } style={{ cursor: 'pointer' }} />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n                                      ) }\r\n                                    </TableBody>\r\n                                  </Table>\r\n                                </Grid>\r\n                              }\r\n\r\n                            </Grid>\r\n\r\n                          </TabPanel>\r\n                        </TabContext>\r\n                      </Grid>\r\n\r\n                    </Grid>\r\n\r\n                    <Menu\r\n                      anchorEl={this.state.anchorEl}\r\n                      open={this.state.openMenu}\r\n                      onClose={this.closeMenu.bind(this)}\r\n                    >\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 1)}>1 этап</MenuItem>\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 2)}>2 этап</MenuItem>\r\n                      <MenuItem onClick={this.chooseStage.bind(this, 3)}>3 этап</MenuItem>\r\n                    </Menu>\r\n\r\n                  </Grid>\r\n                  \r\n                </>\r\n                  :\r\n                null\r\n              }\r\n            </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveEditItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        <Dialog\r\n          open={this.state.modalNew}\r\n          fullWidth={true}\r\n          maxWidth={'md'}\r\n          onClose={ this.closeNew.bind(this) }\r\n        >\r\n          <DialogTitle>Новый товар</DialogTitle>\r\n          <DialogContent style={{ paddingBottom: 10, paddingTop: 10 }}>\r\n            \r\n            <Grid container spacing={3}>\r\n                \r\n                {this.state.editItem && this.state.modalNew ?\r\n                  \r\n                    <Grid item xs={12}>\r\n\r\n                      <Grid container spacing={3}>\r\n\r\n                        <Grid item xs={12}>\r\n                          <TabContext value={this.state.ItemTab}>\r\n                            <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\r\n                              <TabList onChange={ this.changeTab.bind(this) } variant=\"fullWidth\">\r\n                                <Tab label=\"Основные\" value=\"1\" />\r\n                                <Tab label=\"Рецепты\" value=\"2\" />\r\n                                <Tab label=\"Заготовки\" value=\"3\" />\r\n                                <Tab label=\"Позиции\" value=\"4\" />\r\n                              </TabList>\r\n                            </Box>\r\n                            <TabPanel value=\"1\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyTextInput label=\"Название\" value={ this.state.editItem.name } func={ this.changeItem.bind(this, 'name') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyTextInput label=\"Короткое название (20 сим.)\" value={ this.state.editItem.short_name } func={ this.changeItem.bind(this, 'short_name') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MySelect data={this.state.types} value={this.state.editItem.type} func={ this.changeItem.bind(this, 'type') } disabled={true} label='Тип' />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MySelect data={this.state.cat_list} value={this.state.editItem.category_id} func={ this.changeItem.bind(this, 'category_id') } label='Категория' />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Код из 1с\" value={ this.state.editItem.art } func={ this.changeItem.bind(this, 'art') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Стол\" value={ this.state.editItem.stol } func={ this.changeItem.bind(this, 'stol') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyTextInput label=\"Вес\" value={ this.state.editItem.weight } func={ this.changeItem.bind(this, 'weight') } />\r\n                                    </Grid>\r\n                                    { parseInt(this.state.editItem.category_id) != 14 ?\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Кол-во кусочков\" value={ this.state.editItem.count_part } func={ this.changeItem.bind(this, 'count_part') } />\r\n                                      </Grid>\r\n                                        :\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Размер пиццы\" value={ this.state.editItem.size_pizza } func={ this.changeItem.bind(this, 'size_pizza') } />\r\n                                      </Grid>\r\n                                    }\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                \r\n\r\n                                { parseInt( this.state.editItem.type ) != 2 ?\r\n                                  <Grid item xs={12}>\r\n                                    <Grid container spacing={3}>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Белки\" value={ this.state.editItem.protein } func={ this.changeItem.bind(this, 'protein') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Жиры\" value={ this.state.editItem.fat } func={ this.changeItem.bind(this, 'fat') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Углеводы\" value={ this.state.editItem.carbohydrates } func={ this.changeItem.bind(this, 'carbohydrates') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={3}>\r\n                                        <MyTextInput label=\"Энергетическая ценность\" value={ this.state.editItem.kkal } func={ this.changeItem.bind(this, 'kkal') } />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                { parseInt( this.state.editItem.type ) != 2 ?\r\n                                  <Grid item xs={12}>\r\n                                    <Grid container spacing={3}>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 1 этап (ММ:СС)\" value={ this.state.editItem.time_stage_1 } func={ this.changeItem.bind(this, 'time_stage_1') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 2 этап (ММ:СС)\" value={ this.state.editItem.time_stage_2 } func={ this.changeItem.bind(this, 'time_stage_2') } />\r\n                                      </Grid>\r\n                                      <Grid item xs={12} sm={4}>\r\n                                        <MyTextInput label=\"Время на 3 этап (ММ:СС)\" value={ this.state.editItem.time_stage_3 } func={ this.changeItem.bind(this, 'time_stage_3') } />\r\n                                      </Grid>\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                    :\r\n                                  null\r\n                                }\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <Typography>Картинка соотношением сторон (3:2) (пример: 600х400) только JPG</Typography>\r\n                                    </Grid>\r\n                                  \r\n\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      { this.state.editItem.img_new.length > 0 ?\r\n                                        <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х400.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                          :\r\n                                        <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                      }\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <div className=\"dropzone\" id=\"for_img_edit_old\" style={{ width: '100%', minHeight: 150 }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <Typography>Картинка соотношением сторон (1:1) (пример: 600х600) только JPG</Typography>\r\n                                    </Grid>\r\n                                  \r\n\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      { this.state.editItem.img_new.length > 0 ?\r\n                                        <img src={'https://storage.yandexcloud.net/site-img/'+this.state.editItem.img_new+'600х600.jpg?'+this.state.editItem.img_new_update} style={{maxWidth: 300, maxHeight: 300}} />\r\n                                          :\r\n                                        <div style={{maxWidth: 300, maxHeight: 300}}/>\r\n                                      }\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <div className=\"dropzone\" id=\"for_img_edit_new\" style={{ width: '100%', minHeight: 150 }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Состав\" value={ this.state.editItem.tmp_desc } func={ this.changeItem.bind(this, 'tmp_desc') } />\r\n                                    </Grid>\r\n                                    <Grid item xs={12}>\r\n                                      <MyTextInput label=\"Маркейтинговое описание\" value={ this.state.editItem.marc_desc } func={ this.changeItem.bind(this, 'marc_desc') } />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyCheckBox label=\"Новинка\" value={ parseInt(this.state.editItem.is_new) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_new') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={6}>\r\n                                      <MyCheckBox label=\"Хит\" value={ parseInt(this.state.editItem.is_hit) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_hit') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                                <Grid item xs={12}>\r\n                                  <Grid container spacing={3}>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"Активность\" value={ parseInt(this.state.editItem.is_show) == 1 ? true : false } func={ this.changeItem.bind(this, 'is_show') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"На сайте\" value={ parseInt(this.state.editItem.show_site) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_site') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                    <Grid item xs={12} sm={4}>\r\n                                      <MyCheckBox label=\"На складе\" value={ parseInt(this.state.editItem.show_program) == 1 ? true : false } func={ this.changeItem.bind(this, 'show_program') } style={{ justifyContent: 'center' }} />\r\n                                    </Grid>\r\n                                  </Grid>\r\n                                </Grid>\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"2\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n                                        { this.state.item_rec.all.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <DehazeIcon onClick={this.openMenu.bind(this, 'rec', item)} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <TableStages title={'1 этап'} type={'rec'} arr={'rec_stage_1'} data={this.state.rec_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'2 этап'} type={'rec'} arr={'rec_stage_2'} data={this.state.rec_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'3 этап'} type={'rec'} arr={'rec_stage_3'} data={this.state.rec_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  </Grid>\r\n                                }\r\n                                \r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"3\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_pf ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={2}>\r\n                                            <MyTextInput label=\"Поиск\" value={ this.state.searchPf } func={ this.searchPf.bind(this) } />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n\r\n                                        { this.state.item_pf_render.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <DehazeIcon onClick={this.openMenu.bind(this, 'pf', item)} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <TableStages title={'1 этап'} type={'pf'} arr={'pf_stage_1'} data={this.state.pf_stage_1} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'2 этап'} type={'pf'} arr={'pf_stage_2'} data={this.state.pf_stage_2} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                    <TableStages title={'3 этап'} type={'pf'} arr={'pf_stage_3'} data={this.state.pf_stage_3} changeData={this.changeData.bind(this)} delItem={this.delItem.bind(this)} />\r\n                                  </Grid>\r\n                                }\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                            <TabPanel value=\"4\">\r\n\r\n                              <Grid container spacing={3}>\r\n\r\n                                { !this.state.item_pf ? null :\r\n                                  <Grid item xs={12} sm={4}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={2}>\r\n                                            <MyTextInput label=\"Поиск\" value={ this.state.searchItems } func={ this.searchItems.bind(this) } />\r\n                                          </TableCell>\r\n                                        </TableRow>\r\n\r\n                                        { this.state.item_items_render.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <AddIcon onClick={this.forwardItem.bind(this, item)} style={{ cursor: 'pointer' }} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                                { !this.state.item_rec ? null :\r\n                                  <Grid item xs={12} sm={8}>\r\n                                    <Table size='small'>\r\n                                      <TableHead>\r\n                                        <TableRow>\r\n                                          <TableCell colSpan={5} style={{ textAlign: 'center' }}>{this.props.title}</TableCell>\r\n                                        </TableRow>\r\n                                        <TableRow>\r\n                                          <TableCell>Название</TableCell>\r\n                                          <TableCell>Количество</TableCell>\r\n                                          <TableCell>Авт. добавление</TableCell>\r\n                                          <TableCell></TableCell>\r\n                                        </TableRow>\r\n                                      </TableHead>\r\n                                      <TableBody>\r\n                                        { this.state.item_items.map( (item, key) =>\r\n                                          <TableRow key={key}>\r\n                                            <TableCell>{item.name}</TableCell>\r\n                                            <TableCell>\r\n                                              <MyTextInput label=\"\" value={item.count} func={ this.changeData.bind(this, 'item', 'item_items', 'count', key) } />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                              <MyCheckBox label=\"\" value={ parseInt(item.is_add) == 1 ? true : false } func={ this.changeData.bind(this, 'item', 'item_items', 'is_add', key) } />\r\n                                            </TableCell>\r\n                                            <TableCell>\r\n                                              <CloseIcon onClick={ this.delItem.bind(this, 'item', '', key) } style={{ cursor: 'pointer' }} />\r\n                                            </TableCell>\r\n                                          </TableRow>\r\n                                        ) }\r\n                                      </TableBody>\r\n                                    </Table>\r\n                                  </Grid>\r\n                                }\r\n\r\n                              </Grid>\r\n\r\n                            </TabPanel>\r\n                          </TabContext>\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n\r\n                      <Menu\r\n                        anchorEl={this.state.anchorEl}\r\n                        open={this.state.openMenu}\r\n                        onClose={this.closeMenu.bind(this)}\r\n                      >\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 1)}>1 этап</MenuItem>\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 2)}>2 этап</MenuItem>\r\n                        <MenuItem onClick={this.chooseStage.bind(this, 3)}>3 этап</MenuItem>\r\n                      </Menu>\r\n\r\n                    </Grid>\r\n                  \r\n                  \r\n                    :\r\n                  null\r\n                }\r\n              </Grid>\r\n              \r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.saveNewItem.bind(this)} color=\"primary\">Сохранить</Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n        \r\n        \r\n        <Grid container spacing={3}>\r\n          <Grid item xs={12} sm={12}>\r\n            <h1>{this.state.module_name}</h1>\r\n          </Grid>\r\n          \r\n          <Grid item xs={12} sm={12}>\r\n            <Button onClick={this.openNew.bind(this)} color=\"primary\" variant='contained'>Новый товар</Button>\r\n          </Grid>\r\n\r\n          <Grid item xs={12}>\r\n          \r\n            { this.state.cats.length == 0 ? null :\r\n\r\n              this.state.cats.map( (cat, key) =>\r\n                <Accordion key={key}>\r\n                  <AccordionSummary\r\n                    expandIcon={<ExpandMoreIcon />}\r\n                  >\r\n                    <Typography>{cat.name}</Typography>\r\n                  </AccordionSummary>\r\n                  <AccordionDetails style={{ width: '100%', overflow: 'scroll' }}>\r\n                    \r\n                    <Table>\r\n                    \r\n                      <TableHead>\r\n                        <TableRow>\r\n                          <TableCell style={{ width: '2%' }}>#</TableCell>\r\n\r\n                          <TableCell style={{ width: '38%' }}>Название</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сортировка</TableCell>\r\n\r\n                          <TableCell style={{ width: '15%' }}>Активность</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Сайт</TableCell>\r\n                          <TableCell style={{ width: '15%' }}>Склад</TableCell>\r\n                        </TableRow>\r\n                      </TableHead>\r\n\r\n                      <TableBody>\r\n                        \r\n                        { cat.items.map( (it, k) =>\r\n                          <TableRow key={k}>\r\n                            <TableCell>{k+1}</TableCell>\r\n                            <TableCell onClick={this.openItem.bind(this, it)}>{it.name}</TableCell>\r\n                            <TableCell>\r\n                              <MyTextInput label=\"\" value={it.sort} func={ this.changeSort.bind(this, key, k) } onBlur={this.saveSort.bind(this, it.id)} />\r\n                            </TableCell>\r\n\r\n                            <TableCell> \r\n                              { parseInt(it.is_show) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.show_site) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n                            <TableCell> \r\n                              { parseInt(it.show_program) == 1 ? <VisibilityIcon /> : <VisibilityOffIcon /> } \r\n                            </TableCell>\r\n\r\n                            \r\n                          </TableRow>           \r\n                        ) }\r\n                      \r\n                      </TableBody>\r\n                    \r\n                    </Table>\r\n\r\n                  </AccordionDetails>\r\n                </Accordion>\r\n              )\r\n              \r\n            }\r\n\r\n          </Grid>\r\n        </Grid>\r\n      </>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport CssBaseline from '@mui/material/CssBaseline';\r\n\r\nimport AppBar from '@mui/material/AppBar';\r\nimport Toolbar from '@mui/material/Toolbar';\r\n\r\nimport List from '@mui/material/List';\r\nimport ListItem from '@mui/material/ListItem';\r\nimport ListItemText from '@mui/material/ListItemText';\r\n\r\nimport Typography from '@mui/material/Typography';\r\nimport Divider from '@mui/material/Divider';\r\nimport IconButton from '@mui/material/IconButton';\r\n\r\nimport Badge from '@mui/material/Badge';\r\nimport Container from '@mui/material/Container';\r\nimport Grid from '@mui/material/Grid';\r\nimport MenuIcon from '@mui/icons-material/Menu';\r\nimport ChevronLeftIcon from '@mui/icons-material/ChevronLeft';\r\nimport NotificationsIcon from '@mui/icons-material/Notifications';\r\n\r\nimport Accordion from '@mui/material/Accordion';\r\nimport AccordionSummary from '@mui/material/AccordionSummary';\r\nimport AccordionDetails from '@mui/material/AccordionDetails';\r\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\r\n\r\nimport { createTheme, ThemeProvider } from '@mui/material/styles';\r\n\r\nimport {\r\n  Routes,\r\n  Route,\r\n  Link,\r\n  useLocation\r\n} from \"react-router-dom\";\r\n\r\nimport TextField from '@mui/material/TextField';\r\nimport Autocomplete from '@mui/material/Autocomplete';\r\n\r\nimport SwipeableDrawer from '@mui/material/SwipeableDrawer';\r\n\r\n//import routes from '../../../server/routes';\r\n\r\nconst queryString = require('query-string');\r\n\r\nimport { Home } from '../home';\r\nimport { Auth } from '../auth';\r\nimport { Reg } from '../registration';\r\n\r\nimport { LiveOrders } from '../live_orders';\r\nimport { Events } from '../events';\r\nimport { RasByBill } from '../ras_by_bill';\r\nimport { CategoryItems } from '../category_items';\r\nimport { VendorModule } from '../vendor_module';\r\n\r\nimport { VendorItemPrice } from '../vendor_item_price';\r\nimport { Tender } from '../tender';\r\nimport { Revizion, RevizionNew } from '../revizion';\r\nimport { WorkSchedule } from '../work_schedule';\r\nimport { SiteSale2, SiteSale2_New, SiteSale2_Edit, SiteSale2_Stat, SiteSale2_StatList } from '../site_sale_2';\r\n\r\nimport { DriveMapStatAll } from '../drive_map_stat_all';\r\nimport { DriverStat } from '../driver_stat';\r\nimport { Concenter } from '../concenter';\r\nimport { SocialNetwork } from '../socialnetwork';\r\nimport { CatWork } from '../cat_work';\r\n\r\nimport { AppWorkPoint } from '../app_work_point';\r\nimport { AppWork } from '../app_work';\r\nimport { AppWorkShow } from '../app_work_show';\r\nimport { SiteStatMarc } from '../site_stat_marc';\r\nimport { AdvertisingCompany } from '../advertising_company';\r\n\r\nimport { RasBillAndCook } from '../ras_bill_and_cook';\r\nimport { SkladItemsModule } from '../sklad_items_module';\r\nimport { SiteUserManager } from '../site_user_manager';\r\nimport { PromoItemsStat } from '../promo_items_stat';\r\nimport { SiteItems } from '../site_items';\r\n\r\nconst theme = createTheme({\r\n    palette: {\r\n      primary: {\r\n        main: '#c03',\r\n      },\r\n      def: {\r\n        main: '#353b48',\r\n        secondary: '#fff'\r\n      },\r\n    },\r\n});\r\n\r\nclass Header extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n        \r\n    this.state = {\r\n      module: 'header',\r\n      \r\n      open: false,\r\n      menu: [],\r\n      full_menu: [],\r\n      \r\n      left: false\r\n    };\r\n  }\r\n  \r\n  async componentDidMount(){\r\n    \r\n    let data = await this.getData('get_all');\r\n    \r\n    this.setState({\r\n      menu: data.info.left_menu,\r\n      full_menu: data.info.full_menu,\r\n    })\r\n  }\r\n  \r\n  getData = (method, data = {}) => {\r\n    return fetch('https://jacochef.ru/api/index_new.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type':'application/x-www-form-urlencoded'},\r\n      body: queryString.stringify({\r\n        method: method, \r\n        module: this.state.module,\r\n        version: 2,\r\n        login: localStorage.getItem('token'),\r\n        data: JSON.stringify( data )\r\n      })\r\n    }).then(res => res.json()).then(json => {\r\n      \r\n      console.log( json )\r\n      \r\n      if( json.st === false && json.type == 'redir' ){\r\n        window.location.pathname = '/';\r\n        return;\r\n      }\r\n      \r\n      if( json.st === false && json.type == 'auth' ){\r\n        window.location.pathname = '/auth';\r\n        return;\r\n      }\r\n      \r\n      return json;\r\n    })\r\n    .catch(err => { \r\n        console.log( err )\r\n    });\r\n  }\r\n  \r\n  handleDrawerOpen(){\r\n    this.setState({\r\n      open: true\r\n    })\r\n  }\r\n  \r\n  handleDrawerClose(){\r\n    this.setState({\r\n      open: false\r\n    })\r\n  }\r\n  \r\n  render(){\r\n    return (\r\n      <>\r\n        <AppBar>\r\n          <Toolbar>\r\n            <IconButton\r\n              edge=\"start\"\r\n              color=\"inherit\"\r\n              aria-label=\"open drawer\"\r\n              onClick={this.handleDrawerOpen.bind(this)}\r\n            >\r\n              <MenuIcon />\r\n            </IconButton>\r\n            <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap style={{ flexGrow: 1 }}>\r\n              Dashboard\r\n            </Typography>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton>\r\n          </Toolbar>\r\n        </AppBar>\r\n        \r\n        \r\n        <React.Fragment >\r\n          <SwipeableDrawer\r\n            anchor={'left'}\r\n            open={ this.state.open }\r\n            onClose={ () => { this.setState({ open: false }) } }\r\n            onOpen={ () => { this.setState({ open: true }) } }\r\n          >\r\n            <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end', padding: 10 }}>\r\n            \r\n              <Autocomplete\r\n                size=\"small\"\r\n                options={this.state.full_menu}\r\n                getOptionLabel={(option) => option.name}\r\n                onChange={(event, newValue) => {\r\n                  if( newValue ){\r\n                    window.location.pathname = \"/\"+newValue.key_query+\"/\";\r\n                  }\r\n                }}\r\n                style={{ width: 300 }}\r\n                renderInput={(params) => <TextField {...params} label=\"Поиск\" variant=\"outlined\" />}\r\n              />\r\n              \r\n              <IconButton onClick={this.handleDrawerClose.bind(this)}>\r\n                <ChevronLeftIcon />\r\n              </IconButton>\r\n            </div>\r\n            <Divider />\r\n            \r\n            { this.state.menu.map( (item, key) =>\r\n              <Accordion key={key} >\r\n                <AccordionSummary\r\n                  expandIcon={<ExpandMoreIcon />}\r\n                  aria-controls=\"panel1a-content\"\r\n                  id=\"panel1a-header\"\r\n                >\r\n                  <Typography>{ item.parent.name }</Typography>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  \r\n                  <List style={{ width: '100%' }}>\r\n                  \r\n                    { item.chaild.map( (it, k) =>\r\n                      <ListItem button key={k}>\r\n                        <Link to={\"/\"+it.key_query+\"/\"}>\r\n                          <ListItemText primary={ it.name } />\r\n                        </Link>\r\n                      </ListItem>\r\n                    ) }\r\n                  \r\n                  </List>\r\n                  \r\n                </AccordionDetails>\r\n              </Accordion>\r\n            ) }\r\n          </SwipeableDrawer>\r\n        </React.Fragment>\r\n        \r\n        \r\n        \r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction Status({ code, children }) {\r\n  return (\r\n    <Route\r\n      render={({ staticContext }) => {\r\n        if (staticContext) staticContext.status = code;\r\n        return children;\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nexport function NotFound() {\r\n  return (\r\n    <Status code={404}>\r\n        <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n            <Grid item xs={12}>\r\n                <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n            </Grid>\r\n            \r\n        </Grid>\r\n    </Status>\r\n  );\r\n}\r\n\r\nexport function App () {\r\n    let history = useLocation();\r\n    let check_header = true;\r\n    \r\n    if( \r\n      history.pathname == '/auth/' || \r\n      history.pathname == '/auth' || \r\n      history.pathname == '/registration/' ||\r\n      history.pathname == '/registration'\r\n    ){\r\n      check_header = false;\r\n    }\r\n    \r\n    return (\r\n      <ThemeProvider theme={theme}>\r\n        <div>\r\n          { !check_header ? null :\r\n            <>\r\n              <CssBaseline />\r\n              <Header />\r\n            </>\r\n          }\r\n          <main style={{flexGrow: 1, overflow: 'auto'}}>\r\n            <Container maxWidth={false} style={{ marginTop: 80 }}>\r\n          \r\n              <Routes>\r\n                \r\n                <Route path={'/'} exact={ true } element={ <Home /> } />\r\n                <Route path={'/auth'} exact={ true } element={ <Auth /> } />\r\n                <Route path={'/registration'} exact={ true } element={ <Reg /> } />\r\n\r\n                <Route path={'/live_orders'} exact={ true } element={ <LiveOrders /> } />\r\n                <Route path={'/events'} exact={ true } element={ <Events /> } />\r\n                <Route path={'/ras_by_bill'} exact={ true } element={ <RasByBill /> } />\r\n                <Route path={'/category_items'} exact={ true } element={ <CategoryItems /> } />\r\n                <Route path={'/vendor_module'} exact={ true } element={ <VendorModule /> } />\r\n\r\n                <Route path={'/vendor_item_price'} exact={ true } element={ <VendorItemPrice /> } />\r\n                <Route path={'/tender'} exact={ true } element={ <Tender /> } />\r\n                <Route path={'/revizion'} exact={ true } element={ <Revizion /> } />\r\n                <Route path={'/revizion/new'} exact={ true } element={ <RevizionNew /> } />\r\n                <Route path={'/work_schedule'} exact={ true } element={ <WorkSchedule /> } />\r\n                <Route path={'/site_sale_2'} exact={ true } element={ <SiteSale2 /> } />\r\n                <Route path={'/site_sale_2/new'} exact={ true } element={ <SiteSale2_New /> } />\r\n                <Route path={'/site_sale_2/edit/:promoId'} exact={ true } element={ <SiteSale2_Edit /> } />\r\n                <Route path={'/site_sale_2/stat'} exact={ true } element={ <SiteSale2_Stat /> } />\r\n                <Route path={'/site_sale_2/stat_list'} exact={ true } element={ <SiteSale2_StatList /> } />\r\n\r\n                <Route path={'/drive_map_stat_all'} exact={ true } element={ <DriveMapStatAll /> } />\r\n                <Route path={'/driver_stat'} exact={ true } element={ <DriverStat /> } />\r\n                <Route path={'/concenter'} exact={ true } element={ <Concenter /> } />\r\n                <Route path={'/socialnetwork'} exact={ true } element={ <SocialNetwork /> } />\r\n                <Route path={'/cat_work'} exact={ true } element={ <CatWork /> } />\r\n\r\n                <Route path={'/app_work_point'} exact={ true } element={ <AppWorkPoint /> } />\r\n                <Route path={'/app_work'} exact={ true } element={ <AppWork /> } />\r\n                <Route path={'/app_work_show'} exact={ true } element={ <AppWorkShow /> } />\r\n                <Route path={'/site_stat_marc'} exact={ true } element={ <SiteStatMarc /> } />\r\n                <Route path={'/advertising_company'} exact={ true } element={ <AdvertisingCompany /> } />\r\n\r\n                <Route path={'/ras_bill_and_cook'} exact={ true } element={ <RasBillAndCook /> } />\r\n                <Route path={'/sklad_items_module'} exact={ true } element={ <SkladItemsModule /> } />\r\n                <Route path={'/site_user_manager'} exact={ true } element={ <SiteUserManager /> } />\r\n                <Route path={'/promo_items_stat'} exact={ true } element={ <PromoItemsStat /> } />\r\n                <Route path={'/site_items'} exact={ true } element={ <SiteItems /> } />\r\n                \r\n                \r\n                <Route\r\n                  component={ () =>\r\n                    <Status code={404}>\r\n                      <Grid container className=\"Contact mainContainer MuiGrid-spacing-xs-3\" style={{ marginTop: 64 }}>\r\n                        <Grid item xs={12}>\r\n                          <Typography variant=\"h5\" component=\"h1\">404 Страница не найдена</Typography>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Status>\r\n                  }\r\n                />\r\n\r\n              </Routes>\r\n\r\n            </Container>\r\n          </main>\r\n        </div>\r\n      </ThemeProvider>\r\n    );\r\n}","import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\n\r\nimport { App } from './components/app';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst container = document.getElementById('app');\r\nconst root = createRoot(container);\r\n\r\nroot.render(<BrowserRouter><App/></BrowserRouter>);","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360217\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359750\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359874\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360186\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359880\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359821\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359883\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359825\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359866\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359853\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359868\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359842\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359832\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359857\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360192\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360140\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359847\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359836\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359850\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360220\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359860\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360136\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360189\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360143\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359878\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584360285\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359829\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359839\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","// extracted by mini-css-extract-plugin\nexport {};\n    if(module.hot) {\n      // 1654584359871\n      var cssReload = require(\"../../../node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"names":["queryString","require","Home","props","method","data","setState","is_load","fetch","headers","body","stringify","module","state","version","login","localStorage","getItem","JSON","then","res","json","setTimeout","err","console","log","module_name","points","point","showReady","read","onstol","ordersQueue","Backdrop","style","zIndex","open","this","CircularProgress","color","container","spacing","item","xs","sm","height","React","Auth","st","type","window","location","pathname","modalDialog","dialogTitle","dialogText","point_id","getData","prestol_new","document","getElementById","value","pwd","text","setItem","token","Dialog","onClose","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","autoFocus","direction","justifyContent","alignItems","md","lg","xl","display","flexDirection","Avatar","borderRadius","width","margin","backgroundColor","alt","src","noValidate","TextField","variant","size","required","fullWidth","label","name","autoComplete","marginTop","marginBottom","auth","bind","href","Reg","activeStep","steps","phone","code","event","charCode","nextStep","Stepper","alternativeLabel","map","Step","key","StepLabel","onKeyPress","enterNextStep","MyDaterange","LocalizationProvider","dateAdapter","AdapterDateFns","locale","ruLocale","DateRangePicker","D","allowSameDateSelection","showTodayButton","startText","endText","inputFormat","mask","onChange","func","renderInput","startProps","endProps","MyAutocomplite","Stack","Autocomplete","disableCloseOnSelect","options","getOptionLabel","option","filterSelectedOptions","multiple","isOptionEqualToValue","parseInt","params","placeholder","MySelect","FormControl","InputLabel","Select","disabled","MenuItem","MyTextInput","onBlur","multiline","maxRows","MyTimePicker","thisVal","target","InputLabelProps","shrink","step","inputProps","MyDatePickerNew","DatePicker","date","d","Date","month","getMonth","day","getDate","year","getFullYear","length","join","MyCheckBox","FormGroup","row","FormControlLabel","control","Checkbox","checked","TextEditor","apiKey","menubar","plugins","toolbar","content_style","LiveOrders","point_list","module_info","title","updateData","changePoint","changeCheckOrders","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","TableBody","type_order","preorder","date_time_order","date_time_preorder_","unix_start_stol_or","give_data_time_","close_date_time_order","type_","time_","test_time","unix_time_to_client","status","stol_sborki","is_preorder","date_time_preorder","time_start_order","time_end_order","Events","mounth","mounths","years","calendar","chooseDayHoly","events","chooseEvent","eventPoint1","everyYear1","timeStart2","timeEnd2","expanded","dayEvents","events_hist","this_m","this_y","m","y","full_day","chooseDay","holy","hist","this_events","every_year","time_start","time_end","alert","confirm","del_id","paddingBottom","paddingTop","changeEvent","changePoint1","changeTimeStart2","changeTimeEnd2","changeEveryYear1","List","ListItem","ListItemText","primary","Close","delEvent","cursor","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","save","changeMounth","changeYear","padding","textAlign","overflow","m_key","k","dir","className","formatDate","RasByBill","date_start","date_end","rangeDate","items","cats","items_cat","item_cat","myItems","start_date","end_date","summ","items_ras","parseFloat","sum","resItems","pf_ras","rec_ras","full_sum","toFixed","catItems","this_price","count_pos","changeDateRange","changeItems","getItems","getCats","count_item","ei_name","count_pf","ei_name_pf","count_bill","pf_name","count_rolls","price_rolls","count_pizza","price_by_items","parent_cat","it","paddingLeft","parent_items","parent_key","marginRight","CategoryItems","modalDialog2","modalDialog3","newMainCatMy","editMainCatMy","newMainNameMy","editMainNameMy","editCat","allCats","allItems","thisValItems","thisDataItems","thisCatId","cat_id","myVal","filter","cat","parent_id","changeCatMain","changeNameMain","saveCat","val","saveItems","changeCatMainEdit","changeNameMainEdit","saveEditCat","createCat","main_cat","main_key","Menu","addItems","VendorModule","modalItems","modalVendor","modalVendorNew","vendors","vendor_items","openVendor","customAdd","vendorCities","allCities","nds","nds_","cities","city","item_id","vendor","vendor_id","all_items","vendor_cities","all_cities","addr","bill_ex","email","email_2","inn","min_price","need_img_bill_ex","ogrn","includes","this_items","find","push","item_name","item1","addItem","maxWidth","paddingRight","Add","addItemCustom","sort","changeSort","changeNDS","delItem","saveVendorItems","testChange","user","saveVendor","addVendor","changeCity","openModalVendorNew","Visibility","openModalVendor","DirectionsCar","openModalItems","is_show","VisibilityOff","VendorItemPrice","allCity","isPrioriti","city_id","all_city","is_prioriti","changeVendor","name_for_vendor","comment","update","full_price","pqs","rec_pq","price","dynamicCellStyle","colDef","headerName","borderRight","Tender","testTable","myVendors","showVendors","params_api","params_columnApi","table","k1","section","k2","k3","tableItem","k4","item_price","vendor_price","item_ras","ras","field","api","columnApi","show","AgGridReact","onGridReady","onCellClicked","rowData","AgGridColumn","pinned","cellClassRules","hide","resizable","cellStyle","TabPanel","children","index","other","role","hidden","sx","p","a11yProps","propTypes","PropTypes","Revizion","revList","chooseRev","search","pf","rec","items_b","pf_b","rec_b","all_data","chooseTab","get_data_for_new_rev","getRevList","getDataRev","toLowerCase","rev_id","to","changeRev","Tabs","textColor","indicatorColor","centered","Tab","RevizionNewItem","change","nextProps","nextState","counts","need_pq","itemKey","clear","copy","RevizionNew","storages","key_item","key_data","allVal","titleDialog","new_counts","checkData","saveData","copyData","clearData","SwipeableDrawer","anchor","onOpen","button","position","bottom","left","right","elevation","BottomNavigation","showLabels","BottomNavigationAction","newValue","icon","Restore","HeaderItem","minWidth","minHeight","lv_cafe","kind","days","dataKey","changeDopBonus","bonus_other","fontSize","changeLVDir","lv_dir","show_zp","colSpan","WorkSchedule","one","two","test_one","test_two","isOpenModalH","userInfo","hList","mList","newTimeStart","newTimeEnd","openNewTimeAdd","otherAppList","otherApp","testVal","testOpen","mainMenu","mainMenuH","mainMenuSmena","show_bonus","mainMenuPrice","mainMenuLVDIR","mainMenuDopBonus","show_zp_one","show_zp_two","myOtherSmens","chooseUser","tabTable","arr_dir_lv","h","is_active","i","this_date","smena_id","app_id","user_id","h_info","other_app","key_time","hours","new_app","mentor_id","new_smena_id","part","LV","dir_lv","full_app_name","user_name","pt","ListItemAvatar","AccessTime","other_smens","SyncAlt","HomeWork","fastTime","LooksOne","LooksTwo","Looks3","fastSmena","Assessment","price_arr","changePriceH","price_p_h","newLvDir","Check","scroll","app_name","dividers","my_load_h","all_load_h","bonus","mentor_list","addTime","delTime","changeHourse","saveDayHourse","borderBottom","borderColor","marginLeft","dates","date_k","openH","info","dop_bonus","h_price","err_price","my_bonus","dir_price_dop","given","TableFooter","order_stat","count_false","MyDatePicker","format","formatDateDot","formatDateName","SiteSale2_new_","click","modalText","modalLink","where_promo_list","promo_action_list","sale_list","promo_conditions_list","promo_sale_list","type_sale_list","date_promo_list","type_order_list","where_order_list","promo_prizw_vk","spamNameSMS","auto_text","where_promo","promo_name","generate_new","count_action","promo_action","type_sale","promo_sale","sale_type","promo_conditions","price_start","price_end","date_promo","promo_length","promo_count","day_1","day_2","day_3","day_4","day_5","day_6","day_7","where_order","numberList","promo_desc_true","promo_desc_false","textSMS","addItemCount","addItemPrice","addItemAllPrice","itemsAdd","itemsAddPrice","saleCat","saleItem","priceItem","conditionItems","testDate","createdPromo","Y","M","fullDate","generateTextDescFalse","generateTextDescTrue","count_promo","promo_items","promo_cat","dateList","toISOString","split","promo_vk_prize","cert_text","promo_len","generate","promo_in_count","promo_type_sale","promo_type","promo_summ","promo_summ_to","promo_when","promo_type_order","promo_where","promo_city","promo_point","about_promo_text","condition_promo_text","promo_items_add","promo_items_sale","promo_conditions_items","date_between","text_err","promo_text","link","thisDay","nextDay","setDate","textTrue","substring","itemText","dop_text","slice","textFalse","thisItems","thisItem","count","newItems","changeData","changeDataCheck","Divider","changeDataData","addItemAdd","delItemAdd","priceItemAdd","delItemPrice","TextareaAutosize","minRows","SiteSale2_edit_","promo_id","promoId","promo","parse","findItem","limDate","limit","date1","date2","time1","time2","d1","d2","d3","d4","d5","d6","d7","coment","condition_text","SiteSale2_","city_list","promoName","findPromoList","all_city_list","showPromoList","city_name","def_count","delPromo","SiteSale2_Stat_","spam_list","spam_id","spam_list_data","spam_list_data_stat","true","all","percent","stat","changeSpam","number","SiteSale2_StatList_","promo_list","dateStart","dateEnd","getUsers","is_delete","SiteSale2_New","SiteSale2_Edit","useParams","SiteSale2","SiteSale2_Stat","SiteSale2_StatList","DriveMapStatAll","drivers","getOrders","orders","home","objectManager","ymaps","ObjectManager","features","preset","iconColor","geometry","coordinates","latitude","longitude","status_order","point_color","properties","iconCaption","point_text","xy","add","driver","positions","pos","iconContent","geoObjects","removeAll","ready","Map","center","zoom","searchControlProvider","myGeoObject","GeoObject","driver_name","DriverStat","drive_stat_full","drive_stat_date","choose_driver_id","check_cash","getSumm","modalDialogGetSumm","getSummDriverId","getSummComment","modalDialogStatSumm","modalDialogStatSummMain","statSumm","statSummMain","stat_drive_date","driver_id","changeSumm","saveGivePrice","saveGetPrice","date_time","order_id","my_cash","give","changeDate","full_cash","full_bank","count_cash","count_bank","sdacha","give_by_date","getStatDop","fontWeight","dop_price","err_summ","my_price","getStatDopMain","my_orders","my","ost_cash","giveCash","getCash","unic_users","short_name","order","order_k","check","Concenter","typeDel","modalDialogDel","need_point_list","indexTab","ordersRender","showOrder","radiogroup_options","textDel","need_points","filterNumber","deltype","typeCreate","ans","type_check","check_pos","prompt","isNaN","renderOrders","indexOf","street","type_order_addr_new","time_order_name","time_order","delete_reason","date_time_delete","text_time","time_to_client","textTime","sum_order","check_pos_drive","order_items","order_items_","ButtonGroup","disableElevation","disableRipple","closeOrder","type_order_","fakeUser","RadioGroup","changeAddr","Radio","onFocus","changeText","delOrder","closeOrderTrue","changeNumber","changeAddrSt","btnGetOrders","dist","type_user","need_time","give_data_time","close_order","to_time","order_price","type_pay","SocialNetwork","cityList","dataInfo","file","vk","inst","ok","tg","fb","file1","formData","FormData","append","axios","response","error","files","handleFileInput","CatWork","modalDialogNew","nameCat","editText","nameCatNew","editTextNew","config","readonly","showCat","saveNew","openCat","AppWorkPoint","apps","allList","allListRender","thisList","getWorks","all_work","this_work","checkList","Titem","newArr","Aitem","time_min","dop_time","new_arr","fake_item","list","changeApp","Send","changeDopTime","del","AppWork","items_min","dows","types","itemsEdit","nameWork","itemsNew","chengeItem1","chengeItemNew1","dow","work","times_add","times_close","work_id","time_action","chengeItem","type_new","max_count","description","type_time","chengeTime","chengeTimeClose","saveEdit","chengeItemNew","chengeTimeNew","delTimeNew","addTimeNew","chengeTimeCloseNew","openNewWork","openWork","work_name","dow_name","times_open","is_not_del","changeCheck","is_need","AppWorkShow","showItems","activeTab","cat_name","show_time","dangerouslySetInnerHTML","__html","text_work","changeTab","need_work_name","SiteStatMarc","is_show_adv","show_stat_roll","show_stat_set","show_stat_pizza","choosePoint","newUsersTable","countOrdersTable","avgSumm","countPos","fakeUsers","roll_stat","set_stat","pizza_stat","typesShow","typeShow","colors","advData","new_users","count_orders","avg_summ","fake_users","renderGraphNewUsers","renderGraphOrders","renderGraphAvgSumm","renderCountPos","renderGraphNewUsersD","renderGraphOrdersD","renderGraphAvgSummD","renderCountPosD","MyData","chartnewusers","dispose","root","am5","Root","setThemes","am5themes_Animated","chart","am5xy","XYChart","panY","wheelY","layout","verticalLayout","data_site","data_center","data_all","site","getTime","yAxis","yAxes","ValueAxis","extraTooltipPrecision","renderer","AxisRendererY","xAxis","xAxes","DateAxis","baseInterval","timeUnit","startLocation","endLocation","AxisRendererX","minGridDistance","createSeries","series","SmoothedXLineSeries","valueYField","valueXField","tooltip","Tooltip","maskBullets","bullets","Bullet","sprite","Circle","radius","fill","get","strokes","template","set","setAll","XYCursor","behavior","themeTags","chartnewusersD","date_new","chartorders","data_pic","data_dev","data_hall","pic","dev","hall","chartordersD","dateFormatter","dateFormat","dateFields","yAxis2","CategoryAxis","categoryField","inversed","strokeWidth","adv_data","category","columnSettings","series2","ser_settings","openValueXField","categoryYField","sequencedInterpolation","ColumnSeries","columns","templateField","strokeOpacity","tooltipText","opacity","processor","DataProcessor","createSeries2","chartavgsumm","chartavgsummD","chartcountpos","data_pizza","data_rolls","chartcountposD","changeChekBox","lost_users","ret_users","showStat","AdvertisingCompany","adv_actual","adv_old","points_filter","showItem","getAdvList","delAdv","RasBillAndCook","rev_list","rev","key_cat","count_rev","count_ras","count_res","SkladItemsModule","modalItemEdit","modalItemNew","itemEdit","itemName","checkArtDialog","checkArtList","freeItems","searchItem","items_free","main_item_id","this_storages","art","saveEditItem","saveNewItem","saveItem","chooseArt","changeItem","pf_list","pf_id","max_count_in_m","pq","ed_izmer","ed_izmer_id","time_dop_min","time_min_other","los_percent","vend_percent","w_pf","w_trash","w_item","two_user","checkArt","checkArtNew","openModalItemNew","show_in_rev","changeTableItem","showEditItem","storage_name","handle_price","SiteUserManager","autoProcessQueue","autoQueue","maxFiles","timeout","parallelUploads","acceptedFiles","addRemoveLinks","url","point_list_render","app_list","users","editUser","modalUserEdit","modalUserNew","delModal","graphModal","graphType","sortPoint","myDropzone","Dropzone","dropzoneOptions","points_render","is_graph","isInit","on","xhr","file_type","getOrientation","orientation","check_img","processQueue","is_graph_","sms","callback","reader","FileReader","onload","view","DataView","result","getUint16","byteLength","offset","marker","getUint32","little","tags","readAsArrayBuffer","saveEditUser","fam","otc","birthday","maxHeight","auth_code","acc_to_kas","appointment","history","date_time_update","update_name","point_name","saveNewUser","openNewUser","openEditUser","PromoItemsStat","stats","chooseItem","items_list","val2","chooseData","chooseDataNew","getStat","TableStages","arr","SiteItems","editItem","item_rec","item_pf","item_items_all","modalEdit","modalNew","cat_list","ItemTab","anchorEl","openMenu","openMenuType","openMenuitem","rec_stage_1","rec_stage_2","rec_stage_3","pf_stage_1","pf_stage_2","pf_stage_3","item_items","myDropzoneOld","myDropzoneNew","is_snack","textSnack","searchPf","item_pf_render","searchItems","item_items_render","items_pf_stages_1","items_pf_stages_2","items_pf_stages_3","items_rec_stages_1","items_rec_stages_2","items_rec_stages_3","items_items","stage_1","stage_2","stage_3","is_add","stol","currentTarget","stage","this_item","closeMenu","splice","dropzone","openSnack","mockFileOld","dataURL","emit","mockFileNew","data_to_render","action","IconButton","closeSnack","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","message","closeEdit","TabContext","TabList","category_id","weight","count_part","size_pizza","protein","fat","carbohydrates","kkal","time_stage_1","time_stage_2","time_stage_3","img_new","img_new_update","tmp_desc","marc_desc","is_new","is_hit","show_site","show_program","Dehaze","forwardItem","chooseStage","closeNew","openNew","openItem","saveSort","theme","createTheme","palette","main","def","secondary","Header","menu","full_menu","left_menu","AppBar","Toolbar","edge","handleDrawerOpen","noWrap","flexGrow","Badge","badgeContent","Notifications","key_query","handleDrawerClose","ChevronLeft","parent","chaild","Status","render","staticContext","App","useLocation","check_header","ThemeProvider","CssBaseline","Container","path","exact","element","createRoot","cssReload","hot","accept","undefined"],"sourceRoot":""}